{
  "schemas": {
    "IShoppingUser.IRequest": {
      "type": "object",
      "properties": {
        "username": {
          "type": "string",
          "description": "The unique username assigned to the user for authentication and identification purposes. This should align with the username field in the users table of the schema, and must be unique system-wide.\n\nReferenced in user search and filter operations. Example: 'john_doe123'."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address used for contact, authentication, and notifications. Must be unique system-wide, as enforced by the users table. Can be used for search, filter, or batch queries.\n\nExample: 'user@example.com'."
        },
        "status": {
          "type": "boolean",
          "description": "Whether to filter users based on their active status (is_active field in the users table). True returns only active users, false only inactive.\n\nTypical values: true or false."
        },
        "organization_id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier for filtering users by organization (multi-tenancy), aligning with the users.organization_id field.\n\nExample: 'c19e1d72-f1d5-4e41-9f1c-4a5bb1db2abc'."
        },
        "role_id": {
          "type": "string",
          "format": "uuid",
          "description": "UUID for filtering users by assigned role. Links to users.role_id field, allowing RBAC-based searches and filters."
        },
        "created_from": {
          "type": "string",
          "format": "date-time",
          "description": "Lower bound for filtering users created after this timestamp. Maps to users.created_at. Use in range queries for onboarding or analytics."
        },
        "created_to": {
          "type": "string",
          "format": "date-time",
          "description": "Upper bound for filtering users created before this timestamp. Maps to users.created_at."
        },
        "updated_from": {
          "type": "string",
          "format": "date-time",
          "description": "Lower bound to filter users updated after this timestamp (users.updated_at field)."
        },
        "updated_to": {
          "type": "string",
          "format": "date-time",
          "description": "Upper bound to filter users updated before this timestamp (users.updated_at field)."
        },
        "page": {
          "type": "integer",
          "description": "Pagination parameter: page number, starting from 1. Enables scalable queries across large datasets."
        },
        "pageSize": {
          "type": "integer",
          "description": "Pagination size: number of users to return per page. Used in conjunction with 'page'. Default/system limit may be enforced."
        },
        "sortBy": {
          "type": "string",
          "description": "Name of the column to sort by, such as 'username', 'email', 'created_at', or others permitted by API."
        },
        "sortOrder": {
          "oneOf": [
            {
              "const": "asc",
              "description": "Sort order for listed users: ascending ('asc') or descending ('desc')."
            },
            {
              "const": "desc",
              "description": "Sort order for listed users: ascending ('asc') or descending ('desc')."
            }
          ],
          "description": "Sort order for listed users: ascending ('asc') or descending ('desc')."
        }
      },
      "description": "Parameters for advanced user search, filtering, and pagination as required by users table operations. Each property aligns with a column in the users table or is used for controlling result presentation. Designed for admin and compliance use cases.\n\nSupports future extensibility – new filters/defaults may be added as the business evolves.",
      "required": []
    },
    "IPageIShoppingUser.ISummary": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingUser.ISummary"
          },
          "description": "The array of user summary objects for the current page."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated response container for user summary list queries. Compliant with IPage standard."
    },
    "IShoppingUser.ISummary": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier for the user (users.id)."
        },
        "username": {
          "type": "string",
          "description": "Unique username (users.username)."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "Email address (users.email)."
        },
        "is_active": {
          "type": "boolean",
          "description": "Account active status (users.is_active)."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of user creation (users.created_at)."
        },
        "role_id": {
          "type": "string",
          "format": "uuid",
          "description": "UUID for assigned role (users.role_id)."
        },
        "organization_id": {
          "type": "string",
          "format": "uuid",
          "description": "Organization UUID this user belongs to (users.organization_id)."
        }
      },
      "required": [
        "id",
        "username",
        "email",
        "is_active",
        "created_at",
        "role_id"
      ],
      "description": "Summary view of user entity for paginated/user list results, omitting sensitive details."
    },
    "IShoppingUser": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "System-assigned unique identifier for the user. Maps to users.id.\n\nUsed for all downstream referencing, audit logging, and RBAC in the system."
        },
        "organization_id": {
          "type": "string",
          "format": "uuid",
          "description": "Organization UUID this user belongs to (users.organization_id).\n\nUsed for multi-tenant boundary enforcement. Optional if single-tenant."
        },
        "role_id": {
          "type": "string",
          "format": "uuid",
          "description": "The role UUID assigned to the user, referencing the access scope and permitted actions (users.role_id).\n\nDetermines RBAC privileges; required for onboarding and access."
        },
        "username": {
          "type": "string",
          "description": "Unique user-facing account name. users.username must be unique platform-wide, case-insensitive.\n\nInput validated for allowed characters. Example: 'steve_82'."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "User's primary email address. Required for communication, recovery, login (users.email).\n\nMust be unique and well-formed."
        },
        "phone": {
          "type": "string",
          "description": "Optional mobile or phone number for multi-channel authentication, recovery, or contact (users.phone).\n\nCan be null if not provided. Format is international, e.g. '+821012345678'."
        },
        "is_active": {
          "type": "boolean",
          "description": "Indicates if the account is enabled (users.is_active). False disables login and automation."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "When the user was created (users.created_at). Evidence for onboarding and audit."
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp for the last update to user record (users.updated_at)."
        },
        "deleted_at": {
          "type": "string",
          "format": "date-time",
          "description": "Soft delete timestamp for regulatory compliance (users.deleted_at).\n\nNull means active; when set, user is blocked but record is preserved for evidence."
        },
        "user_profiles": {
          "$ref": "#/components/schemas/IShoppingUserProfile"
        },
        "sessions": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingSession"
          }
        }
      },
      "required": [
        "id",
        "role_id",
        "username",
        "email",
        "is_active",
        "created_at",
        "updated_at"
      ],
      "description": "Full normalized user object matching the users table. Excludes sensitive credentials and secrets; includes core, audit, and reference metadata.\n\nDescriptive documentation aligned to schema comments. Relationships (user_profiles, sessions) are $ref to named types only."
    },
    "IShoppingUser.ICreate": {
      "type": "object",
      "properties": {
        "organization_id": {
          "type": "string",
          "format": "uuid",
          "description": "Assigns user to an organization (users.organization_id). Required for multi-tenancy."
        },
        "role_id": {
          "type": "string",
          "format": "uuid",
          "description": "Assigned role for onboarding user (users.role_id). System must validate the role exists and is permissible for creator."
        },
        "username": {
          "type": "string",
          "description": "Username (users.username). Must be unique and valid per schema constraints."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "Email address (users.email). Unique and valid; required for onboarding."
        },
        "phone": {
          "type": "string",
          "description": "Optional phone for multi-channel contact (users.phone). May be omitted or null."
        },
        "password": {
          "type": "string",
          "format": "password",
          "description": "Raw password for account creation – never stored in DB, only used for input; API hashes before assigning to users.password_hash."
        }
      },
      "required": [
        "role_id",
        "username",
        "email",
        "password"
      ],
      "description": "Required and optional fields to create a new user entity, as documented in users table. Password is for input only and never stored in clear text.\n\nAssigns role and organization at onboarding. Validations per table constraints; events are audit-logged."
    },
    "IShoppingUser.IUpdate": {
      "type": "object",
      "properties": {
        "organization_id": {
          "type": "string",
          "format": "uuid",
          "description": "Update organization assignment (users.organization_id). Business validation required."
        },
        "role_id": {
          "type": "string",
          "format": "uuid",
          "description": "Role reassignment (users.role_id). Must be allowed for updater."
        },
        "username": {
          "type": "string",
          "description": "Update username (users.username). Enforces uniqueness constraints."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "Change email address (users.email). Unique/email validation as per onboarding."
        },
        "phone": {
          "type": "string",
          "description": "Update phone number (users.phone). Format as per onboarding; optional."
        },
        "is_active": {
          "type": "boolean",
          "description": "Update active status (users.is_active). Set to false to deactivate."
        },
        "deleted_at": {
          "type": "string",
          "format": "date-time",
          "description": "Set deletion timestamp (users.deleted_at), when deactivating or soft-deleting."
        }
      },
      "description": "Permitted fields for updating an existing user entity. All fields optional except for at least one required (business logic).\n\nConstraints and validation must be enforced against schema.",
      "required": []
    },
    "IShoppingUserProfile.IRequest": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "User UUID to filter by (user_profiles.user_id)."
        },
        "locale_id": {
          "type": "string",
          "format": "uuid",
          "description": "Locale UUID for filtering (user_profiles.locale_id)."
        },
        "full_name": {
          "type": "string",
          "description": "Partial or full-match string for searching user full name (user_profiles.full_name)."
        },
        "timezone": {
          "type": "string",
          "description": "Filter profiles by timezone (user_profiles.timezone)."
        },
        "a11y_prefs": {
          "type": "string",
          "description": "Filter for profiles with a given accessibility configuration (user_profiles.a11y_prefs)."
        },
        "created_from": {
          "type": "string",
          "format": "date-time",
          "description": "Lower bound of profile creation (user_profiles.created_at)."
        },
        "created_to": {
          "type": "string",
          "format": "date-time",
          "description": "Upper bound of profile creation."
        },
        "page": {
          "type": "integer",
          "description": "Pagination: which page to return."
        },
        "pageSize": {
          "type": "integer",
          "description": "Number of profiles per page."
        },
        "sortBy": {
          "type": "string",
          "description": "Property to sort results by."
        },
        "sortOrder": {
          "oneOf": [
            {
              "const": "asc",
              "description": "Sort order: ascending or descending."
            },
            {
              "const": "desc",
              "description": "Sort order: ascending or descending."
            }
          ],
          "description": "Sort order: ascending or descending."
        }
      },
      "description": "UserProfile search, filtering, and pagination parameters. Each property is mapped to the user_profiles schema and documentation.\n\nAllows fine-grained queries for admin, compliance, and analytics use cases.",
      "required": []
    },
    "IPageIShoppingUserProfile.ISummary": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingUserProfile.ISummary"
          },
          "description": "An array of summarized user profile objects for each page."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated response for summary listing of user profiles. Implements evidence and compliance reporting with IPage pattern."
    },
    "IShoppingUserProfile.ISummary": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique profile identifier (user_profiles.id)."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Associated user UUID (user_profiles.user_id)."
        },
        "full_name": {
          "type": "string",
          "description": "Profile full name (user_profiles.full_name)."
        },
        "avatar_url": {
          "type": "string",
          "description": "Avatar image URI (user_profiles.avatar_url)."
        },
        "timezone": {
          "type": "string",
          "description": "User timezone preference (user_profiles.timezone)."
        }
      },
      "required": [
        "id",
        "user_id",
        "full_name"
      ],
      "description": "Summary representation of a user profile entity, for list and batch queries."
    },
    "IShoppingUserProfile": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Profile UUID (user_profiles.id)."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Belonged user's ID (user_profiles.user_id)."
        },
        "locale_id": {
          "type": "string",
          "format": "uuid",
          "description": "Locale (I18N) associated with profile (user_profiles.locale_id)."
        },
        "full_name": {
          "type": "string",
          "description": "Display full name (user_profiles.full_name)."
        },
        "avatar_url": {
          "type": "string",
          "description": "Profile image/URI (user_profiles.avatar_url)."
        },
        "timezone": {
          "type": "string",
          "description": "Timezone code (user_profiles.timezone). E.g. 'Asia/Seoul'."
        },
        "bio": {
          "type": "string",
          "description": "Short biography or profile text (user_profiles.bio)."
        },
        "a11y_prefs": {
          "type": "string",
          "description": "Serialized accessibility preferences (user_profiles.a11y_prefs), e.g., a11y config for screen readers."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Profile creation timestamp (user_profiles.created_at)."
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Last update timestamp (user_profiles.updated_at)."
        }
      },
      "required": [
        "id",
        "user_id"
      ],
      "description": "Full user profile entity with all core and a11y/multicultural fields, referencing user_profiles table.\n\nDesigned for extensibility to accessibility and localization use cases. Relationships are referenced by UUID."
    },
    "IShoppingUserProfile.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Belonged user's ID (user_profiles.user_id)."
        },
        "locale_id": {
          "type": "string",
          "format": "uuid",
          "description": "Preferred locale; assignable on creation (user_profiles.locale_id)."
        },
        "full_name": {
          "type": "string",
          "description": "Full name, optional unless required by business rule (user_profiles.full_name)."
        },
        "avatar_url": {
          "type": "string",
          "description": "Profile image/URI (user_profiles.avatar_url). May be omitted/null."
        },
        "timezone": {
          "type": "string",
          "description": "Preferred timezone (user_profiles.timezone)."
        },
        "bio": {
          "type": "string",
          "description": "Profile bio/info (user_profiles.bio). May be omitted."
        },
        "a11y_prefs": {
          "type": "string",
          "description": "Accessibility configuration to assign at profile creation (user_profiles.a11y_prefs). Optional."
        }
      },
      "required": [
        "user_id"
      ],
      "description": "Fields to create a new user profile, mapped to user_profiles schema. References to user, locale, and a11y are UUIDs or serialized config objects."
    },
    "IShoppingUserProfile.IUpdate": {
      "type": "object",
      "properties": {
        "locale_id": {
          "type": "string",
          "format": "uuid",
          "description": "Assign or update preferred locale (user_profiles.locale_id)."
        },
        "full_name": {
          "type": "string",
          "description": "Update displayed full name."
        },
        "avatar_url": {
          "type": "string",
          "description": "Update avatar URI (user_profiles.avatar_url)."
        },
        "timezone": {
          "type": "string",
          "description": "Update preferred timezone code."
        },
        "bio": {
          "type": "string",
          "description": "Update profile biography string."
        },
        "a11y_prefs": {
          "type": "string",
          "description": "Update accessibility config (user_profiles.a11y_prefs)."
        }
      },
      "description": "Editable fields for updating a user profile entity, referencing user_profiles table.\n\nSupports accessibility, localization, and business personalization flows.",
      "required": []
    },
    "IShoppingOrganization.IRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Organization name for search/filter (organizations.name)."
        },
        "code": {
          "type": "string",
          "description": "Organization code/slug (organizations.code)."
        },
        "created_from": {
          "type": "string",
          "format": "date-time",
          "description": "Filter organizations created after this timestamp."
        },
        "created_to": {
          "type": "string",
          "format": "date-time",
          "description": "Filter organizations created before this timestamp."
        },
        "page": {
          "type": "integer",
          "description": "Pagination: which page to return."
        },
        "pageSize": {
          "type": "integer",
          "description": "Number of results per page."
        },
        "sortBy": {
          "type": "string",
          "description": "Field to sort by."
        },
        "sortOrder": {
          "oneOf": [
            {
              "const": "asc",
              "description": "Sort order: asc or desc."
            },
            {
              "const": "desc",
              "description": "Sort order: asc or desc."
            }
          ],
          "description": "Sort order: asc or desc."
        }
      },
      "description": "Search/filter and pagination parameters for organizations list queries, mapping directly to organizations table in schema.",
      "required": []
    },
    "IPageIShoppingOrganization.ISummary": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingOrganization.ISummary"
          },
          "description": "Paginated organization summary objects."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paged response container for organization summary queries, mapping to schema and requirements."
    },
    "IShoppingOrganization.ISummary": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Organization unique ID (organizations.id)."
        },
        "name": {
          "type": "string",
          "description": "Organization display/legal name (organizations.name)."
        },
        "code": {
          "type": "string",
          "description": "Organization code/slug (organizations.code)."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of organization creation (organizations.created_at)."
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp for last organization update (organizations.updated_at)."
        }
      },
      "required": [
        "id",
        "name",
        "code",
        "created_at",
        "updated_at"
      ],
      "description": "Summary details for organization entities, for list and batch consumption, omitting internal/sensitive fields."
    },
    "IPage.IPagination": {
      "type": "object",
      "properties": {
        "current": {
          "type": "integer",
          "format": "int32",
          "description": "Current page number (1-based index).\nImplements paging best practices for compliance and navigation analytics."
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "description": "Result count per page (default 100).\nCan be adjusted for tuneable navigation/"
        },
        "records": {
          "type": "integer",
          "format": "int32",
          "description": "Total record count available according to last query.\nNeeded for analytics and compliance data disclosures."
        },
        "pages": {
          "type": "integer",
          "format": "int32",
          "description": "Total number of available pages (ceil(records/limit)).\nAids navigation, compliance export/analytics, and evidence of completeness."
        }
      },
      "required": [
        "current",
        "limit",
        "records",
        "pages"
      ],
      "description": "Page information for paginated responses as per standard IPage contract used across the API suite.\nImplements evidence preservation and completeness tracking (see requirements)."
    },
    "IShoppingOrganization": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary Key. Unique org record.\n\nReferences: Prisma organizations.id column.\n\nUsed for uniquely identifying each organization. All relationships to users, roles, and reports reference this ID. Not editable after creation."
        },
        "name": {
          "type": "string",
          "description": "Organization Name.\n\nReferences: organizations.name.\n\nDisplay/legal name for this organization. Must be unique system-wide. Used for multi-tenancy boundaries. Required for onboarding, display in UI, and regulatory reporting. Example: 'Acme Corp'."
        },
        "code": {
          "type": "string",
          "description": "Organization Code.\n\nReferences: organizations.code.\n\nShort, unique code/slug for B2B/APIs and internal logic. Must be unique. Used for multi-tenancy, APIs, and automation. Example: 'ACMEC'. Not duplicated elsewhere."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Created Timestamp.\n\nReferences: organizations.created_at.\n\nTimestamp of organization creation. Used for audit, compliance, and analytics. Recorded automatically."
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Updated Timestamp.\n\nReferences: organizations.updated_at.\n\nTimestamp of last update to organization information. Used for audit and compliance. Updated automatically on any change."
        }
      },
      "required": [
        "id",
        "name",
        "code",
        "created_at",
        "updated_at"
      ],
      "description": "Organization entity representing a retailer or tenant in a multi-tenant shopping mall backend.\n\nCorresponds to the Prisma organizations table. Used as the root logical boundary for users, roles, compliance, and integration. Ensures 3NF normalization: no organization fields are duplicated elsewhere. Also supports compliance and B2B workflows.\n\nOrganization identifiers are referenced by nearly all other entities, as the multi-tenant business unit is central for analytics, RBAC, privacy partitioning, and legal compliance."
    },
    "IShoppingOrganization.ICreate": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Organization Name. Required. See organizations.name.\n\nThis is the display or legal name for the organization to create. Must be unique across the system."
        },
        "code": {
          "type": "string",
          "description": "Organization Code. Required. See organizations.code.\n\nShort, business-unique identifier suitable for API/automation. Must be unique; format enforcement may be applied (e.g. uppercase, alphanumeric)."
        }
      },
      "required": [
        "name",
        "code"
      ],
      "description": "Request body for creating a new organization entity.\n\nAttributes must satisfy business and Prisma schema constraints. Name and code must be unique. Only privileged users can invoke this operation. On success, returns a new IShoppingOrganization."
    },
    "IShoppingOrganization.IUpdate": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Updated organization name. See organizations.name. Must remain unique."
        },
        "code": {
          "type": "string",
          "description": "Updated organization code. See organizations.code. Format: business-unique slug or API code."
        }
      },
      "description": "Request body for updating an existing organization entity. Only name and code may be updated. All changes are audited for compliance. Updates to primary key/id are not possible.",
      "required": []
    },
    "IShoppingRole.IRequest": {
      "type": "object",
      "properties": {
        "organization_id": {
          "type": "string",
          "format": "uuid",
          "description": "Organization ID for role scoping. See roles.organization_id. Optional; if specified, restricts to roles for this org only."
        },
        "name": {
          "type": "string",
          "description": "Fuzzy search on role name. See roles.name."
        },
        "code": {
          "type": "string",
          "description": "Fuzzy search on role code. See roles.code."
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "description": "Page number for pagination (optional, >=1)."
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "description": "Max number of results per page (optional; default system value if not set)."
        }
      },
      "description": "Request parameters for listing/searching roles for admin management. All filters correspond to atomic Prisma columns for search optimization and audit trace.",
      "required": []
    },
    "IPageIShoppingRole": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingRole"
          }
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated result container for IShoppingRole. Used for role list endpoints with search/filter/sort support. Standard IPage contract for admin UIs and bulk management operations."
    },
    "IShoppingRole": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary Key. Unique identifier per role. See roles.id. Used for referencing roles system-wide."
        },
        "organization_id": {
          "type": "string",
          "format": "uuid",
          "description": "Optional Organization ID. See roles.organization_id. Null if global role; otherwise, organization-scoped."
        },
        "name": {
          "type": "string",
          "description": "Human-readable name of the role. See roles.name. Must be unique per organization. Example: 'admin', 'editor'."
        },
        "code": {
          "type": "string",
          "description": "Machine-usable code. See roles.code. Must be unique per organization. Example: 'ADMIN', 'CUSTOMER'."
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Role description for RBAC management. See roles.description. Optional; documents permissions and scope."
            },
            {
              "type": "null"
            }
          ],
          "description": "Role description for RBAC management. See roles.description. Optional; documents permissions and scope."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of role creation. See roles.created_at. Evidence for audit, analytics."
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of last change to role. See roles.updated_at. Used for evidence, compliance, and reporting."
        }
      },
      "required": [
        "id",
        "name",
        "code",
        "created_at",
        "updated_at"
      ],
      "description": "Role entity representing a permission set or access level for users within an organization or global context.\n\nBacked by the Prisma roles table for strict 3NF and RBAC compliance. Used for dynamic role assignment, authorization checks, and compliance reporting. All changes are fully audited."
    },
    "IShoppingRole.ICreate": {
      "type": "object",
      "properties": {
        "organization_id": {
          "type": "string",
          "format": "uuid",
          "description": "Optional Organization ID for role scoping. Null for global roles. See roles.organization_id."
        },
        "name": {
          "type": "string",
          "description": "Name of the new role (unique per organization)."
        },
        "code": {
          "type": "string",
          "description": "Machine code/slug for the role (unique per organization)."
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Description for management documentation."
            },
            {
              "type": "null"
            }
          ],
          "description": "Description for management documentation."
        }
      },
      "required": [
        "name",
        "code"
      ],
      "description": "Request body for creating a new role. Only privileged actors with organization context may use this. On success, returns new IShoppingRole entity."
    },
    "IShoppingRole.IUpdate": {
      "type": "object",
      "properties": {
        "organization_id": {
          "type": "string",
          "format": "uuid",
          "description": "Optionally update the associated organization. Only allowed if not breaking referential constraints."
        },
        "name": {
          "type": "string",
          "description": "Optionally update name of the role. Must remain unique."
        },
        "code": {
          "type": "string",
          "description": "Optional update to machine code/slug. Must remain unique."
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional update to role description."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional update to role description."
        }
      },
      "description": "Request body for updating an existing role entity by id. Non-mutable fields (id) and constraint checks enforced. Not all updates are allowed if the role is assigned.",
      "required": []
    },
    "IShoppingSession.IRequest": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Filter by session's assigned user. See sessions.user_id."
        },
        "status": {
          "oneOf": [
            {
              "const": "active",
              "description": "Status filter: only return sessions of the specified state. Must be one of three allowed values."
            },
            {
              "const": "expired",
              "description": "Status filter: only return sessions of the specified state. Must be one of three allowed values."
            },
            {
              "const": "revoked",
              "description": "Status filter: only return sessions of the specified state. Must be one of three allowed values."
            }
          ],
          "description": "Status filter: only return sessions of the specified state. Must be one of three allowed values."
        },
        "device_fingerprint": {
          "type": "string",
          "description": "Filter by device fingerprint. Used for fraud/security investigation."
        },
        "ip": {
          "type": "string",
          "description": "Filter by IP address string. For audit/compliance/recovery."
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "description": "Page number for pagination."
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "description": "Page size/limit for pagination."
        }
      },
      "description": "Advanced filter/search payload for querying sessions in audit, security, and compliance workflows. Each field is index-backed for efficient lookup under high load.",
      "required": []
    },
    "IPageIShoppingSession": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingSession"
          }
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated result container for IShoppingSession. Used for session search and admin views. Follows IPage<T> structure as required for audit/compliance."
    },
    "IShoppingSession": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique session ID. Backed by sessions.id in Prisma. Used for referential integrity in access logs, security events, and cart linkage."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Assigned user for this session. See sessions.user_id. Must be present for every session."
        },
        "token": {
          "type": "string",
          "description": "Opaque auth token for session. Never returned in cleartext. Used for API authentication and session restoration. See sessions.token."
        },
        "expires_at": {
          "type": "string",
          "format": "date-time",
          "description": "Session expiration timestamp. See sessions.expires_at."
        },
        "device_fingerprint": {
          "oneOf": [
            {
              "type": "string",
              "description": "Device identifier for multi-factor/fraud analysis. See sessions.device_fingerprint. Optional."
            },
            {
              "type": "null"
            }
          ],
          "description": "Device identifier for multi-factor/fraud analysis. See sessions.device_fingerprint. Optional."
        },
        "ip": {
          "oneOf": [
            {
              "type": "string",
              "description": "Last known client IP address (IPv4 or v6). Used for forensic tracking. Optional."
            },
            {
              "type": "null"
            }
          ],
          "description": "Last known client IP address (IPv4 or v6). Used for forensic tracking. Optional."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of session creation. See sessions.created_at. Used for evidence and audit traceability."
        },
        "revoked_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Timestamp of session revocation (if terminated). Null if session is active. Evidence for audit/logging."
            },
            {
              "type": "null"
            }
          ],
          "description": "Timestamp of session revocation (if terminated). Null if session is active. Evidence for audit/logging."
        }
      },
      "required": [
        "id",
        "user_id",
        "token",
        "expires_at",
        "created_at"
      ],
      "description": "Session entity capturing authentication/authorization state for a user in the Core security model. Provided by the sessions table for strict evidence, forensics, and regulatory compliance. All changes are logged."
    },
    "IShoppingSession.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "ID of the user starting the session. Only valid, active users allowed. See sessions.user_id."
        },
        "token": {
          "type": "string",
          "description": "Opaque session/auth token. Never returned in full. Must be generated by secure subsystem."
        },
        "expires_at": {
          "type": "string",
          "format": "date-time",
          "description": "Token/session expiration datetime. Required per audit/compliance."
        },
        "device_fingerprint": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional device/endpoint identifier for risk/fraud."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional device/endpoint identifier for risk/fraud."
        },
        "ip": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional remote IP address for logs/audit."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional remote IP address for logs/audit."
        }
      },
      "required": [
        "user_id",
        "token",
        "expires_at"
      ],
      "description": "Request body for session creation. All fields must comply with backend security constraints. Only issued by user login, SSO, or OAuth process. Not available to public APIs. Evidence-grading enforced. On success, returns new IShoppingSession entity."
    },
    "IShoppingSession.IUpdate": {
      "type": "object",
      "description": "업데이트할 세션 엔터티에 대한 속성을 정의합니다.\n\n이 타입은 로그인 세션 관리(세션의 만료 연장, 디바이스/위치 조건 갱신, 강제 로그아웃 등)에서 사용됩니다. 일부 필드는 인증 또는 보안 규정상 불변이며, 오직 만료/디바이스 관련 속성만 갱신 가능합니다. 모든 변경 사항은 불변의 감사를 위해 로깅됩니다.\n\n원본 Prisma DB의 'sessions' 테이블 스키마 및 요구사항 분석의 세션 관리 정책을 참조하여 설계되었습니다.",
      "properties": {
        "expires_at": {
          "type": "string",
          "format": "date-time",
          "description": "세션의 만료 시각(ISO 8601 UTC).\n\n사용자 로그인 또는 인증 후 세션 연장 등에서 사용됨. 타임존/시간대 일관성 보장. 예시: '2025-06-10T15:00:00+09:00'."
        },
        "device_fingerprint": {
          "oneOf": [
            {
              "type": "string",
              "description": "디바이스 식별자(hash/ID/유니크값),\n\nAI 기반 보안 분석(부정 로그인 탐지/동일 디바이스 인식 등)에 활용됩니다. 새 기기로 접속 감지 시 업데이트할 수 있습니다.\n\n'프라이버시 보호 정책' 및 디바이스 정보관리 요구와 연계."
            },
            {
              "type": "null"
            }
          ],
          "description": "디바이스 식별자(hash/ID/유니크값),\n\nAI 기반 보안 분석(부정 로그인 탐지/동일 디바이스 인식 등)에 활용됩니다. 새 기기로 접속 감지 시 업데이트할 수 있습니다.\n\n'프라이버시 보호 정책' 및 디바이스 정보관리 요구와 연계."
        },
        "ip": {
          "oneOf": [
            {
              "type": "string",
              "description": "마지막 접근시 기록된 IP주소(IPv4/v6),\n\n관리자/감사자가 비정상 장소로부터의 접근을 판별하기 위한 감사 및 추적 용도.\n\n예시: '211.250.100.23' 또는 '2001:db8::8a2e:370:7334'."
            },
            {
              "type": "null"
            }
          ],
          "description": "마지막 접근시 기록된 IP주소(IPv4/v6),\n\n관리자/감사자가 비정상 장소로부터의 접근을 판별하기 위한 감사 및 추적 용도.\n\n예시: '211.250.100.23' 또는 '2001:db8::8a2e:370:7334'."
        },
        "revoked_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "세션이 강제로 만료(로그아웃/차단 등)된 시각.\n\nGDPR/CCPA 법적 로그아웃/감사 기록 준수를 위해 보관됩니다. null은 아직 활성 상태임을 의미."
            },
            {
              "type": "null"
            }
          ],
          "description": "세션이 강제로 만료(로그아웃/차단 등)된 시각.\n\nGDPR/CCPA 법적 로그아웃/감사 기록 준수를 위해 보관됩니다. null은 아직 활성 상태임을 의미."
        }
      },
      "required": []
    },
    "IOperationResult": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "description": "요청이 성공적으로 수행됐는지 여부.\n\nAPI가 성공 시 true, 비즈니스 또는 시스템 에러 발생 시 false로 반환됩니다."
        },
        "message": {
          "oneOf": [
            {
              "type": "string",
              "description": "(선택) 추가 상태메시지 또는 상세 에러정보.\n\n예: '삭제 완료', '해당 리소스를 찾을 수 없음', '권한 없음' 등. UI/활동로그에 표시 가능."
            },
            {
              "type": "null"
            }
          ],
          "description": "(선택) 추가 상태메시지 또는 상세 에러정보.\n\n예: '삭제 완료', '해당 리소스를 찾을 수 없음', '권한 없음' 등. UI/활동로그에 표시 가능."
        }
      },
      "description": "표준 작업 결과 응답 객체.\n\nAPI에서 삭제, 강제 로그아웃 등 Side Effect(상태 변경) 요청에 대해 일관된 구조의 실행 여부 및 메시지를 제공합니다.\n\n비정상 처리나 추가 안내 메시지 필요 시 message에 상세정보가 포함됩니다.\n\n프론트엔드 UX 및 자동화/운영 로그에 활용됩니다.",
      "required": [
        "success"
      ]
    },
    "ILocale.IRequest": {
      "type": "object",
      "description": "언어/로케일 코드(BCP 47: 'ko-KR', 'en-US', 등) 리스트 쿼리 및 필터링 요청에 사용되는 구조체입니다.\n\n요구사항 분석의 다국어/문화권 지원 및 접근성 정책에 따라, 코드, 이름, 등록일 등으로 검색/정렬/페이징 가능합니다. 옵션별로 자유롭게 결합하여 사용하며, 관리자, UI설정, 온보딩 등 다양한 인터페이스에서 활용됨.",
      "properties": {
        "query": {
          "oneOf": [
            {
              "type": "string",
              "description": "로케일 코드 혹은 이름 전체/부분검색 문자열.\n\n예: 'ko', 'English', '미국'\n\ntrigram/text 색인 활용 권장."
            },
            {
              "type": "null"
            }
          ],
          "description": "로케일 코드 혹은 이름 전체/부분검색 문자열.\n\n예: 'ko', 'English', '미국'\n\ntrigram/text 색인 활용 권장."
        },
        "code": {
          "oneOf": [
            {
              "type": "string",
              "description": "특정 로케일 코드(BCP 47, 예: 'en-US') 필터.\n\n정확한 로케일 단건/복수 쿼리 시 사용."
            },
            {
              "type": "null"
            }
          ],
          "description": "특정 로케일 코드(BCP 47, 예: 'en-US') 필터.\n\n정확한 로케일 단건/복수 쿼리 시 사용."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "description": "로케일 한글/영문 표시명(예: '한국어', 'English')으로 필터링.\n\n부분 일치 검색도 허용."
            },
            {
              "type": "null"
            }
          ],
          "description": "로케일 한글/영문 표시명(예: '한국어', 'English')으로 필터링.\n\n부분 일치 검색도 허용."
        },
        "sort": {
          "oneOf": [
            {
              "const": "code",
              "description": "정렬 키 (기본값: code 오름차순).\n\n'code','name','created_at' 중 선택 가능. '-code' 등 역순 지원할 수 있음."
            },
            {
              "const": "name",
              "description": "정렬 키 (기본값: code 오름차순).\n\n'code','name','created_at' 중 선택 가능. '-code' 등 역순 지원할 수 있음."
            },
            {
              "const": "created_at",
              "description": "정렬 키 (기본값: code 오름차순).\n\n'code','name','created_at' 중 선택 가능. '-code' 등 역순 지원할 수 있음."
            },
            {
              "type": "null"
            }
          ],
          "description": "정렬 키 (기본값: code 오름차순).\n\n'code','name','created_at' 중 선택 가능. '-code' 등 역순 지원할 수 있음."
        },
        "page": {
          "oneOf": [
            {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "description": "페이지 번호(1베이스 시작).\n\n페이징 UI/DB 질의에서 사용."
            },
            {
              "type": "null"
            }
          ],
          "description": "페이지 번호(1베이스 시작).\n\n페이징 UI/DB 질의에서 사용."
        },
        "limit": {
          "oneOf": [
            {
              "type": "integer",
              "minimum": 1,
              "maximum": 1000,
              "default": 100,
              "description": "페이지 당 결과 수.\n\n서비스 부하 및 응답 속도 제어 목적."
            },
            {
              "type": "null"
            }
          ],
          "description": "페이지 당 결과 수.\n\n서비스 부하 및 응답 속도 제어 목적."
        }
      },
      "required": []
    },
    "IPageILocale": {
      "type": "object",
      "description": "로케일 목록 페이징 응답 컨테이너.\n\n데이터 목록(data)와 페이징 정보(pagination)라는 2개의 major 필드 포함. 각 원소는 ILocale 참조.\n\n서비스 전역의 글로벌 UI, 운영, 온보딩 등에서 모두 활용 가능.\n\nPrisma 및 표준 OpenAPI 페이징 설계(EX: data[], pagination) 완벽 반영.",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/ILocale"
          }
        }
      },
      "required": [
        "pagination",
        "data"
      ]
    },
    "ILocale": {
      "type": "object",
      "description": "단일 로케일(언어/지역 코드) 엔터티 응답 객체.\n\nPrisma 'locales' 테이블과 일치하며, 시스템의 다국어, 지역화, 접근성 정책에 있어 핵심 식별자 역할을 담당함.\n\nBCP 47 코드 기준(code), 표시명(name) 등 모든 속성이 디폴트로 포함됨. 기타 비즈니스 특성(사용 가능 여부, 특정 UI 컨텍스트에 노출 가능 등)은 부가 컬럼 추가 시 확장 가능.\n\n관리/온보딩/사용자 설정 등 전역적으로 쓰입니다.",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "고유 식별자(UUID).\n\nDB row 또는 시스템 전역에서 차별화된 각 로케일의 논리 및 기술적 Key"
        },
        "code": {
          "type": "string",
          "description": "BCP 47 표준 로케일 코드(예: 'ko-KR', 'en-US').\n\n전체 시스템, API, UI 컨텍스트에서 언어/지역을 식별하는 표준화된 Key.\n\nPrisma Schema의 유니크 제약 조건과 완벽히 일치"
        },
        "name": {
          "type": "string",
          "description": "로케일(언어/지역) 표시명.\n\nUI 디스플레이, 온보딩 선택, 관리툴 등에서 표시되는 가독성을 위한 이름.\n\n중복 허용"
        }
      },
      "required": [
        "id",
        "code",
        "name"
      ]
    },
    "ILocale.ICreate": {
      "type": "object",
      "description": "로케일 신규 등록 요청 바디 객체.\n\n필수값으로 'code' (BCP 47), 'name'(표시명)이 요구됩니다. 중복 코드(유니크)를 허용하지 않고 설정 정책, 후보값 체크, 글로벌 배포 전략 등과 연계됩니다.\n\n예시는: code: 'vi-VN' name: 'Vietnamese (Vietnam)'.",
      "properties": {
        "code": {
          "type": "string",
          "description": "신규 BCP 47 로케일 코드(예: 'es-ES','fr-FR','ja-JP').\n\n유니크해야 하며, 이미 등록된 코드면 409 에러 반환"
        },
        "name": {
          "type": "string",
          "description": "로케일 표시명(지원 언어 표기).\n\n영문 또는 현지어로 입력, UI용 또는 검색 대상"
        }
      },
      "required": [
        "code",
        "name"
      ]
    },
    "ILocale.IUpdate": {
      "type": "object",
      "description": "등록된 로케일 정보의 수정/갱신을 위한 요청 객체.\n\n허용되는 필드만 업데이트 가능(대부분 code, name). 코드 변경은 정책에 따라 제한될 수 있음. 모든 수정 내역은 감사(Audit) 로그로 남음.\n\n다국어 서비스 유지관리, 접근성 개선, 글로벌 리뉴얼 등 변화에 대응",
      "properties": {
        "code": {
          "oneOf": [
            {
              "type": "string",
              "description": "수정할 BCP 47 로케일 코드. 중복 불가, 시스템 정책에 따라 제한."
            },
            {
              "type": "null"
            }
          ],
          "description": "수정할 BCP 47 로케일 코드. 중복 불가, 시스템 정책에 따라 제한."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "description": "로케일 표시명(언어나 지역명) 변경값."
            },
            {
              "type": "null"
            }
          ],
          "description": "로케일 표시명(언어나 지역명) 변경값."
        }
      },
      "required": []
    },
    "IConsent.IRequest": {
      "type": "object",
      "description": "사용자 동의(consents) 조회/검색/필터 요청 바디.\n\n동의 종류별, 사용자별, 상태별, 적용 시작·종료 시점별로 필터가 가능하고, 개인정보보호/AI 학습/마케팅 등 다양한 업무 시나리오에서 활용됩니다.",
      "properties": {
        "query": {
          "oneOf": [
            {
              "type": "string",
              "description": "동의 타입/설명/식별자 등을 부분검색하는 문자열.\n\n예: 'ai', '마케팅', '오픈뱅킹'"
            },
            {
              "type": "null"
            }
          ],
          "description": "동의 타입/설명/식별자 등을 부분검색하는 문자열.\n\n예: 'ai', '마케팅', '오픈뱅킹'"
        },
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "특정 사용자(피동의자) UUID로 필터링."
            },
            {
              "type": "null"
            }
          ],
          "description": "특정 사용자(피동의자) UUID로 필터링."
        },
        "type": {
          "oneOf": [
            {
              "type": "string",
              "description": "동의유형 필터 (예: 'ai_training', 'marketing', 'profiling')\n\n정책별 스키마나 Enum으로 제한될 수 있음."
            },
            {
              "type": "null"
            }
          ],
          "description": "동의유형 필터 (예: 'ai_training', 'marketing', 'profiling')\n\n정책별 스키마나 Enum으로 제한될 수 있음."
        },
        "is_granted": {
          "oneOf": [
            {
              "type": "boolean",
              "description": "동의/비동의 여부 참·거짓 필터"
            },
            {
              "type": "null"
            }
          ],
          "description": "동의/비동의 여부 참·거짓 필터"
        },
        "granted_after": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "특정 시점 이후에 부여된 동의만 조회"
            },
            {
              "type": "null"
            }
          ],
          "description": "특정 시점 이후에 부여된 동의만 조회"
        },
        "granted_before": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "특정 시점 이전에 부여된 동의만 조회"
            },
            {
              "type": "null"
            }
          ],
          "description": "특정 시점 이전에 부여된 동의만 조회"
        },
        "page": {
          "oneOf": [
            {
              "type": "integer",
              "minimum": 1,
              "description": "페이지(1-base). 페이징형 응답에 사용"
            },
            {
              "type": "null"
            }
          ],
          "description": "페이지(1-base). 페이징형 응답에 사용"
        },
        "limit": {
          "oneOf": [
            {
              "type": "integer",
              "minimum": 1,
              "description": "페이지 당 결과 수."
            },
            {
              "type": "null"
            }
          ],
          "description": "페이지 당 결과 수."
        }
      },
      "required": []
    },
    "IPageIConsent": {
      "type": "object",
      "description": "동의 목록의 페이징 응답 레코드 컨테이너.\n\ndata(동의 배열), pagination(페이지 정보) 2개 필수 필드로 구성.\n\nGDPR 및 개인정보, AI model evidence 감사 요구의 근거가 되는 audit 스키마와 일치합니다.",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IConsent"
          }
        }
      },
      "required": [
        "pagination",
        "data"
      ]
    },
    "IConsent": {
      "type": "object",
      "description": "단일 사용자 동의(consent) 레코드 응답.\n\nPrisma 'consents' 테이블과 완전히 일치하며, 모든 개인정보 수집/활용/AI 모델 학습/마케팅 등 동의 흐름 상태를 API로 표현합니다.\n\n서비스 준법·컴플라이언스 및 감사, 이력 추적/협력사 피뎁 등 다양한 보호정책에 근거해 설계됨.",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "고유 식별자(UUID).\n\n각 동의 이벤트 완전 추적 가능(PII 규정/AI evidence 논의 참고)"
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "피동의자(유저)의 UUID 키.\n\n감사, 내역조회, 자동화정책에 필수."
        },
        "type": {
          "type": "string",
          "description": "동의 대상의 유형.\n\n예: 'ai_training', 'marketing', 'profiling'. 준법 정책에 따라 Enum/문자열 허용됨."
        },
        "is_granted": {
          "type": "boolean",
          "description": "동의(참)/비동의(거짓) 상태값.\n\n디폴트: true. GDPR/CPPA 대비 Undo 지원(권리철회/이력추적)."
        },
        "granted_at": {
          "type": "string",
          "format": "date-time",
          "description": "동의 부여 시각(ISO 8601 UTC).\n\n법적 Evidence 보존·내역조회 등 실시간/배치 파이프라인 요구에도 부합."
        },
        "revoked_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "동의 철회(Undo) 시각.\n\nGDPR 등 권리철회, 이력보존 법규 대응(없으면 null)."
            },
            {
              "type": "null"
            }
          ],
          "description": "동의 철회(Undo) 시각.\n\nGDPR 등 권리철회, 이력보존 법규 대응(없으면 null)."
        }
      },
      "required": [
        "id",
        "user_id",
        "type",
        "is_granted",
        "granted_at"
      ]
    },
    "IConsent.ICreate": {
      "type": "object",
      "description": "동의(consent) 신규 등록을 위한 요청 구조체.\n\n필수: user_id, type, is_granted.\n\n준법 감사 및 감사이력 정책에 따라 동의 관련 주요 속성 및 부여/철회 시점 전체 입력 가능.\n\n데이터 생성 시 타임스탬프(부여/철회일)는 서버에서 자동 처리 또는 검증 로직에 따라 달라질 수 있습니다.",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "동의자(유저)의 UUID.\n\n정상 가입 시 필수. PII/감사 흐름에서 유일키 역할."
        },
        "type": {
          "type": "string",
          "description": "동의 유형: eg., 'ai_training', 'marketing', 'profiling'...\n\n정책 준수용 Enum 혹은 임의 문자열."
        },
        "is_granted": {
          "type": "boolean",
          "description": "동의 수락 여부(참/거짓).\n\n디폴트 true. 철회는 별도 API/흐름에서 처리."
        }
      },
      "required": [
        "user_id",
        "type",
        "is_granted"
      ]
    },
    "IConsent.IUpdate": {
      "type": "object",
      "description": "사용자 동의(consent) 엔터티의 갱신/수정용 요청 타입.\n\n주로 동의/철회(is_granted), 타입 변경 등만 허용하며, 모든 갱신은 증거보존·감사기록에 남깁니다.\n\nPII/개인정보보호, AI/ML/마케팅 준법 정책 변화에 즉시 대응할 수 있도록 설계되었습니다.",
      "properties": {
        "is_granted": {
          "oneOf": [
            {
              "type": "boolean",
              "description": "동의 상태 변경(참/거짓).\n\n철회/동의 재설정 등 유연하게 대응. 값 제공시에만 갱신."
            },
            {
              "type": "null"
            }
          ],
          "description": "동의 상태 변경(참/거짓).\n\n철회/동의 재설정 등 유연하게 대응. 값 제공시에만 갱신."
        },
        "type": {
          "oneOf": [
            {
              "type": "string",
              "description": "동의 유형을 변경할 필요가 있을 때 사용."
            },
            {
              "type": "null"
            }
          ],
          "description": "동의 유형을 변경할 필요가 있을 때 사용."
        },
        "revoked_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "철회 시점(권리철회 인증용)\n\n자동 감지되도록 서버 정책상 null로도 처리."
            },
            {
              "type": "null"
            }
          ],
          "description": "철회 시점(권리철회 인증용)\n\n자동 감지되도록 서버 정책상 null로도 처리."
        }
      },
      "required": []
    },
    "IAccessLog.IRequest": {
      "type": "object",
      "description": "검색 및 필터링 가능한 접근 로그 목록 조회 요청 객체. 이 타입은 access_logs 테이블 기반 검색, 필터, 정렬 및 페이징 파라미터를 구현한다.\n\nPrisma DB의 각 컬럼에 대한 필터와 시스템 감사 요구사항을 충족하며, API 검색 어드민 유즈케이스 및 규제/컴플라이언스 용도를 위해 설계됨.",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "로그의 소유/관계 사용자의 고유 식별자(UUID).\n\nPrisma의 users.id에 대한 FK 참조이며, 유저별 로그 조회 필터 입력에 사용."
        },
        "session_id": {
          "type": "string",
          "format": "uuid",
          "description": "해당 접근 로그의 세션 정보 FK. Prisma의 sessions.id에 대한 참조. 세션별 검색/필터값에 사용."
        },
        "event_type": {
          "type": "string",
          "description": "접근 이벤트 유형(예: login, logout, api_call 등). Prisma의 컬럼 타입이며 증거, 감시, 감사 분석에 필수적인 인수."
        },
        "ip": {
          "type": "string",
          "description": "원본 접근 요청의 IP 주소. Prisma의 컬럼명(ip)일치. 보안분석, 위치수집, 이상행위 감지 시 검색조건으로 활용."
        },
        "success": {
          "type": "boolean",
          "description": "접근 성공판정 여부. Prisma 컬럼(success)과 일치, 성공/실패 분리 페이징/조회 지원."
        },
        "from": {
          "type": "string",
          "format": "date-time",
          "description": "생성 시간 범위(시작) 필터. occurred_at 기준으로 지정. 규제/감사 로그, 기간별 분리 용도."
        },
        "to": {
          "type": "string",
          "format": "date-time",
          "description": "생성 시간 범위(끝) 필터. occurred_at 범위 종료. 고도화 분석, 보안 준수 추적을 위함."
        },
        "page": {
          "type": "integer",
          "description": "페이지 번호. 페이지네이션 쿼리용 일반 필드."
        },
        "pageSize": {
          "type": "integer",
          "description": "페이지 별 최대 결과 수. Prisma 컬럼과 별도, 페이징 최적화에 사용."
        }
      },
      "required": []
    },
    "IPageIAccessLog": {
      "type": "object",
      "description": "접근 로그의 페이징 처리된 결과 객체.\n\nPrisma access_logs의 세부 필드별 정보와 페이징 메타데이터(현재 페이지, 전체 페이지, 토탈 카운트 등)를 포함한다. 대용량 로그 데이터 관리 및 감사/증거 제출 시 활용되는 레퍼런스 타입.",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingAccessLog"
          },
          "description": "요청 조건에 부합하는 IShoppingAccessLog 객체 배열"
        },
        "total_count": {
          "type": "integer",
          "description": "전체 결과의 총 레코드 수. 쿼리 조건 하에서 반환가능한 전체 파일럿(비노출 필드 포함) 기준."
        }
      },
      "required": []
    },
    "IShoppingAccessLog": {
      "type": "object",
      "description": "단일 접근 로그 이벤트의 상세 객체. Prisma access_logs 테이블의 모든 원자적(atomic) 필드를 반영하고, API/감사 추적 및 보안 증거로 재사용된다.",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "고유 접근 로그 식별자. PK로 증거제공, 감사, 이상분석 사용."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "해당 기록의 사용자 ID (FK, users.id)."
        },
        "session_id": {
          "type": "string",
          "format": "uuid",
          "description": "관계된 세션 ID(FK, nullable)."
        },
        "event_type": {
          "type": "string",
          "description": "로그 이벤트 유형. 예: login, logout, api_call"
        },
        "ip": {
          "type": "string",
          "description": "요청 IP 주소."
        },
        "agent": {
          "type": "string",
          "description": "클라이언트 유저에이전트/디바이스 식별자. 의무 감찰, 디지털 포렌식, 이상탐지 사용."
        },
        "success": {
          "type": "boolean",
          "description": "접근이 성공했는지 여부."
        },
        "occurred_at": {
          "type": "string",
          "format": "date-time",
          "description": "사건 발생(로그인/접근) 타임스탬프. ISO8601"
        },
        "annotation": {
          "type": "string",
          "description": "감사/법적 리뷰를 위한 관리 부가설명(수동 추가 가능, null 허용)."
        }
      },
      "required": []
    },
    "IShoppingAccessLog.ICreate": {
      "type": "object",
      "description": "새로운 접근 로그 기록 생성시 사용하는 입력 포맷. DB 접근 전/후 이벤트, 인증절차, 감사/컴플라이언스 객관화 등에 사용.\n\nPrisma DB 스키마의 원자 필드(필수/선택)와 규제 준수 증거 제공 목적 Docstring 작성됨.",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "접근 유저의 고유 ID (필수, users.id FK)"
        },
        "session_id": {
          "type": "string",
          "format": "uuid",
          "description": "관계 세션의 ID(옵션, FK)."
        },
        "event_type": {
          "type": "string",
          "description": "필수 - 로그인, API콜, 인증 등 이벤트 유형"
        },
        "ip": {
          "type": "string",
          "description": "필수 - 원본 IP"
        },
        "agent": {
          "type": "string",
          "description": "에이전트/디바이스 정보. (선택)"
        },
        "success": {
          "type": "boolean",
          "description": "성공 여부. (필수)"
        },
        "occurred_at": {
          "type": "string",
          "format": "date-time",
          "description": "발생시점 (ISO8601, 필수)"
        },
        "annotation": {
          "type": "string",
          "description": "관리자/법적 설명, 소송/감사 대비 (optional)"
        }
      },
      "required": [
        "user_id",
        "event_type",
        "ip",
        "success",
        "occurred_at"
      ]
    },
    "IShoppingAccessLog.IUpdate": {
      "type": "object",
      "description": "접근 로그 레코드의 주석(annotation), 증거/법적 부가메타 정보를 수정/추가할 때 사용하는 타입.\n\n로그의 원본 증거 필드(user_id, event_type 등)는 수정불가. 감사/합법적 사유의 부가설명만 허용.",
      "properties": {
        "annotation": {
          "type": "string",
          "description": "관리자/감사 용 목적의 부가 코멘트, 법적 증거 확보/소송/내부 감사 대응 등."
        }
      },
      "required": []
    },
    "IShoppingProduct.IRequest": {
      "type": "object",
      "description": "상품 목록 검색/필터링/페이지네이션 요청 객체. products 테이블 기반으로 고도화된 조건 쿼리 및 결과 리미트, 정렬/필터 셀렉션 응답을 구현.\n\nPrisma 스키마 컬럼별 필터/정렬과 AI/추천 등 모델 피드백 확장을 고려한 DTO 설계.",
      "properties": {
        "name": {
          "type": "string",
          "description": "상품명. 부분검색, 풀텍스트, trigram 필터 지원."
        },
        "category_ids": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "description": "상위/하위 카테고리 포함 여러 개의 상품 분류 필터."
        },
        "tag_ids": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "description": "상품에 연결된 태그 ID 리스트로 필터."
        },
        "status": {
          "type": "string",
          "description": "상품 상태 코드(예: draft, active, suspended, archived 등)."
        },
        "created_by_user_id": {
          "type": "string",
          "format": "uuid",
          "description": "등록자 유저 ID 기반 필터. Prisma: products.created_by_user_id"
        },
        "from": {
          "type": "string",
          "format": "date-time",
          "description": "생성 일자(이후) for 강력 이벤트/기간 필터."
        },
        "to": {
          "type": "string",
          "format": "date-time",
          "description": "생성 일자(이전) for 강력 기간 필터."
        },
        "page": {
          "type": "integer",
          "description": "페이지 번호"
        },
        "pageSize": {
          "type": "integer",
          "description": "페이지당 최대 결과 개수"
        },
        "sort": {
          "type": "string",
          "description": "정렬 기준(필드명), 예: name, created_at, relevance, price"
        },
        "order": {
          "oneOf": [
            {
              "const": "asc",
              "description": "정렬 방식, 오름차순/내림차순"
            },
            {
              "const": "desc",
              "description": "정렬 방식, 오름차순/내림차순"
            }
          ],
          "description": "정렬 방식, 오름차순/내림차순"
        }
      },
      "required": []
    },
    "IPageIShoppingProductSummary": {
      "type": "object",
      "description": "상품 목록(서머리) 응답 페이징 래퍼. products 테이블에 대한 핵심 필드 요약 정보 묶음과 페이지네이션/카운트 포함 구조. 대규모 카탈로그 대응 고도화 구조.",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingProduct.ISummary"
          },
          "description": "상품 서머리 배열"
        },
        "total_count": {
          "type": "integer",
          "description": "전체 쿼리 결과 수"
        }
      },
      "required": []
    },
    "IShoppingProduct": {
      "type": "object",
      "description": "대표 상품 객체. Products DB 스키마 모든 원자 필드와 서브 엔티티 참조를 포함해 비즈니스 규칙, AI 추천, 컴플라이언스 증거원으로 재사용되는 마스터 DTO. 모든 프로퍼티는 Prisma products 테이블 필드 타입, 규약을 반영한다.\n\n연관된 variants, media, tags, 카테고리, 증거 등은 summary 수형/타입 또는 배열 ID 참조로 제공됨.",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "상품 고유 식별자(PK, products.id)"
        },
        "created_by_user_id": {
          "type": "string",
          "format": "uuid",
          "description": "상품 등록자 유저 ID"
        },
        "updated_by_user_id": {
          "type": "string",
          "format": "uuid",
          "description": "마지막 수정자 유저 ID"
        },
        "name": {
          "type": "string",
          "description": "상품명"
        },
        "description": {
          "type": "string",
          "description": "상품 설명"
        },
        "internal_code": {
          "type": "string",
          "description": "내부 관리용 상품 코드(Unique)"
        },
        "status": {
          "type": "string",
          "description": "상품 상태"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "생성 타임스탬프"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "수정 타임스탬프"
        },
        "category_ids": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "description": "연결된 카테고리(IDs)"
        },
        "tag_ids": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "description": "상품의 주요 태그(IDs)"
        },
        "variant_ids": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "description": "연결된 상품 바리에이션 id 배열"
        },
        "media_ids": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "description": "상품 미디어 자원(이미지/동영상 등) ID 리스트"
        },
        "evidence_ids": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "description": "카탈로그 증거 연계 ID 리스트"
        }
      },
      "required": []
    },
    "IShoppingProduct.ICreate": {
      "type": "object",
      "description": "신규 상품 생성 시 입력 값 DTO. products 테이블 필수/옵션 필드만 포함. 전송 시 내부 검증 및 referential integrity 적용. 연관 값(바리에이션/미디어 등)은 후처리 가능.",
      "properties": {
        "created_by_user_id": {
          "type": "string",
          "format": "uuid",
          "description": "상품 등록자 유저ID. Prisma 필수."
        },
        "name": {
          "type": "string",
          "description": "상품명"
        },
        "description": {
          "type": "string",
          "description": "상품 설명"
        },
        "internal_code": {
          "type": "string",
          "description": "내부 관리코드(Unique)"
        },
        "status": {
          "type": "string",
          "description": "최초 상태"
        },
        "category_ids": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "description": "연결 카테고리 ID들"
        },
        "tag_ids": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "description": "태그 아이디 배열"
        },
        "media_ids": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "description": "연결 미디어 ID 리스트(선택)"
        }
      },
      "required": [
        "created_by_user_id",
        "name",
        "internal_code",
        "status"
      ]
    },
    "IShoppingProduct.IUpdate": {
      "type": "object",
      "description": "상품 수정 요청 시 입력 DTO. products 테이블 수정 가능 필드만 포함, 부분패치/단독수정 대응. 권한 비즈니스 로직 및 감사 로그 분리 지원. 연관 필드 업데이트(카테고리, 태그, 미디어 등)는 nullable 혹은 배열 방식을 지원.",
      "properties": {
        "name": {
          "type": "string",
          "description": "변경할 상품명"
        },
        "description": {
          "type": "string",
          "description": "설명"
        },
        "status": {
          "type": "string",
          "description": "상태 코드"
        },
        "tag_ids": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "description": "상품에 연결할 새로운 태그 아이디"
        },
        "category_ids": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "description": "상품 카테고리 ID 리스트"
        },
        "media_ids": {
          "type": "array",
          "items": {
            "type": "string",
            "format": "uuid"
          },
          "description": "미디어(이미지/동영상 등) 연결 ID 배열"
        }
      },
      "required": []
    },
    "IShoppingProduct.ISummary": {
      "type": "object",
      "description": "상품 서머리(목록) 뷰용 요약 타입. 메인 엔티티의 핵심정보 서브셋 (id, name, status, internal_code 등)만 포함. 대용량 트래픽, 추천/검색 모듈의 리스트뷰 최적화 목적.\n\nPrisma상품 테이블 기반, 목록 뷰 요건의 컬럼만 포함.",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "상품의 고유 PK"
        },
        "name": {
          "type": "string",
          "description": "상품명"
        },
        "internal_code": {
          "type": "string",
          "description": "상품 내부 코드"
        },
        "status": {
          "type": "string",
          "description": "상태값"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "생성 타임스탬프"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "수정 타임스탬프"
        }
      },
      "required": []
    },
    "IShoppingProductVariant.IRequest": {
      "type": "object",
      "description": "상품 바리에이션 검색/필터 파라미터 요청DTO. product_variants 테이블 기반 조건 조회 및 페이징, 정렬, 가격, 주요 필터링 로직을 반영한다.\n\n서드파티 AI/추천, 인벤토리 관리, 대량 카탈로그 분석 대응 추가 확장성 내포.",
      "properties": {
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "바리에이션이 속한 상품 ID 필터"
        },
        "sku": {
          "type": "string",
          "description": "상품 SKU 코드"
        },
        "available": {
          "type": "boolean",
          "description": "판매 가능 여부 (즉시구매/품절 등)"
        },
        "price_min": {
          "type": "number",
          "format": "double",
          "description": "가격 구간 필터 하한"
        },
        "price_max": {
          "type": "number",
          "format": "double",
          "description": "가격 구간 필터 상한"
        },
        "import_feed_id": {
          "type": "string",
          "format": "uuid",
          "description": "외부입력(Import Feed) 기준 데이터 원본 식별자"
        },
        "created_from": {
          "type": "string",
          "format": "date-time",
          "description": "생성 시점(이후)."
        },
        "created_to": {
          "type": "string",
          "format": "date-time",
          "description": "생성 시점(이전)."
        },
        "page": {
          "type": "integer",
          "description": "페이지 번호"
        },
        "pageSize": {
          "type": "integer",
          "description": "페이지당 최대 결과 수"
        },
        "sort": {
          "type": "string",
          "description": "정렬 기준"
        },
        "order": {
          "oneOf": [
            {
              "const": "asc",
              "description": "정렬 방향"
            },
            {
              "const": "desc",
              "description": "정렬 방향"
            }
          ],
          "description": "정렬 방향"
        }
      },
      "required": []
    },
    "IPageIShoppingProductVariantSummary": {
      "type": "object",
      "description": "상품 바리에이션 요약(목록) DTO 페이징 래퍼. product_variants 테이블 기반 핵심 필드 요약, 전체 카운트, 페이징 메타 포함. 고도화 검색, 추천, 인벤토리 UI 등에서 사용.",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingProductVariant.ISummary"
          },
          "description": "바리에이션 요약 리스트"
        },
        "total_count": {
          "type": "integer",
          "description": "전체 카운트"
        }
      },
      "required": []
    },
    "IShoppingProductVariant.ISummary": {
      "type": "object",
      "description": "상품 바리에이션 요약정보 DTO. 대용량 리스트/추천/재고 UI에서 사용. product_variants 테이블의 PK, FK, 가격, 상태 요약. 인벤토리 연동, AI/추천 시스템 특화 속성 서브셋만 포함",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "바리에이션 고유 식별자 (PK)"
        },
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "소속 상품 ID"
        },
        "sku": {
          "type": "string",
          "description": "SKU"
        },
        "price": {
          "type": "number",
          "format": "double",
          "description": "기본 단가"
        },
        "barcode": {
          "type": "string",
          "description": "바코드"
        },
        "available": {
          "type": "boolean",
          "description": "판매 가능상태"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "생성 시각"
        }
      },
      "required": []
    },
    "IShoppingProductVariant": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Product variant의 고유 식별자입니다.\n\nPrisma 스키마의 product_variants.id를 참조하며, 각 상품의 세부 SKU(사이즈, 색상 등)를 구분합니다. 데이터 정규형식 3NF 준수로 개별 row에만 존재합니다."
        },
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "상위 products.id 연결 외래키입니다.\n\nPrisma 스키마와 ERD에 따라 variants는 반드시 하나의 product에 종속됩니다."
        },
        "import_feed_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "import_feeds.id와의 연결 외래키입니다. 외부 데이터 피드로부터 유입된 variant라면 해당 feed의 고유 ID가 저장됩니다."
            },
            {
              "type": "null"
            }
          ],
          "description": "import_feeds.id와의 연결 외래키입니다. 외부 데이터 피드로부터 유입된 variant라면 해당 feed의 고유 ID가 저장됩니다."
        },
        "sku": {
          "type": "string",
          "description": "SKU, 재고/유통용 식별자로 글로벌 고유성 혹은 외부시스템 연동 필요시 별도 관리됩니다.\n\n상품 옵션(색상, 사이즈 등)별로 개별 SKU를 분리합니다. Prisma schema에서 unique constraint 보유."
        },
        "price": {
          "type": "number",
          "format": "double",
          "description": "판매가(실행 시점 기준)입니다. 통화 단위는 product/매장 context와 연동될 수 있습니다.\n\nprisma 스키마에서 double precision 사용. 금액 정보는 variant 수준에서 관리되어야 하며, product 테이블은 집계치 미보유."
        },
        "barcode": {
          "type": "string",
          "description": "GS1, EAN 등 산업용 바코드 규격의 실제 바코드 값입니다.\n\n공급망 연동, POS 관리용 atomic 필드입니다."
        },
        "available": {
          "type": "boolean",
          "description": "진열/판매 활성화 여부입니다.\n\n실제 발행 가능한 SKU인지 시스템이 판단할 기본 진입점입니다."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "해당 SKU 최초 생성 시각 (변화 X, evidence chain)\n\n규제, 리포팅, 증거 보존 목적을 위해 변경되지 않습니다."
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "마지막 수정 시각 (mutable, evidence chain)\n\n이 필드는 variant가 가격/상태/재고 등 변경될 때마다 자동 갱신돼, 데이터 정합성과 추적성을 보장합니다."
        }
      },
      "required": [
        "id",
        "product_id",
        "sku",
        "price",
        "barcode",
        "available",
        "created_at",
        "updated_at"
      ],
      "description": "상품의 각 구성 옵션별 Variant 객체입니다.\n\nPrisma DB의 product_variants 테이블을 그대로 매핑하며, 한 제품에 여러 개의 SKU(옵션, 사이즈, 색상 등)를 등록할 수 있습니다. 각각의 variant는 상품 개별 판매 단위로 취급하며, ERP/OMS 연동에서 핵심 role을 가집니다.\n\nSKU별 가격/재고/바코드/활성화 여부 등 atomic(정규화된) 속성만 포함하고, 상품 메타 정보(명칭, 설명 등), 옵션 세트, 상위 제품과의 관계 등은 참조로 연결됩니다."
    },
    "IShoppingProductVariant.ICreate": {
      "type": "object",
      "properties": {
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "연결할 상위 상품(products)의 고유 ID입니다."
        },
        "import_feed_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "외부 피드에서 유입된 경우 source import_feeds.id"
            },
            {
              "type": "null"
            }
          ],
          "description": "외부 피드에서 유입된 경우 source import_feeds.id"
        },
        "sku": {
          "type": "string",
          "description": "실제 상품관리용 SKU이며, 고유합니다."
        },
        "price": {
          "type": "number",
          "format": "double",
          "description": "판매가(실행 시점 기준)"
        },
        "barcode": {
          "type": "string",
          "description": "POS/ERP 표준 바코드"
        },
        "available": {
          "type": "boolean",
          "description": "판매 활성화 여부"
        }
      },
      "required": [
        "product_id",
        "sku",
        "price",
        "barcode",
        "available"
      ],
      "description": "신규 상품 Variant 등록에 필요한 데이터 구조입니다.\n\n상품 관리자는 해당 타입에 맞춰 상세 SKU(사이즈, 색상 등) 단위로 상품 정보를 기입하며, product_id로 상위 상품과 1:n 관계를 맺습니다.\n\n옵션 조합, 가격, 바코드 등 atomic 필드는 inline 제출되고, 증거/이력 추적용 import_feed_id도 선택적으로 제출 가능합니다."
    },
    "ShoppingProductVariant.IUpdate": {
      "type": "object",
      "properties": {
        "sku": {
          "type": "string",
          "description": "SKU, 수정이 허용된다면 반드시 unique constraint 검증 필요."
        },
        "price": {
          "type": "number",
          "format": "double",
          "description": "판매가 변경. 규제상 가격 이력 또는 감사 필요시에는 이 필드 변경 시 이벤트 로그 및 감사기록이 남아야 함."
        },
        "barcode": {
          "type": "string",
          "description": "바코드 값"
        }
      },
      "description": "기존 Product Variant(개별 SKU)에 수정 가능한 필드를 제한적으로 업데이트합니다.\n\n선택적 patch/put 요청 body용. 식별자인 product_variant_id는 path로 전송되므로 포함하지 않습니다.\n\n필드는 모두 선택적(optional)이나, 3NF 데이터 무결성(예: SKU uniqueness)과 business 규칙 검증이 필요합니다.",
      "required": []
    },
    "ShoppingProductVariant": {
      "$ref": "#/components/schemas/IShoppingProductVariant",
      "description": "상품 개별 SKU/옵션 단위 Variant의 full 필드 세트입니다.\n\n정규화된 IShoppingProductVariant의 모든 필드와 정합성을 내포하며,\nvariant에 무관한 상위 테이블, 참조형 관계, 비정규화 필드는 포함하지 않습니다.\n\n정합성과 스키마 기반 클라이언트 자동생성을 위함."
    },
    "ShoppingProductCategory.IRequest": {
      "type": "object",
      "properties": {
        "parent_id": {
          "type": "string",
          "format": "uuid",
          "description": "상위 카테고리 id, 트리 탐색에서 사용."
        },
        "name": {
          "type": "string",
          "description": "부분검색 및 GIN 인덱스로 활용되는 카테고리명."
        },
        "page": {
          "type": "integer",
          "description": "페이지 번호(1부터)."
        },
        "limit": {
          "type": "integer",
          "description": "페이지 내 데이터 개수, 기본 20~50 설정 추천."
        },
        "sort": {
          "type": "string",
          "description": "정렬 키(name/생성일 등)"
        },
        "order": {
          "type": "string",
          "description": "asc/desc"
        },
        "created_after": {
          "type": "string",
          "format": "date-time",
          "description": "특정 시점 이후 추가된 객체만 조회"
        },
        "created_before": {
          "type": "string",
          "format": "date-time",
          "description": "특정 시점 이전 추가된 객체만 조회"
        }
      },
      "description": "상품 카테고리 리스트 검색/조회용 필터 객체입니다.\n\n상위 parent 카테고리 ID로 계층형 검색,\n부분카테고리명, 생성일 기준 range, 작성, 페이지네이션 등 복합 조건 검색 가능합니다.",
      "required": []
    },
    "ShoppingPageShoppingProductCategory": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/ShoppingProductCategory"
          }
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "상품 카테고리 리스트 및 페이지네이션 결과 세트입니다.\n\nIPage 구조를 따르며, 하위 data array에는 ShoppingProductCategory 요약 또는 전체 객체 배열이 포함됩니다. 각 data row는 단일 카테고리 구조에 부가적으로 계층구조(parent_id) 및 생성/수정일 필드가 첨부됩니다."
    },
    "ShoppingProductCategory": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "카테고리 고유 식별자, Prisma product_categories.id(정규화 3NF)"
        },
        "parent_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "상위 카테고리 id (nullable root)"
            },
            {
              "type": "null"
            }
          ],
          "description": "상위 카테고리 id (nullable root)"
        },
        "name": {
          "type": "string",
          "description": "카테고리명(유일값 보장)"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "생성일시(증거/노출/분석용)"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "마지막 수정시각(관리/증거용)"
        }
      },
      "required": [
        "id",
        "name",
        "created_at",
        "updated_at"
      ],
      "description": "상품 카테고리 객체입니다. 경로 기반 계층형 구조 및 정규화 데이터 필드만 포함합니다.\n\n카테고리명(name)은 유일하게 관리하며, 루트/하위(parent_id)의 연결은 nullable로 부모 없을 경우 null 나타냅니다. 생성/수정일시로 변화 추적 및 증거관리 대응합니다."
    },
    "ShoppingProductCategory.ICreate": {
      "type": "object",
      "properties": {
        "parent_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "실제로 상위 카테고리 연결이 없을 경우 명시적으로 null 제출 권장합니다."
            },
            {
              "type": "null"
            }
          ],
          "description": "실제로 상위 카테고리 연결이 없을 경우 명시적으로 null 제출 권장합니다."
        },
        "name": {
          "type": "string",
          "description": "신규 등록할 카테고리명"
        }
      },
      "required": [
        "name"
      ],
      "description": "상품 카테고리 신규 등록용 구조입니다. root 카테고리 등록시 parent_id는 null로 제출해야 정상적인 계층 구성이 보장됩니다.\n\nname(카테고리명)은 유일하게 관리되어야 하며, 사업자 정책상 특수 문자, 글자수 제약 사항을 검증해야 합니다."
    },
    "ShoppingProductCategory.IUpdate": {
      "type": "object",
      "properties": {
        "parent_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "상위 카테고리 변경시 지정. root(최상위)로 올릴 경우 null 입력."
            },
            {
              "type": "null"
            }
          ],
          "description": "상위 카테고리 변경시 지정. root(최상위)로 올릴 경우 null 입력."
        },
        "name": {
          "type": "string",
          "description": "카테고리명 수정"
        }
      },
      "description": "기존 상품 카테고리의 속성(이름/부모) 변경용 구조입니다.\n\n부분 update도 가능, 둘 중 하나(null포함)만 넘길 수 있습니다. name 필드는 변경 시 유일성 constraint 검증 필요.",
      "required": []
    },
    "ShoppingProductOption.IRequest": {
      "type": "object",
      "properties": {
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "옵션 소속 parent 상품 id."
        },
        "option_type": {
          "type": "string",
          "description": "옵션 유형(예시: color, size)"
        },
        "value": {
          "type": "string",
          "description": "옵션 실제 값(예시: Red, XL)"
        },
        "page": {
          "type": "integer",
          "description": "페이지 번호(기본 1~N)"
        },
        "limit": {
          "type": "integer",
          "description": "페이지 최대 row 수"
        },
        "sort": {
          "type": "string",
          "description": "정렬 대상 키"
        },
        "order": {
          "type": "string",
          "description": "asc/desc 정렬"
        }
      },
      "description": "상품 옵션 리스트/검색용 요청 파라미터 세트입니다.\n\n옵션타입, value, 상위 상품 id 등 복합 필터와 페이징/정렬 지원.",
      "required": []
    },
    "ShoppingPageShoppingProductOption": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/ShoppingProductOption"
          }
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "상품 옵션 리스트 및 페이징 결과입니다.\n\ndata 필드에는 ShoppingProductOption 단일 row들이 포함되며, pagination은 전체 카운트, 페이지/limit 정보를 제공합니다."
    },
    "ShoppingProductOption": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "옵션 개체 식별자(prisma product_options.id)"
        },
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "상위 소속 상품 id"
        },
        "option_type": {
          "type": "string",
          "description": "옵션 타입 ex) color/size 등"
        },
        "value": {
          "type": "string",
          "description": "실제 옵션 값"
        }
      },
      "required": [
        "id",
        "product_id",
        "option_type",
        "value"
      ],
      "description": "상품 개별 옵션(정규화 3NF) 구조.\n\n모든 옵션은 단일 값으로만 수록되며, 상품별 unique 속성을 보유합니다. 옵션 유형/값은 자유롭게 사용 가능하나, 입력 시 유효성/중복성 체크 필요(예: 상품별로 중복된 옵션 타입, 값 조합 불가)."
    },
    "ShoppingProductOption.ICreate": {
      "type": "object",
      "properties": {
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "The product's unique identifier to which this option belongs. Must match an existing record in the products table. Implements referential integrity and normalization from the product_options model.\n\nReferenced in onboarding, catalog admin, and product option creation workflows."
        },
        "option_type": {
          "type": "string",
          "description": "The option type (e.g., 'color', 'size'). Atomic category, validated for normalization. Originates from the product_options schema's option_type field.\n\nThese values are used by product variant composition and UI filters."
        },
        "value": {
          "type": "string",
          "description": "The option's atomic value (e.g., 'Red', 'XL'). Required and referenced by catalog/variant. Direct from product_options.value in the database schema.\n\nEnsures normalized, non-compound data entry for advanced AI-driven analytics."
        }
      },
      "required": [
        "product_id",
        "option_type",
        "value"
      ],
      "description": "Defines the structure for creating a product option (e.g., Size, Color) as specified by the ProductCatalog.product_options table in the Prisma schema. All properties map directly to normalized, atomic columns. Supports onboarding, AI attribute suggestion, and catalog extensibility use cases."
    },
    "ShoppingProductOption.IUpdate": {
      "type": "object",
      "properties": {
        "option_type": {
          "type": "string",
          "description": "The option type (e.g., 'color', 'size'), as defined by the product_options schema. Editable for correcting admin input or normalizing duplicated option types. Must remain atomic to prevent denormalization."
        },
        "value": {
          "type": "string",
          "description": "The editable value field for the option—for updating or correcting business input errors, as per product_options.value. Atomic, ensures 3NF. Note: Changing this may affect linked variants or catalog workflow."
        }
      },
      "description": "Object schema for updating an existing shopping product option, per ProductCatalog.product_options in Prisma. Only allowed fields are option_type and value; attempts to modify product_id or references should be rejected.",
      "required": []
    },
    "IProductTag.IRequest": {
      "type": "object",
      "properties": {
        "filter": {
          "type": "string",
          "description": "Optional full/partial string for filtering tag values. Enables trigram or full-text search as per product_tags schema. Used in advanced admin, analytics, and AI workflows."
        },
        "page": {
          "type": "integer",
          "description": "Page number for pagination (default: 1). Used for efficient navigation of large tag sets."
        },
        "limit": {
          "type": "integer",
          "description": "Maximum number of results per page (default as per business configuration, e.g., 100)."
        },
        "sortBy": {
          "type": "string",
          "description": "Field by which to sort results (e.g., 'created_at', 'value'). Backend should support any indexed column in product_tags schema."
        },
        "sortOrder": {
          "oneOf": [
            {
              "const": "asc",
              "description": "Sort order: ascending or descending."
            },
            {
              "const": "desc",
              "description": "Sort order: ascending or descending."
            }
          ],
          "description": "Sort order: ascending or descending."
        }
      },
      "description": "Input contract for searching, filtering, and paginating product tag records. Used for list operations on product_tags, allowing flexible search by value and evidence fields.",
      "required": []
    },
    "IPageIProductTag": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IProductTag"
          }
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated result container for product tag listings, as required by IPage for API responses. Contains product tag data and page info."
    },
    "IProductTag": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Product tag primary key. Maps to product_tags.id in DB, ensures global uniqueness. Audit/analytics workflows rely on this identifier."
        },
        "value": {
          "type": "string",
          "description": "Atomic tag value as normalized for every product tag, per product_tags.value in schema. Used for filtering, search, and tagging analytics."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the tag was registered, matching product_tags.created_at. Evidence-useful for AI/analytics and compliance exports."
        }
      },
      "required": [
        "id",
        "value",
        "created_at"
      ],
      "description": "Single product tag entity (product_tags table), fully normalized per DB schema. Fields are atomic and evidence-logged for AI tagging and compliance."
    },
    "IProductTag.ICreate": {
      "type": "object",
      "properties": {
        "value": {
          "type": "string",
          "description": "Tag value to be created/registered. Maps to product_tags.value. Required and must be unique per business/admin rule. Evidence-grade for analytics/AI."
        }
      },
      "required": [
        "value"
      ],
      "description": "Object for creating new product tag as per product_tags Prisma table. Contains atomic value; only one normalized field permitted. Used in AI/analytics labeling, admin management, and onboarding workflows."
    },
    "IProductTag.IUpdate": {
      "type": "object",
      "properties": {
        "value": {
          "type": "string",
          "description": "Updated atomic tag value. Used to correct or reclassify tags (product_tags.value in DB). Uniqueness and normalization enforced by business logic for referential integrity."
        }
      },
      "description": "Object for updating existing product tag (product_tags DB), per admin or AI corrections. Only value is mutable.",
      "required": []
    },
    "ICommonDeleteResult": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "description": "Describes the delete operation status/result."
        },
        "message": {
          "type": "string",
          "description": "Human-readable message conveying deletion outcome or additional context. Can be used for client notification or evidence export."
        }
      },
      "description": "Standardized result contract for delete/soft-delete operations. Evidence-grade for compliance audit and error diagnostics.",
      "required": []
    },
    "IProductMedia.IRequest": {
      "type": "object",
      "properties": {
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "Optional product ID to filter product media. Maps to product_media.product_id in DB. Used in catalog admin, evidence display, and AI asset fetching."
        },
        "product_variant_id": {
          "type": "string",
          "format": "uuid",
          "description": "Optional variant ID filter (product_media.product_variant_id). Enables fine-grained media retrieval per SKU/config."
        },
        "media_type": {
          "type": "string",
          "description": "Optional filter for asset type. Accepts types like 'image', 'video', as normalized in product_media.media_type."
        },
        "locale": {
          "type": "string",
          "description": "Optional filter by locale (e.g., 'ko-KR'). Used for I18N/a11y evidence, mapped to product_media.locale."
        },
        "archived": {
          "type": "boolean",
          "description": "Boolean for filtering archived (soft-deleted) vs. live assets."
        },
        "page": {
          "type": "integer",
          "description": "Pagination: page number."
        },
        "limit": {
          "type": "integer",
          "description": "Pagination: results per page."
        }
      },
      "description": "Input payload for paging/filtering/searching product media assets. Fully aligned with product_media schema definition and catalog evidence/accessibility requirements.",
      "required": []
    },
    "IPageIProductMedia": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IProductMedia"
          }
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Standard IPage (paginated) entity for product media results. Enables robust evidence/compliance and user analytics for catalog assets."
    },
    "IProductMedia": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier for the media asset (product_media.id). Referential evidence for all asset/a11y functions."
        },
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "Associated product (product_media.product_id), if asset is linked to a whole product. Nullable if linked instead to variant."
        },
        "product_variant_id": {
          "type": "string",
          "format": "uuid",
          "description": "Associated product variant (product_media.product_variant_id); mutually exclusive with product_id: exactly one set. Enables variant asset management & AI disambiguation."
        },
        "uri": {
          "type": "string",
          "description": "Asset URI—typically CDN, S3, or similar pointer. Plucked from product_media.uri. Not a PB/blob itself, but a reference only. Used for rendering/inference/a11y evidence."
        },
        "media_type": {
          "type": "string",
          "description": "Type of asset: 'image', 'video', 'pdf', etc. Used for rendering UI, inference flows, evidence exports. Matches product_media.media_type."
        },
        "locale": {
          "type": "string",
          "description": "Locale code (e.g., 'en-US'), from product_media.locale. Ensures accessibility & localization compliance."
        },
        "alt_text": {
          "type": "string",
          "description": "Accessibility alt text. From product_media.alt_text. Required for WCAG/a11y."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when asset was registered. Evidence (compliance, AI/a11y reference, forensics)."
        }
      },
      "required": [
        "id",
        "uri",
        "media_type",
        "locale",
        "alt_text",
        "created_at"
      ],
      "description": "Describes a catalog media asset (image, video, document) attached to a product or product variant. Follows product_media schema normalization and evidence best practices for accessibility, I18N, and AI-native asset management."
    },
    "IProductMedia.ICreate": {
      "type": "object",
      "properties": {
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "Optional product reference if asset is bound to a product (as opposed to a variant); mutually exclusive with product_variant_id."
        },
        "product_variant_id": {
          "type": "string",
          "format": "uuid",
          "description": "Optional variant reference if asset is bound to a specific SKU; mutually exclusive with product_id."
        },
        "uri": {
          "type": "string",
          "description": "Required. Reference URI for the asset. Evidence/a11y best practice: never store blobs in DB, only point to location."
        },
        "media_type": {
          "type": "string",
          "description": "Required. Type of digital asset (e.g., 'image', 'video', 'pdf'). Refers to product_media.media_type."
        },
        "locale": {
          "type": "string",
          "description": "Optional locale for the asset (e.g., 'en-US'). Ensures multi-language I18N compliance & evidence."
        },
        "alt_text": {
          "type": "string",
          "description": "Accessibility alt text, required for a11y compliance and AI-native referencing."
        }
      },
      "required": [
        "uri",
        "media_type",
        "alt_text"
      ],
      "description": "Object for registering product media asset (ProductCatalog.product_media). Requires unique URI, media_type, and alt_text. Optionally tied to product or variant. Asset content is referenced, not stored. Designed for compliance with accessibility, localization, and digital evidence protocols, per DB schema. WCAG/AI-contextual evidence first-class."
    },
    "IProductMedia.IUpdate": {
      "type": "object",
      "properties": {
        "uri": {
          "type": "string",
          "description": "A URI (Uniform Resource Identifier) reference to the product media file, such as an image or video. Updated to reflect remote asset changes and meet accessibility standards. This implements the requirement for robust asset management and evidence preservation in the product_catalog.product_media schema.\n\nExample: 'https://cdn.shopexample.com/media/item123_main.jpg'.\n\nAligns with the 'uri' column in product_media schema. Supports large file URL, but never stores binary in the DB."
        },
        "media_type": {
          "type": "string",
          "description": "The type of media file represented by this record. Accepted values include 'image', 'video', 'pdf', among others. Changing type can reflect asset conversions or a11y adjustments. This implements the business need for flexible media support as described in product_catalog.product_media.\n\nCorrelates to the 'media_type' column in the product_media table.\n\nUsed for filtering, analytics, and compliance reporting."
        },
        "locale": {
          "type": "string",
          "description": "Language or regional identifier (e.g., 'ko-KR') specifying the localization of this media asset. Changes to locale support multi-market and accessibility enhancements. Implements the multilingual and accessibility requirements for the asset as described in the product_catalog.product_media schema.\n\nReflects the 'locale' column in the DB table."
        },
        "alt_text": {
          "type": "string",
          "description": "Accessibility alternative text (a11y) for this product media. Required for WCAG compliance and internationalization.\n\nField implements the 'alt_text' column in product_media. Recommended for user-facing media to improve SEO and accessibility experience.\n\nExample: 'Side view photo of red Nike shoes.'"
        }
      },
      "required": [
        "uri",
        "media_type",
        "locale",
        "alt_text"
      ],
      "description": "Object schema for updating a product media record. References product_catalog.product_media with all fields required for compliance, a11y, and evidence. All property descriptions reflect DB schema comments."
    },
    "IInventory.IRequest": {
      "type": "object",
      "properties": {
        "product_variant_id": {
          "type": "string",
          "format": "uuid",
          "description": "Filter: Product variant id (FK to product_variants). Returns inventory associated to a single SKU. Implements the recommendation and inventory modules' need for precise querying."
        },
        "min_stock_count": {
          "type": "integer",
          "description": "Minimum stock threshold for filtering inventory results. Implements inventory evidence and analytics needs for restocking/alerting modules."
        },
        "max_stock_count": {
          "type": "integer",
          "description": "Maximum stock threshold filter for querying inventory results. Useful for evidence generation around out-of-stock or low stock analytics."
        },
        "updated_from": {
          "type": "string",
          "format": "date-time",
          "description": "Start of inventory last_modified_at filter (ISO8601 timestamp). Implements audit and BI reporting requirements."
        },
        "updated_to": {
          "type": "string",
          "format": "date-time",
          "description": "End of inventory last_modified_at filter (ISO8601 timestamp)."
        },
        "page": {
          "type": "integer",
          "description": "Page to retrieve (pagination)."
        },
        "limit": {
          "type": "integer",
          "description": "Results per page (pagination). Default is 100."
        }
      },
      "description": "Request structure for filtered/paginated inventory search in product_catalog.inventory. Built to match the analytics, operational, and compliance requirements described in the schema comments. Each property aligns with a column or filterable field in the inventory DB schema.",
      "required": []
    },
    "IPageIInventory": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IInventory"
          },
          "description": "Page slice of inventory records for this request."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated response (per IPage) containing inventory objects. Used for filtered, audited inventory list queries. All properties reference the standard IPage structure."
    },
    "IInventory": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary key. Unique inventory record identifier. Implements the strict normalization required by the product_catalog.inventory table.\n\nAids in audit trails and analytics workflows. See 'id' in inventory schema."
        },
        "product_variant_id": {
          "type": "string",
          "format": "uuid",
          "description": "Foreign key to product_variants.id. Each inventory record is mapped to an individual product variant (SKU/option set). Supports evidence, audit, and compliance requirements around stock/variant tracking.\n\nMatches 'product_variant_id' in inventory DB schema. Uniqueness enforced at DB level."
        },
        "stock_count": {
          "type": "integer",
          "description": "The current available quantity of the product variant in stock. Atomic, never a pre-calculated value. Business logic/compliance relies on its audit and BI reporting accuracy.\n\nSee 'stock_count' in the schema."
        },
        "last_modified_at": {
          "type": "string",
          "format": "date-time",
          "description": "Last update time for this inventory record, implements immutable evidence, analytics, and audit trail as described in the product_catalog.inventory schema.\n\nLinked to 'last_modified_at' in the DB."
        }
      },
      "required": [
        "id",
        "product_variant_id",
        "stock_count",
        "last_modified_at"
      ],
      "description": "Inventory entity object for shopping domain. Data and descriptions per product_catalog.inventory schema and ERD. Includes full audit, evidence, and analytics trace fields."
    },
    "IShoppingInventory.ICreate": {
      "type": "object",
      "properties": {
        "product_variant_id": {
          "type": "string",
          "format": "uuid",
          "description": "FK reference to product_variants.id. Required to tie new inventory row to a SKU/configuration. Implements evidence, normalization, and analytics described in the schema."
        },
        "stock_count": {
          "type": "integer",
          "description": "Initial stock value for this inventory record. Always atomic, as required for evidence-based inventory tracking in product_catalog.inventory."
        }
      },
      "required": [
        "product_variant_id",
        "stock_count"
      ],
      "description": "Payload for creating a new inventory record. References normalized DB schema and evidence, compliance requirements. All field descriptions are derived from product_catalog.inventory documentation."
    },
    "IShoppingInventory": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Inventory PK per product_catalog.inventory 'id'. For analytics, audit, and compliance workflows."
        },
        "product_variant_id": {
          "type": "string",
          "format": "uuid",
          "description": "FK to product_variants, maps which SKU this stock belongs to."
        },
        "stock_count": {
          "type": "integer",
          "description": "Atomic, indivisible count value for current stock. Never derived at DB layer; per evidence-preserving, audit-grade inventory."
        },
        "last_modified_at": {
          "type": "string",
          "format": "date-time",
          "description": "UTC timestamp (audit/evidence). Updated every stock modification."
        }
      },
      "required": [
        "id",
        "product_variant_id",
        "stock_count",
        "last_modified_at"
      ],
      "description": "Response object for inventory as persisted, containing all analytics, evidence, and compliance fields. Maps 1:1 to inventory DB schema."
    },
    "IShoppingInventory.IUpdate": {
      "type": "object",
      "properties": {
        "stock_count": {
          "type": "integer",
          "description": "Atomic update to the available stock value. Required for compliance, audit, and evidence trace in inventory."
        }
      },
      "required": [
        "stock_count"
      ],
      "description": "Update payload for modifying inventory record. Only stock_count is mutable, per product_catalog.inventory. Atomic, audit trail required."
    },
    "IShoppingInventory.IDeleteResult": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Deleted inventory record PK, for analytics, auditing, and compliance."
        },
        "product_variant_id": {
          "type": "string",
          "format": "uuid",
          "description": "Product variant ID whose inventory was deleted. For audit/compliance trace."
        },
        "deleted_at": {
          "type": "string",
          "format": "date-time",
          "description": "Deletion timestamp, marks compliance/evidence retention. Required for all audit-preserved record removals."
        }
      },
      "required": [
        "id",
        "product_variant_id",
        "deleted_at"
      ],
      "description": "Result data for delete operation on inventory. Maintains evidence, audit, and compliance trace as required by product_catalog.inventory."
    },
    "IShoppingImportFeeds.IRequest": {
      "type": "object",
      "properties": {
        "source_name": {
          "type": "string",
          "description": "Filter for import_feeds by source_name (example: 'Google Shopping'). Required for analytics, B2B compliance, and provenance review. Matches column spec in import_feeds."
        },
        "imported_from": {
          "type": "string",
          "format": "date-time",
          "description": "Start of import date range. Used for evidence, timeline audit."
        },
        "imported_to": {
          "type": "string",
          "format": "date-time",
          "description": "End of import date filter."
        },
        "page": {
          "type": "integer",
          "description": "Query pagination: which node to fetch."
        },
        "limit": {
          "type": "integer",
          "description": "Result slice, number per page."
        }
      },
      "description": "Paging/search/filter request for import_feeds table in product catalog. Matches requirements for data provenance, analytics, and B2B feed monitoring.",
      "required": []
    },
    "IPageIShoppingImportFeeds": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingImportFeeds"
          },
          "description": "Current page of import feed records."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated import feed results list. Used for catalog sync analytics, evidence, and compliance workflows."
    },
    "IShoppingImportFeeds": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary key for import_feed record. Enforces evidence trace per product_catalog.import_feeds schema."
        },
        "source_name": {
          "type": "string",
          "description": "External source system name. E.g., 'ERP X', 'PartnerStore', or 'Google Shopping'. Implements provenance, audit, compliance, and B2B analytics."
        },
        "source_uri": {
          "type": "string",
          "description": "URI for evidence asset, as required by the import_feeds schema for evidence preservation, B2B integration, and forensic audit.\n\nNever contains payload, only unique reference to external resource."
        },
        "imported_at": {
          "type": "string",
          "format": "date-time",
          "description": "UTC timestamp when this feed import event registered. Critical for analytics, BI, and compliance as per requirements."
        }
      },
      "required": [
        "id",
        "source_name",
        "source_uri",
        "imported_at"
      ],
      "description": "Response object for import_feeds table in product catalog. References evidence, provenance, and compliance requirements as detailed in the schema/requirements."
    },
    "IShoppingImportFeeds.ICreate": {
      "type": "object",
      "properties": {
        "source_name": {
          "type": "string",
          "description": "External/internal import source name, e.g., 'Google Shopping', per product_catalog.import_feeds schema. Implements B2B evidence, provenance and analytics."
        },
        "source_uri": {
          "type": "string",
          "description": "URI to evidence/provenance asset for import_feed. For audit, compliance, B2B feeds. Must be unique. Refer to field description in schema."
        }
      },
      "required": [
        "source_name",
        "source_uri"
      ],
      "description": "Create request payload for import_feeds table, catalog module. Attributes and validation per DB schema and B2B evidence preservation."
    },
    "IShoppingImportFeeds.IUpdate": {
      "type": "object",
      "properties": {
        "source_name": {
          "type": "string",
          "description": "업데이트할 외부 데이터 소스의 이름입니다. 예시: 'Google Shopping'.\n\nPrisma 컬럼 주석 참고: 사람이 읽을 수 있는 임포트 소스의 이름입니다. 고유 식별 목적과 감사 추적을 위함입니다."
        },
        "source_uri": {
          "type": "string",
          "description": "임포트 피드의 URI로, 데이터 출처를 지정합니다. 예시: 'https://partner.com/feed.xml'.\n\nPrisma 컬럼 주석 참고: 데이터 피드의 URI. 증적/출처 추적 필수이며 고유해야 합니다."
        }
      },
      "required": [],
      "description": "임포트 피드(외부 데이터 소스) 정보를 수정하기 위한 요청 형식입니다. Prisma 모델 'import_feeds'의 컬럼 설명 및 감사/증적 요구 사항을 반영합니다.\n\n- source_name: 소스 이름\n- source_uri: URI(고유, 변경 시 중복 허용 안 됨)\n\n모든 수정은 추적/감사 로그로 남으며, 소스 URI는 중복을 방지하고 데이터 무결성을 보장합니다."
    },
    "IShoppingImportFeeds.IDeleteResult": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "삭제된 import_feeds 레코드의 UUID입니다."
        },
        "deleted_at": {
          "type": "string",
          "format": "date-time",
          "description": "레코드가 삭제(아카이브) 처리된 시점입니다. 증적 감사 대응용입니다."
        }
      },
      "required": [
        "id",
        "deleted_at"
      ],
      "description": "임포트 피드 삭제(soft delete) 시 반환되는 결과 오브젝트입니다. Prisma import_feeds 모델의 감사/규제 삭제 요건을 반영하며, 실제 데이터 삭제 대신 기록만 남깁니다."
    },
    "IShoppingCatalogEvents.IRequest": {
      "type": "object",
      "properties": {
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "대상 제품의 UUID(선택적). 상품 레코드를 기준으로 이벤트를 조회할 경우 입력합니다.\n\nPrisma: catalog_events의 product_id 컬럼 연결."
        },
        "product_variant_id": {
          "type": "string",
          "format": "uuid",
          "description": "대상 제품 상세(variant)의 UUID(선택적). 특정 SKU/옵션 단위 이벤트 필터링에 사용합니다.\n\nPrisma: catalog_events의 product_variant_id 컬럼 연결."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "조작(이벤트 발생)자의 UUID(선택적). 이벤트 생성 유저 기준 필터링에 사용합니다.\n\nPrisma: catalog_events의 user_id 컬럼 참조."
        },
        "event_type": {
          "type": "string",
          "description": "이벤트 종류. 예: creation, status_change, import 등. 다양하게 검색 및 분류 목적으로 사용합니다.\n\nPrisma: catalog_events의 event_type 컬럼."
        },
        "description": {
          "type": "string",
          "description": "이벤트 상세 설명(검색용, 선택적). 텍스트 기반 키워드·필터 조건으로 활용할 수 있습니다."
        },
        "from": {
          "type": "string",
          "format": "date-time",
          "description": "검색/조회 기간의 시작일(UTC ISO8601)."
        },
        "to": {
          "type": "string",
          "format": "date-time",
          "description": "검색/조회 기간의 종료일(UTC ISO8601)."
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "description": "페이지 번호(1-base, 기본값 1)."
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "description": "페이지 사이즈. 기본값 100개, 최대 값은 정책 결정."
        }
      },
      "description": "카탈로그 이벤트(제품, 바리언트, 임포트 등)의 검색·페이징·필터링 요청 DTO 입니다. Prisma catalog_events 테이블의 각 필드를 바탕으로 검색 조건을 정의하였습니다. \n\n감사, 증적, 관리, 분석에서 활용하며, 다양한 필터 조합/기간/페이지네이션을 지원합니다.",
      "required": []
    },
    "IPageIShoppingCatalogEvents": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingCatalogEvents"
          },
          "description": "이 페이지 결과에 해당하는 catalog_events 목록."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "카탈로그 이벤트 페이지네이션된 결과 컬렉션입니다. 표준 IPage 구조로 페이지 정보(pagination)와 실제 레코드 배열(data)이 포함됩니다."
    },
    "IShoppingCatalogEvents": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "고유 이벤트 식별자(UUID)."
        },
        "product_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "이벤트 연관 제품 UUID. 없다면 null."
            },
            {
              "type": "null"
            }
          ],
          "description": "이벤트 연관 제품 UUID. 없다면 null."
        },
        "product_variant_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "이벤트 연관 제품 상세/바리언트 UUID. 없다면 null."
            },
            {
              "type": "null"
            }
          ],
          "description": "이벤트 연관 제품 상세/바리언트 UUID. 없다면 null."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "이벤트를 일으킨 시스템/사용자 UUID."
        },
        "event_type": {
          "type": "string",
          "description": "이벤트 종류(예: creation, update, status_change 등). 플랫폼 워크플로우 관리에 핵심."
        },
        "description": {
          "type": "string",
          "description": "이벤트 상세 설명. 감사 및 증적, 서술용."
        },
        "occurred_at": {
          "type": "string",
          "format": "date-time",
          "description": "이벤트 발생 시점(UTC ISO8601 표기). 증적, 소명, 타임라인 관리에서 필수."
        }
      },
      "required": [
        "id",
        "user_id",
        "event_type",
        "description",
        "occurred_at"
      ],
      "description": "카탈로그 이벤트 엔터티의 기본 표현입니다. 각 제품/바리언트/임포트에 귀속된 상태 변경, 생성, 변경 등 단일 이벤트 단위오브젝트로, Prisma 테이블 주석 기반 표준화와 증적·감사 범위 내 의미를 명확히 문서화.\n\n모든 이벤트 테이블 필드가 포함되며, 관계 필드는 UUID로 표현합니다."
    },
    "IShoppingCatalogEvents.ICreate": {
      "type": "object",
      "properties": {
        "product_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "이벤트 연관 제품 UUID(선택적). 관련 제품 없는 경우 null. Prisma 주석 참고."
            },
            {
              "type": "null"
            }
          ],
          "description": "이벤트 연관 제품 UUID(선택적). 관련 제품 없는 경우 null. Prisma 주석 참고."
        },
        "product_variant_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "이벤트 연관 제품 상세/바리언트 UUID(선택적)."
            },
            {
              "type": "null"
            }
          ],
          "description": "이벤트 연관 제품 상세/바리언트 UUID(선택적)."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "이벤트를 생성한 사용자 또는 시스템 UUID. 감사, 증적, 책임추적에 필요."
        },
        "event_type": {
          "type": "string",
          "description": "이벤트 종류(예: creation, update, status_change, import 등)."
        },
        "description": {
          "type": "string",
          "description": "이벤트 상세 설명. 규제/증적 목적에 반드시 필요."
        },
        "occurred_at": {
          "type": "string",
          "format": "date-time",
          "description": "이벤트 발생 시각(UTC ISO8601)."
        }
      },
      "required": [
        "user_id",
        "event_type",
        "description",
        "occurred_at"
      ],
      "description": "새 카탈로그 이벤트를 생성하는 요청 DTO입니다.\n\nPrisma catalog_events 테이블 주석/도메인 규정에 따라, 모든 atomic 이벤트 단위 입력을 책임 있게 관리합니다.\n\n- product_id/variant_id: 연결된 경우, 각 UUID 할당\n- user_id: 이벤트 실행 주체\n- event_type: 변경/생성 종류\n- description: 상세 설명(증적/감사 소명)\n- occurred_at: ISO 타임스탬프\n\n각 항목은 증적, 감사, 합법성 추적 목적에서 매우 중요하게 취급됩니다."
    },
    "IShoppingCatalogEvents.IUpdate": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string",
          "description": "이벤트 상세 설명 갱신(감사·증적 목적의 메타 피드 수정)"
        }
      },
      "required": [],
      "description": "Catalog event(카탈로그 이벤트) 레코드의 수정 DTO로, 현재 수정 허용 필드는 description(이벤트 설명)만을 대상으로 합니다. Prisma schema 및 감사지침에 따라 이외 핵심 필드는 변경 불가(immutable)로 설계되어 있습니다.\n\n- description: 이벤트 메타 의미/증적 사항 보완\n\n수정은 audit trail 및 증적 보존 목적으로 엄격히 관리됩니다."
    },
    "ICatalogEvidence.IRequest": {
      "type": "object",
      "properties": {
        "catalog_event_id": {
          "type": "string",
          "format": "uuid",
          "description": "해당 증거가 연관된 catalog_event의 UUID. 이벤트 단위로 증거를 필터링할 때 사용합니다."
        },
        "reference_uri": {
          "type": "string",
          "description": "증거(파일, 해시, IPFS 링크 등)의 URI로 검색·필터링 시 활용."
        },
        "description": {
          "type": "string",
          "description": "증거 설명. 텍스트 기반 검색·필터링 지원."
        },
        "from": {
          "type": "string",
          "format": "date-time",
          "description": "증거 등록일 기준 검색 시작일(UTC ISO8601)."
        },
        "to": {
          "type": "string",
          "format": "date-time",
          "description": "증거 등록일 기준 검색 종료일(UTC ISO8601)."
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "description": "결과 페이지(1-base)."
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "description": "페이지 크기. 기본값/최대값 정책 적용."
        }
      },
      "description": "카탈로그 증거 목록의 고급 검색/필터링/페이지네이션 요청 DTO입니다. catalog_evidence 테이블 핵심 컬럼 모두에 대한 검색·필터 구현과 감사지침 준수.",
      "required": []
    },
    "IPageICatalogEvidence": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/ICatalogEvidence"
          },
          "description": "해당 페이지의 catalog_evidence 목록 배열."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "catalog_evidence(카탈로그 증거) 테이블 정보의 표준 페이지네이션 결과 객체입니다. IPage 구조, 페이지 정보(pagination)와 해당 row 컬렉션(data 배열)로 구성."
    },
    "ICatalogEvidence": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "증거 레코드의 고유 식별자(UUID)."
        },
        "catalog_event_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "연결된 catalog_event의 고유 식별자(UUID)."
            },
            {
              "type": "null"
            }
          ],
          "description": "연결된 catalog_event의 고유 식별자(UUID)."
        },
        "reference_uri": {
          "type": "string",
          "description": "외부 증거의 URI(파일, 해시, S3, IPFS 등)."
        },
        "description": {
          "type": "string",
          "description": "증거 설명. 감사/법적 증적 제출시 사용."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "증거 레코드 생성일(UTC ISO8601 타임스탬프)."
        }
      },
      "required": [
        "id",
        "reference_uri",
        "description",
        "created_at"
      ],
      "description": "카탈로그 증거 단일 엔터티의 데이터 구조로, 외부 증거와 이벤트의 연결 및 법령 상 증적/감사지침의 audit 목적에 최적화되어 있습니다. Prisma catalog_evidence 테이블 컬럼 주석 기반, 각 속성은 증적 감사의 비가역성, 설명 가능성을 극대화합니다."
    },
    "ICatalogEvidence.ICreate": {
      "type": "object",
      "properties": {
        "catalog_event_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "연관된 catalog_event UUID(선택적 연결)."
            },
            {
              "type": "null"
            }
          ],
          "description": "연관된 catalog_event UUID(선택적 연결)."
        },
        "reference_uri": {
          "type": "string",
          "description": "증거의 외부 URI(파일, 해시, blob 등). 증적체 전달·보관·제출의 핵심."
        },
        "description": {
          "type": "string",
          "description": "설명 및 해석을 위한 증거의 설명 텍스트."
        }
      },
      "required": [
        "reference_uri",
        "description"
      ],
      "description": "신규 카탈로그 증거(catalog_evidence) 생성 요청 DTO입니다.\n- catalog_event_id: 연결 이벤트(UUID), 선택/nullable\n- reference_uri: 외부 증거 링크/식별자(필수)\n- description: 증거 설명(필수, 규제/감사/법적 제출시 근거)\n\nPrisma 컬럼 주석, 감사 요구 사항을 준수합니다."
    },
    "ICatalogEvidence.IUpdate": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string",
          "description": "증거 설명 보완 및 내용 수정(감사/법정 대응/메타 정보 보완 목적)"
        }
      },
      "required": [],
      "description": "카탈로그 증거(catalog_evidence) 레코드의 부분 수정 용도의 DTO입니다. 핵심 식별자, 레퍼런스 URI 등은 불변. description(설명) 필드만 업데이트 가능합니다. 모든 변경은 감사 및 비가역적 증적 보존 정책을 따릅니다."
    },
    "ICart.IRequest": {
      "type": "object",
      "description": "Search, filtering, and pagination request for shopping cart records.\n\nRepresents query parameters for listing or searching shopping carts, used in administrative review, ML analytics, or user-facing cart recovery. All fields map to atomic columns or valid query parameters on the cart table.\n\nIncludes user/session linkage for RBAC, time range filters, deletion status, and pagination parameters for large datasets. Designed to preserve 3NF, only includes directly filterable fields. Follows compliance and auditability requirements.",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Filter by user UUID (cart owner). Used for listing all carts for a single user. Referenced from users.id. Optional. See cart.user_id in schema.\n\n3NF adherence: never duplicated, can be null for unrestricted query."
        },
        "session_id": {
          "type": "string",
          "format": "uuid",
          "description": "Filter by session UUID (session owning the cart). Used for anonymous/pre-login cart recovery or cross-device cart lookup. Nullable. See cart.session_id."
        },
        "created_at_from": {
          "type": "string",
          "format": "date-time",
          "description": "Lower bound (inclusive) for cart creation timestamp, for time-windowed search. Used for analytics or abandoned cart recovery."
        },
        "created_at_to": {
          "type": "string",
          "format": "date-time",
          "description": "Upper bound (inclusive) for cart creation timestamp. Time-window filter for cart search."
        },
        "deleted": {
          "type": "boolean",
          "description": "If true, only return carts marked deleted/archived (soft delete logic). If false, only return active carts. For evidence audits or regulatory requests."
        },
        "page": {
          "type": "integer",
          "description": "Pagination: page number (starting from 1)."
        },
        "pageSize": {
          "type": "integer",
          "description": "Pagination: maximum number of carts per page. Defaults to system setting (e.g., 50 or 100)."
        }
      },
      "required": []
    },
    "IPageICart": {
      "type": "object",
      "description": "Paginated result of cart listing operation.\n\nProvides cart data and pagination info for searching/listing carts. Used for admin, analytics, and user-facing bulk cart review. Model is evidence-compliant by including full pagination metadata.\n\nRespects 3NF with array of atomic cart objects. Used throughout CartOrder domain for scalable results.",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/ICart"
          },
          "description": "List of cart objects returned for the current page of query results."
        }
      },
      "required": []
    },
    "ICart": {
      "type": "object",
      "description": "Normalized shopping cart record (see CartOrder.cart model).\n\nAtomic cart details. Contains user/session references, evidence timestamps, and association with cart items and orders by reference only (see related endpoints for list/detail of children).\n\nPreserves evidence, audit, and multiplatform support as per the requirements analysis. No denormalized data; everything is atomic and reflected from the primary store. Fields align with Prisma schema.",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary Key. Unique cart instance. See cart.id."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "User's UUID who owns this cart. See cart.user_id."
        },
        "session_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional session UUID for anonymous/pre-login carts. cart.session_id. Nullable."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional session UUID for anonymous/pre-login carts. cart.session_id. Nullable."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Cart creation timestamp, evidence/audit field. cart.created_at."
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Last update timestamp of cart. Audit integrity field. cart.updated_at."
        },
        "deleted_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Soft deletion timestamp, nullable (active if null). cart.deleted_at."
            },
            {
              "type": "null"
            }
          ],
          "description": "Soft deletion timestamp, nullable (active if null). cart.deleted_at."
        }
      },
      "required": [
        "id",
        "user_id",
        "created_at",
        "updated_at"
      ]
    },
    "ICart.ICreate": {
      "type": "object",
      "description": "Data required to create a new shopping cart.\n\nAtomic values specifying cart owner and (optional) session association at creation time.\n\nBusiness logic ensures only one active cart per user/session context at a time. Validations for current open cart enforced in API/business logic.",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "UUID of user to own the cart. Required. See users.id."
        },
        "session_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional existing session to associate the cart with, e.g., for pre-login or multi-device persistence. sessions.id. Nullable."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional existing session to associate the cart with, e.g., for pre-login or multi-device persistence. sessions.id. Nullable."
        }
      },
      "required": [
        "user_id"
      ]
    },
    "ICart.IUpdate": {
      "type": "object",
      "description": "Data for updating an existing cart record by ID. Applies only to mutable atomic fields (timestamps, session linkage, deletion state).\n\nImmutable fields (id, user_id) cannot be changed via this object. Business logic restricts owner changes. Used for cart recovery, compliance, evidence mark (e.g., delete/restore), or session re-association.\n\nAll mutations are evidence-logged for audit/compliance. Partial update: all fields optional.",
      "properties": {
        "session_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optionally update associated session for cart, for cross-device/session cart recovery. Nullable."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optionally update associated session for cart, for cross-device/session cart recovery. Nullable."
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Manual override of update timestamp (primarily for compliance/workflow correction)."
        },
        "deleted_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Optionally mark cart as deleted (null -> active, otherwise timestamp). Used for compliance soft-delete actions."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optionally mark cart as deleted (null -> active, otherwise timestamp). Used for compliance soft-delete actions."
        }
      },
      "required": []
    },
    "ICartItem.IRequest": {
      "type": "object",
      "description": "Parameters for searching, filtering, and paging cart_item records.\n\nIncludes atomic fields for cart item search, per evidence-preserving, audit, and ML/analytics use cases. Directly aligns with CartOrder.cart_item model. Used for compliance review, analytics dashboards, and per-user cart content review.\n\nSupports advanced queries with cart reference, product variant filter, time window, and pagination.",
      "properties": {
        "cart_id": {
          "type": "string",
          "format": "uuid",
          "description": "Cart UUID to filter all items associated with a single cart. Derived from cart.id."
        },
        "product_variant_id": {
          "type": "string",
          "format": "uuid",
          "description": "Filter to a specific product variant (SKU), for variant-level analytics. From product_variants.id."
        },
        "added_at_from": {
          "type": "string",
          "format": "date-time",
          "description": "Lower bound for item addition timestamp. Used for recovery/analytics/audit."
        },
        "added_at_to": {
          "type": "string",
          "format": "date-time",
          "description": "Upper bound for item addition timestamp."
        },
        "deleted": {
          "type": "boolean",
          "description": "If true, only soft deleted (archived) cart items are returned. If false, only active items are shown."
        },
        "page": {
          "type": "integer",
          "description": "Pagination: page number (starting from 1)"
        },
        "pageSize": {
          "type": "integer",
          "description": "Pagination: results per page, system default if omitted."
        }
      },
      "required": []
    },
    "IPageICartItem": {
      "type": "object",
      "description": "Paginated response for cart item queries.\n\nProvides a list of cart_item objects and full pagination metadata, as per compliance, admin tools, and analytics/dashboard needs. Model is evidence-compliant and follows standard IPage contract for list views.",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingCartItem"
          },
          "description": "Cart item records for the current result page."
        }
      },
      "required": []
    },
    "IShoppingCartItem": {
      "type": "object",
      "description": "A single cart item record, reflecting CartOrder.cart_item model from schema.\n\nStores strictly atomic cart item info (variant ID, quantity, timestamps), never denormalized. Contains only direct references—product info, pricing, and relationships are resolved by external APIs/models. Fully 3NF-compliant for audit, rollback, and evidence preservation, matches requirements for analytics/ML and multi-user cart management.",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary Key. Unique identifier for this cart item. cart_item.id."
        },
        "cart_id": {
          "type": "string",
          "format": "uuid",
          "description": "FK to cart record this item belongs to. cart_item.cart_id."
        },
        "product_variant_id": {
          "type": "string",
          "format": "uuid",
          "description": "FK to product_variants record for the specific item/SKU in cart. cart_item.product_variant_id."
        },
        "quantity": {
          "type": "integer",
          "description": "User-specified quantity for this cart item at time of creation. cart_item.quantity."
        },
        "added_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp for when this item was first added to the cart. Evidence/audit field."
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification timestamp for cart item (e.g., quantity change)."
        },
        "deleted_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Soft deletion timestamp (nullable). Set for compliance/recovery only."
            },
            {
              "type": "null"
            }
          ],
          "description": "Soft deletion timestamp (nullable). Set for compliance/recovery only."
        }
      },
      "required": [
        "id",
        "cart_id",
        "product_variant_id",
        "quantity",
        "added_at",
        "updated_at"
      ]
    },
    "IShoppingCartItem.ICreate": {
      "type": "object",
      "description": "Request body schema for creating a new cart item (CartOrder.cart_item). \n\nOnly atomic fields required at creation: cart reference, variant, and quantity.\nAll referential integrity is enforced by API logic. The item is created for the current/active cart.\n\nBusiness logic ensures only one item per (cart, product_variant) can exist at a time.",
      "properties": {
        "cart_id": {
          "type": "string",
          "format": "uuid",
          "description": "Target cart for adding this item."
        },
        "product_variant_id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier for the product variant (SKU) being added to the cart."
        },
        "quantity": {
          "type": "integer",
          "minimum": 1,
          "description": "Quantity to add; must be at least 1. Enforced by business logic."
        }
      },
      "required": [
        "cart_id",
        "product_variant_id",
        "quantity"
      ]
    },
    "IShoppingCartItem.IUpdate": {
      "type": "object",
      "description": "Fields for updating a cart item (CartOrder.cart_item). All fields optional (PATCH-style).\n\nSupports changing item quantity and timestamps for update compliance, but not item ID, cart ID, or product_variant_id (immutable).\n\nAudit-compliant, evidence-preserved—all actions logged for compliance. Cannot update to negative quantity or violate uniqueness constraints.",
      "properties": {
        "quantity": {
          "type": "integer",
          "description": "New quantity for cart item (must be positive)."
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Updated modification timestamp (compliance/audit field)."
        },
        "deleted_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Mark item as deleted/restored (soft delete logic), nullable."
            },
            {
              "type": "null"
            }
          ],
          "description": "Mark item as deleted/restored (soft delete logic), nullable."
        }
      },
      "required": []
    },
    "IShoppingOrder.IRequest": {
      "type": "object",
      "description": "Advanced query parameters for listing/shopping order records.\n\nProvides fine-grained filtering and pagination for order record search in admin, analytics, and user history contexts. Accepts search strings, user filter, status code, date ranges, or other atomic fields.\n\nModel is 3NF-preserving and audit/evidence-suitable for compliance workflows.",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Restrict orders to a particular user/account. orders.user_id."
        },
        "status_code": {
          "type": "string",
          "description": "Restrict orders to a particular status by code (e.g., pending, paid, shipped). Not validated at type level to allow future enumeration expansion."
        },
        "created_at_from": {
          "type": "string",
          "format": "date-time",
          "description": "Lower bound for order creation timestamp."
        },
        "created_at_to": {
          "type": "string",
          "format": "date-time",
          "description": "Upper bound for order creation timestamp."
        },
        "deleted": {
          "type": "boolean",
          "description": "Include/exclude orders with deleted_at set (soft deleted)."
        },
        "page": {
          "type": "integer",
          "description": "Pagination: page number."
        },
        "pageSize": {
          "type": "integer",
          "description": "Number of results per page."
        }
      },
      "required": []
    },
    "IPageIShoppingOrder": {
      "type": "object",
      "description": "Paginated result structure for shopping order list queries.\n\nIncludes list of order records and full pagination info, evidence-ready for compliance and regulatory reports. Used for user/account, admin, or ML/analytics workflows. List is array of IShoppingOrder objects.",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingOrder"
          },
          "description": "Actual order records for the current page."
        }
      },
      "required": []
    },
    "IShoppingOrder": {
      "type": "object",
      "description": "주문(order) 테이블의 단일 객체 표현\n\n모든 주문의 atomic 필드, 참조(사용자, cart, 증적 등) 및 상태 이력 포함. 확대시 필요한 관계형 객체(주문자, 카트, 상태, 아이템 등) 필드는 최소 Summary화 혹은 $ref 활용.\n\n감사, 증적, 주문 진척 상태 측정, 인보이스(서술자), ML 분석 등의 객체 단위 표준입니다.",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "주문 고유 ID"
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "주문자(고객) UUID"
        },
        "cart_id": {
          "type": "string",
          "format": "uuid",
          "description": "참조 cart의 UUID"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "주문 생성시각"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "최근 주문 변경 시각"
        },
        "deleted_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "삭제(혹은 취소) 타임스탬프. evidence 용도. null이면 active."
            },
            {
              "type": "null"
            }
          ],
          "description": "삭제(혹은 취소) 타임스탬프. evidence 용도. null이면 active."
        }
      },
      "required": [
        "id",
        "user_id",
        "cart_id",
        "created_at",
        "updated_at"
      ]
    },
    "IShoppingOrder.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "주문을 만드는 사용자 ID(필수)."
        },
        "cart_id": {
          "type": "string",
          "format": "uuid",
          "description": "연동되는 소스 장바구니 ID(필수)."
        },
        "order_items": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingOrderItem.ICreate"
          },
          "description": "장바구니에서 주문으로 전환 시 포함되는 각 주문 상품 상세 등록 정보 집합."
        }
      },
      "required": [
        "user_id",
        "cart_id",
        "order_items"
      ],
      "description": "주문 등록/생성 요청 본문 타입\n\n사용자가 장바구니를 결제(주문)로 전환할 때 필요한 주요 입력값(사용자, 카트, 주문 상품 정보)을 담습니다. 모든 하위 주문 아이템 등록은 order_items 하위 오브젝트 집합으로 반드시 명시되어야 하며, 생성 후에는 일관성을 위해서 증거성, 감사를 위한 고유 order_id, 타임스탬프 등은 서버에서 자동 생성됩니다.\n\nPrisma CartOrder.order 및 관련 하위 엔티티 구조와 규정 코멘트에 따라 설계되었습니다."
    },
    "IShoppingOrder.IUpdate": {
      "type": "object",
      "properties": {
        "order_items": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingOrderItem.IUpdate"
          },
          "description": "(선택) 주문 내 상품 라인 정보 업데이트."
        },
        "deleted_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "주문 소프트 삭제 시점 또는 복구 요청 타임스탬프. 증거성 및 규정 대응 목적."
            },
            {
              "type": "null"
            }
          ],
          "description": "주문 소프트 삭제 시점 또는 복구 요청 타임스탬프. 증거성 및 규정 대응 목적."
        }
      },
      "description": "주문 정보 변경(수정/소프트삭제 복구 등) 요청 타입\n\n주문 생성 이후, 관리자가 상품 라인 추가/삭제/정정, 주문의 논리 삭제, 복구, 일부 상태정보(예: 증빙 사유) 등을 변경 요청할 때 사용됩니다. ID, 사용자 정보 등은 수정 불가(Immutable).\n\n모든 수정 사항은 증거 및 감사 목적상 불변 로그로 저장됨을 전제로 합니다.",
      "required": []
    },
    "IShoppingOrderItem.IRequest": {
      "type": "object",
      "properties": {
        "order_id": {
          "type": "string",
          "format": "uuid",
          "description": "필터 대상 주문의 고유 ID. 특정 주문 상세 조회 시 사용됨."
        },
        "product_variant_id": {
          "type": "string",
          "format": "uuid",
          "description": "특정 상품(variant)으로 주문 상세 행을 필터링. 검색/정렬에 사용."
        },
        "added_at_start": {
          "type": "string",
          "format": "date-time",
          "description": "주문 상세 라인 추가 시작일(범위 검색/필터용)"
        },
        "added_at_end": {
          "type": "string",
          "format": "date-time",
          "description": "주문 상세 라인 추가 종료일(범위 검색/필터용)"
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "description": "페이지네이션: 페이지 번호(기본 1)"
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "description": "페이지네이션: 페이지당 출력 행 수(기본 20)"
        },
        "sort_by": {
          "type": "string",
          "description": "정렬 키(예: added_at, product_variant_id 등)"
        }
      },
      "description": "주문 상세 (order_item) 검색 및 리스트 조회 요청용 페이로드 타입\n\n특정 주문 내 라인별 세부 내역 검색/탐색, 다중 주문 통합검색, 날짜/상품 기준 필터 및 페이징 처리를 지원합니다. 프론트엔드 리스트, 통계, 분실추적 등 다양한 활용 케이스를 염두에 둔 필드 정의입니다.\n\nPrisma CartOrder.order_item, 어플리케이션 규정에 맞춰 설계되었습니다.",
      "required": []
    },
    "IPageIShoppingOrderItem": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingOrderItem"
          }
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "주문 상세(order_item) 목록 결과 컨테이너 타입\n\n페이징 정보와 실제 데이터 배열을 묶어 반환. IPage 표준 구조를 계승."
    },
    "IShoppingOrderItem": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "고유 주문 상세 행 식별자. Prisma 'order_item.id' 컬럼."
        },
        "order_id": {
          "type": "string",
          "format": "uuid",
          "description": "이 주문 상세가 속한 주문(order) ID. 증거 링크."
        },
        "product_variant_id": {
          "type": "string",
          "format": "uuid",
          "description": "주문된 개별 제품(상품 옵션) variant ID"
        },
        "quantity": {
          "type": "integer",
          "format": "int32",
          "description": "주문된 해당 상품 수량"
        },
        "added_at": {
          "type": "string",
          "format": "date-time",
          "description": "상품이 주문 상세에 추가된 시점. 증거/감사 로그."
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "주문 상세 정보의 최종 수정 시점"
        },
        "product_variant": {
          "oneOf": [
            {
              "type": "object",
              "description": "(옵션) 주문 상세와 연결된 상품 variant의 요약/참조 정보",
              "properties": {
                "sku": {
                  "type": "string",
                  "description": "SKU unique code"
                }
              },
              "required": []
            },
            {
              "type": "null"
            }
          ],
          "description": "(옵션) 주문 상세와 연결된 상품 variant의 요약/참조 정보"
        }
      },
      "required": [
        "id",
        "order_id",
        "product_variant_id",
        "quantity",
        "added_at",
        "updated_at"
      ],
      "description": "주문 상세(OrderLine, order_item)\n\n주문 내 개별 상품별 구매내역 엔터티로, 주문(헤더)와 1:N 관계. 제품 variant, 수량, 증거성 타임스탬프, 변경이력까지 포함. 규정상 주문/제품/변경 로그(증거) 체계에 적합하게 Prisma 주석을 바탕으로 설계."
    },
    "IShoppingOrderItem.ICreate": {
      "type": "object",
      "properties": {
        "product_variant_id": {
          "type": "string",
          "format": "uuid",
          "description": "주문할 상품(variant) ID. 필수"
        },
        "quantity": {
          "type": "integer",
          "format": "int32",
          "description": "주문 수량. 필수이며 1 이상만 허용"
        }
      },
      "required": [
        "product_variant_id",
        "quantity"
      ],
      "description": "주문 상세(OrderItem) 생성 입력\n\n주문 생성시 필요한 각 주문 상품 구성 정보. 단일 제품 variant + 수량 단위 행이며, 생성 시 상위 주문 ID는 문맥상(부모 create에 연동) 자동 할당됨. 모든 아이템은 1 이상의 수량 필요. 증거 및 감사 목적상 minimal이며 확장 가능.\n\n주석: CartOrder.order_item, ShoppingOrder.ICreate 내부 참조."
    },
    "IShoppingOrderItem.IUpdate": {
      "type": "object",
      "properties": {
        "quantity": {
          "type": "integer",
          "format": "int32",
          "description": "주문 상품 수량(변경시)"
        }
      },
      "description": "주문 상세(OrderItem) 행의 부분 수정(수량 변동 등)에 사용하는 요청 타입\n\n수량 증감/감소, 정정 등에 활용. 모든 수정 사항은 이력/감사/증거성 목적으로 로그 보관됨.\n\nPrisma CartOrder.order_item 문서 및 요구사항을 기반으로 설계.",
      "required": []
    },
    "IShoppingOrderStatus.IRequest": {
      "type": "object",
      "properties": {
        "order_id": {
          "type": "string",
          "format": "uuid",
          "description": "주문 상태 변경 이력을 조회할 주문 ID"
        },
        "status_code": {
          "type": "string",
          "description": "검색 대상 상태코드(예: paid, shipped 등)"
        },
        "changed_at_start": {
          "type": "string",
          "format": "date-time",
          "description": "상태 변경 시작일(필터)"
        },
        "changed_at_end": {
          "type": "string",
          "format": "date-time",
          "description": "상태 변경 종료일(필터)"
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "description": "페이지네이션: 페이지 번호"
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "description": "페이지네이션: 페이지당 결과 수"
        }
      },
      "description": "주문 상태(order_status) 이력 검색 요청\n\n특정 주문의 상태전이 히스토리 필터/페이징형으로 반환. Prism CartOrder.order_status, 업무 규정, 감사 목적의 필터 및 날짜 구간 검색에 활용.",
      "required": []
    },
    "IPageIShoppingOrderStatus": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingOrderStatus"
          }
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "주문 상태 이력(page of order_status) 응답 컨테이너\n\n전체 상태 변경 히스토리, 페이징 메타데이터 등 포함. IPage 표준을 따른다."
    },
    "IShoppingOrderStatus": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "고유 주문 상태 이력 식별자(주문 상태 변경 이벤트 PK)\n\nPrisma 'order_status.id' 컬럼."
        },
        "order_id": {
          "type": "string",
          "format": "uuid",
          "description": "주문(order)와 연결되는 외래키. 상태 트랙킹 목적."
        },
        "status_code": {
          "type": "string",
          "description": "주문 상태, 예: pending, paid, shipped, delivered 등. 비즈니스 요구에 따라 시스템이 유효성을 관리."
        },
        "changed_at": {
          "type": "string",
          "format": "date-time",
          "description": "상태 전이 발생 시각, 불변의 증거성 필드."
        },
        "changed_by": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "직접 상태를 변경한 유저 ID(없는 경우 시스템 자동 변경)."
            },
            {
              "type": "null"
            }
          ],
          "description": "직접 상태를 변경한 유저 ID(없는 경우 시스템 자동 변경)."
        }
      },
      "required": [
        "id",
        "order_id",
        "status_code",
        "changed_at"
      ],
      "description": "주문 상태 변경 이력(order_status event)\n\n주문 라이프사이클 내의 모든 상태 변경 시퀀스 및 감사를 지원. 적법 증거 체계 및 감사 이력 보강 목적의 Prisma 컬럼 설명 및 요구사항 기반 설계."
    },
    "IShoppingOrderStatus.ICreate": {
      "type": "object",
      "properties": {
        "order_id": {
          "type": "string",
          "format": "uuid",
          "description": "상태 변경 대상 주문(order) ID"
        },
        "status_code": {
          "type": "string",
          "description": "새로 설정(전이)할 상태 코드. 필수, 예: paid, shipped 등."
        },
        "changed_by": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "상태변경을 직접 트리거한 유저(없으면 시스템 자동)"
            },
            {
              "type": "null"
            }
          ],
          "description": "상태변경을 직접 트리거한 유저(없으면 시스템 자동)"
        }
      },
      "required": [
        "order_id",
        "status_code"
      ],
      "description": "주문 상태(order_status) 변경 행사 요청\n\n주문 상태 전이 이벤트를 기록/적용할 때 사용.\nPrisma CartOrder.order_status 정의 및 감사 로그/증거 문맥을 반영하여 설계함."
    },
    "IShoppingOrderStatus.IUpdate": {
      "type": "object",
      "description": "주문 상태 레코드를 부분 또는 전체적으로 갱신할 때 사용하는 데이터 타입입니다.\n\nPrisma schema의 order_status 테이블의 컬럼 설명에 기반하며, 일반적으로 상태코드(status_code), 변경일시(changed_at), 변경자(changed_by) 필드를 업데이트할 수 있습니다. 이 타입을 사용해 상태 값·변경자·이유(옵션) 등을 설정하며, 업데이트 이력이 감사 추적과 증적 보전을 위해 자동으로 남습니다.",
      "properties": {
        "status_code": {
          "type": "string",
          "description": "주문 상태 코드. 예: 'paid', 'shipped', 'cancelled'.\n\n주문 프로세스의 워크플로우 현황을 의미하며, 시스템 정책에 따라 제한된 값만 가능합니다. Prisma 컬럼의 atomic 속성, 감사 로그와 증적 보전 규정 하에 변경됩니다."
        },
        "changed_at": {
          "type": "string",
          "format": "date-time",
          "description": "상태 변경 발생 시각. ISO8601 포맷 사용.\n\n일정시점의 상태 전이 증적, 규제감사 및 법적 추적 근거입니다. Prisma schema의 changed_at 컬럼 참조."
        },
        "changed_by": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "상태 변경을 수행한 사용자 또는 시스템의 UUID.\n\n직접 입력 또는 시스템 자동설정. 변경주체 감사를 지원하며 Prism schema의 changed_by 컬럼 참조. 시스템 자동전환 시 null 허용."
            },
            {
              "type": "null"
            }
          ],
          "description": "상태 변경을 수행한 사용자 또는 시스템의 UUID.\n\n직접 입력 또는 시스템 자동설정. 변경주체 감사를 지원하며 Prism schema의 changed_by 컬럼 참조. 시스템 자동전환 시 null 허용."
        }
      },
      "required": [
        "status_code",
        "changed_at"
      ]
    },
    "IShoppingOrderLog.IRequest": {
      "type": "object",
      "description": "order_log 레코드 리스트를 필터링/검색/페이징할 때 사용하는 요청 DTO입니다.\n\n감사, 컴플라이언스, 증적 재구성 및 Forensic 분석을 위해 order_id, event_type, actor, 이벤트 타임레인지 등에 대한 필터링 지원.\n\nPrisma schema의 각 컬럼별 atomic 특성을 반영하며, 페이지네이션(페이지 번호, limit) 필드가 포함됩니다.",
      "properties": {
        "order_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "검색 대상 주문의 UUID\n\norder_log에 연결된 특정 주문을 대상으로 필터링하는 경우 사용. Prisma의 order_id 컬럼과 1:N 관계."
            },
            {
              "type": "null"
            }
          ],
          "description": "검색 대상 주문의 UUID\n\norder_log에 연결된 특정 주문을 대상으로 필터링하는 경우 사용. Prisma의 order_id 컬럼과 1:N 관계."
        },
        "event_type": {
          "oneOf": [
            {
              "type": "string",
              "description": "이벤트 타입 필터 (예: 'create', 'update', 'status_change', 'attach_evidence' 등)\n\norder_log의 event_type 컬럼 값과 일치."
            },
            {
              "type": "null"
            }
          ],
          "description": "이벤트 타입 필터 (예: 'create', 'update', 'status_change', 'attach_evidence' 등)\n\norder_log의 event_type 컬럼 값과 일치."
        },
        "actor_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "이벤트를 실행한 사용자 또는 시스템 actor의 UUID.\n\n분쟁 대응 등 이벤트 주체 정교한 탐색이 필요한 경우. Prisma의 actor_id 참조."
            },
            {
              "type": "null"
            }
          ],
          "description": "이벤트를 실행한 사용자 또는 시스템 actor의 UUID.\n\n분쟁 대응 등 이벤트 주체 정교한 탐색이 필요한 경우. Prisma의 actor_id 참조."
        },
        "from_time": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "검색 시작 시각. ISO8601 포맷. event_time 컬럼 기준 범위검색에서 사용."
            },
            {
              "type": "null"
            }
          ],
          "description": "검색 시작 시각. ISO8601 포맷. event_time 컬럼 기준 범위검색에서 사용."
        },
        "to_time": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "검색 종료 시각. ISO8601 포맷."
            },
            {
              "type": "null"
            }
          ],
          "description": "검색 종료 시각. ISO8601 포맷."
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "default": 1,
          "description": "페이지 번호 (기본값 1)."
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "default": 20,
          "description": "한 페이지 당 표시될 레코드 수. (기본값 20)"
        },
        "sort": {
          "oneOf": [
            {
              "const": "event_time_asc",
              "description": "정렬 기준 (이벤트타임 오름/내림차순)"
            },
            {
              "const": "event_time_desc",
              "description": "정렬 기준 (이벤트타임 오름/내림차순)"
            }
          ],
          "description": "정렬 기준 (이벤트타임 오름/내림차순)"
        }
      },
      "required": []
    },
    "IPageIShoppingOrderLog": {
      "type": "object",
      "description": "order_log 레코드의 페이징 결과 컨테이너.\n\n비즈니스 감사, 분쟁, 법적 요구 대응을 위해 전체 페이지 정보와 목록 배열을 포함합니다.\n\n기본 분할 DTO 구조(IPage)와 동일하며, pagination 필수 정보와 order_log 데이터 배열(data)이 반드시 포함됩니다.",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "description": "order_log 각각의 상세 레코드 배열.\n\n주문 이벤트 이력 각 Row의 요약/상세 정보.",
          "items": {
            "$ref": "#/components/schemas/IShoppingOrderLog"
          }
        }
      },
      "required": [
        "pagination",
        "data"
      ]
    },
    "IShoppingOrderLog": {
      "type": "object",
      "description": "주문(order)와 관련된 단일 이벤트 로그 레코드. order_log 테이블의 컬럼별 원자적 데이터와 link 속성을 모두 포함합니다.\n\n각 로그는 감사·법률대응을 위해 생성되며, 주요 필드는 order_id, event_type, event_time, actor_id, evidence_id(옵션) 등입니다.\n\n감사·증적 관리에서 가장 기본적인 이벤트 단위로서 주문 상태 변동, 증적 첨부, 취소 등 다양한 의미를 가집니다.",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "주문 이벤트 로그 고유 식별자.\nPrisma의 order_log.id와 1:1."
        },
        "order_id": {
          "type": "string",
          "format": "uuid",
          "description": "로그가 속한 주문의 id.\norder.id FK. 감사/컴플라이언스 연계 추적시 주로 사용."
        },
        "evidence_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "첨부 증적(파일 등) 레코드 id.\norder_evidence FK. 없을 수 있음."
            },
            {
              "type": "null"
            }
          ],
          "description": "첨부 증적(파일 등) 레코드 id.\norder_evidence FK. 없을 수 있음."
        },
        "event_type": {
          "type": "string",
          "description": "이벤트 종류. 예: 'create', 'update', 'attach_evidence', 'status_change', 'cancel' 등.\n심층 감사 및 법률 대응시 event_type별 분석."
        },
        "event_description": {
          "type": "string",
          "description": "이벤트 세부 설명. 프리 텍스트, 이벤트 상세 사유 등.\nPrisma event_description 컬럼. 감사·증적 주석 기록 용도."
        },
        "event_time": {
          "type": "string",
          "format": "date-time",
          "description": "이벤트 실제 기록 시각.\n주문 및 증적의 전환 근거."
        },
        "actor_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "이벤트를 발생시킨 주체(사용자 UUID, 시스템 UUID 가능)."
            },
            {
              "type": "null"
            }
          ],
          "description": "이벤트를 발생시킨 주체(사용자 UUID, 시스템 UUID 가능)."
        },
        "order": {
          "$ref": "#/components/schemas/IShoppingOrder"
        },
        "evidence": {
          "$ref": "#/components/schemas/IOrderEvidence"
        }
      },
      "required": [
        "id",
        "order_id",
        "event_type",
        "event_description",
        "event_time"
      ]
    },
    "IOrderEvidence": {
      "type": "object",
      "description": "order_evidence 단일 레코드 전체 필드 DTO\n\nPrisma schema 기준 atomic 필드(id, order_id, evidence_type, evidence_uri 등)과 증적 기록 이력/관리/감사에 필요한 모든 속성 포함.\n\n법적 분쟁, 컴플라이언스, 금융감사 목적에서 항상 evidence_type/uri/timestamp/actor 등을 보존해야 함.",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "증적 객체 row 고유 id. order_evidence PK."
        },
        "order_id": {
          "type": "string",
          "format": "uuid",
          "description": "ど 주문 레코드의 id. order 테이블의 FK."
        },
        "evidence_type": {
          "type": "string",
          "description": "증적 종류(예: 'invoice', 'signature', 'photo', 'receipt'). Prisma evidence_type 컬럼."
        },
        "evidence_uri": {
          "type": "string",
          "description": "외부 URI(파일 경로/링크 등) 혹은 증적 식별자. evidence_archive 등 연계 가능."
        },
        "provided_at": {
          "type": "string",
          "format": "date-time",
          "description": "증적 등록일시. Prisma provided_at 컬럼."
        },
        "provided_by": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "행위자(증적 등록자, UUID). 시스템 자동생성은 null 허용."
            },
            {
              "type": "null"
            }
          ],
          "description": "행위자(증적 등록자, UUID). 시스템 자동생성은 null 허용."
        }
      },
      "required": [
        "id",
        "order_id",
        "evidence_type",
        "evidence_uri",
        "provided_at"
      ]
    },
    "IShoppingOrderLog.ICreate": {
      "type": "object",
      "description": "새 order_log 레코드 생성시 요청 바디 DTO (이벤트 등록)\n\nPrisma 스키마 각 컬럼명에 따라 입력 핸들링. atomic 필수 컬럼은 모두 필수; evidence_id, actor_id는 옵션 사용(없으면 null, 자동설정).\n\n감사, 증적 항목 추가, 주문변경·첨부·취소등의 이벤트 트리거 용도.",
      "properties": {
        "order_id": {
          "type": "string",
          "format": "uuid",
          "description": "해당 이벤트가 속한 주문 ID (order.id FK)"
        },
        "evidence_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "첨부 증적 row FK (첨부 없을 경우 null)"
            },
            {
              "type": "null"
            }
          ],
          "description": "첨부 증적 row FK (첨부 없을 경우 null)"
        },
        "event_type": {
          "type": "string",
          "description": "이벤트 유형 (e.g., 'create', 'update', 'status_change', 'attach_evidence')"
        },
        "event_description": {
          "type": "string",
          "description": "설명 또는 상세 주석"
        },
        "event_time": {
          "type": "string",
          "format": "date-time",
          "description": "이벤트 발생 시각(UTC, ISO 포맷)"
        },
        "actor_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "이벤트 주체(사용자 또는 시스템 Actor UUID)"
            },
            {
              "type": "null"
            }
          ],
          "description": "이벤트 주체(사용자 또는 시스템 Actor UUID)"
        }
      },
      "required": [
        "order_id",
        "event_type",
        "event_description",
        "event_time"
      ]
    },
    "IShoppingOrderLog.IUpdate": {
      "type": "object",
      "description": "기존 order_log 레코드 갱신용 DTO (예: 주석 추가, evidence 교정 등)\n\n수정 가능한 필드는 event_description, evidence_id, actor_id (이벤트 세부 내용/주석/참조 증적) 등으로 제한. timestamp, 기본 키 등은 불변.\n\n업데이트마다 감사추적이 남고, 이벤트 주요 필드(주문 id, 발생 시각 등)는 변경 불가.",
      "properties": {
        "event_description": {
          "oneOf": [
            {
              "type": "string",
              "description": "감사/증적 주석. 수시 보완/정정 가능."
            },
            {
              "type": "null"
            }
          ],
          "description": "감사/증적 주석. 수시 보완/정정 가능."
        },
        "evidence_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "참조 증적 id. evidence 갱신 시 null 또는 신규 evidence_id로 수정."
            },
            {
              "type": "null"
            }
          ],
          "description": "참조 증적 id. evidence 갱신 시 null 또는 신규 evidence_id로 수정."
        },
        "actor_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "이벤트 주체자. 교정 업데이트 등에서만 사용"
            },
            {
              "type": "null"
            }
          ],
          "description": "이벤트 주체자. 교정 업데이트 등에서만 사용"
        },
        "order_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "불변필드. 업데이트 불가. (수정 시도 시 에러)"
            },
            {
              "type": "null"
            }
          ],
          "description": "불변필드. 업데이트 불가. (수정 시도 시 에러)"
        }
      },
      "required": []
    },
    "IOrderEvidence.IRequest": {
      "type": "object",
      "description": "order_evidence 레코드 리스트 조회, 검색, 조건별 필터 페이징 DTO\n\n감사, 분쟁, 증적 관련 요청에서 order_id(order UUID), evidence_type, 제공자(provided_by), 기간 필터(from_time, to_time) 및 페이지네이션을 지정.\n\nPrisma schema 컬럼 논리에 근거하여 DTO를 구성, 전체 페이지정보 포함하도록 설계.",
      "properties": {
        "order_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "키워드 주문 UUID. order_evidence 연관 지정."
            },
            {
              "type": "null"
            }
          ],
          "description": "키워드 주문 UUID. order_evidence 연관 지정."
        },
        "evidence_type": {
          "oneOf": [
            {
              "type": "string",
              "description": "증적 종류. (예: 'invoice', 'signature', 등). Prisma evidence_type 컬럼 값과 일치."
            },
            {
              "type": "null"
            }
          ],
          "description": "증적 종류. (예: 'invoice', 'signature', 등). Prisma evidence_type 컬럼 값과 일치."
        },
        "provided_by": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "증적 등록자 UUID. provided_by 컬럼 참조."
            },
            {
              "type": "null"
            }
          ],
          "description": "증적 등록자 UUID. provided_by 컬럼 참조."
        },
        "from_time": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "시작일 필터링. 증적 제공일 기준 시작 (ISO8601)."
            },
            {
              "type": "null"
            }
          ],
          "description": "시작일 필터링. 증적 제공일 기준 시작 (ISO8601)."
        },
        "to_time": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "종료일 필터링. ISO8601."
            },
            {
              "type": "null"
            }
          ],
          "description": "종료일 필터링. ISO8601."
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "default": 1,
          "description": "페이지 번호 (기본 1)."
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "default": 20,
          "description": "페이지당 항목 수 (기본 20)."
        }
      },
      "required": []
    },
    "IPageIOrderEvidence": {
      "type": "object",
      "description": "order_evidence 페이징 결과 반환 컨테이너 DTO\n\n전체 페이지 info와 증적 레코드 data[] 포함. 증적 관리, 감사, 분쟁회신, 컴플라이언스 자동화까지 사용됩니다.",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IOrderEvidence"
          },
          "description": "각 페이지 내의 증적 레코드 리스트"
        }
      },
      "required": [
        "pagination",
        "data"
      ]
    },
    "IOrderEvidence.ICreate": {
      "type": "object",
      "description": "order_evidence 신규 레코드 생성용 요청 DTO. atomic 생성 필드(필수)에 evidence_type, evidence_uri, provided_at, order_id 등을 포함.\n\n감사, 컴플라이언스 증적 등록 시 사용되며, provided_by(등록 actor)는 옵션(없으면 null)입니다.",
      "properties": {
        "order_id": {
          "type": "string",
          "format": "uuid",
          "description": "증적이 귀속되는 주문 UUID"
        },
        "evidence_type": {
          "type": "string",
          "description": "증적 종류('invoice', 'photo', 'signature', 등)"
        },
        "evidence_uri": {
          "type": "string",
          "description": "외부(파일) URI 또는 증적 연계 식별자"
        },
        "provided_at": {
          "type": "string",
          "format": "date-time",
          "description": "증적의 공식 등록/입력 일시 (ISO8601)"
        },
        "provided_by": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "행위자 UUID"
            },
            {
              "type": "null"
            }
          ],
          "description": "행위자 UUID"
        }
      },
      "required": [
        "order_id",
        "evidence_type",
        "evidence_uri",
        "provided_at"
      ]
    },
    "IOrderEvidence.IUpdate": {
      "type": "object",
      "description": "order_evidence 레코드 보완/수정 DTO\n\n수정가능 필드: evidence_type, evidence_uri, provided_at, provided_by (PK/order_id 등은 불가).\n\n감사, 분쟁, 증적 정정 업무에 사용. 모든 수정은 audit 로그에 남음.",
      "properties": {
        "evidence_type": {
          "oneOf": [
            {
              "type": "string",
              "description": "증적 종류"
            },
            {
              "type": "null"
            }
          ],
          "description": "증적 종류"
        },
        "evidence_uri": {
          "oneOf": [
            {
              "type": "string",
              "description": "URI/파일링크"
            },
            {
              "type": "null"
            }
          ],
          "description": "URI/파일링크"
        },
        "provided_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "(ISO8601)"
            },
            {
              "type": "null"
            }
          ],
          "description": "(ISO8601)"
        },
        "provided_by": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "행위자 UUID. 수정시 최신화."
            },
            {
              "type": "null"
            }
          ],
          "description": "행위자 UUID. 수정시 최신화."
        }
      },
      "required": []
    },
    "IPayment.IRequest": {
      "type": "object",
      "description": "payments 엔티티에서 결제내역 리스트, 전체/부분 조회, 검색, 정렬 등이 필요한 API 요청 DTO.\n\nPrisma DB 스키마 컬럼(트랜잭션, 상태, 결제수단, 기간 등) 기반 필터. 페이징과 정렬용 Page/Limit, 키워드 기반 검색 옵션까지 포함됨.\n\n컴플라이언스, 내부거래 감사, 운영자동화, 분석/경고, 사용자 UI/관리자 대시보드 모두 지원.\n\n컬럼의 원자적 속성에 준거.",
      "properties": {
        "transaction_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "트랜잭션 연결 필터 (payments.transaction_id FK)"
            },
            {
              "type": "null"
            }
          ],
          "description": "트랜잭션 연결 필터 (payments.transaction_id FK)"
        },
        "payment_method_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "결제수단(카드/계좌/지갑 등) 필터 (payments.payment_method_id 컬럼)"
            },
            {
              "type": "null"
            }
          ],
          "description": "결제수단(카드/계좌/지갑 등) 필터 (payments.payment_method_id 컬럼)"
        },
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "결제 주체(사용자) 필터 (트랜잭션/결제방법 연계)"
            },
            {
              "type": "null"
            }
          ],
          "description": "결제 주체(사용자) 필터 (트랜잭션/결제방법 연계)"
        },
        "status": {
          "oneOf": [
            {
              "type": "string",
              "description": "결제 상태(진행중, 완료, 실패 등) 필터 (payments.status 컬럼값 기반)"
            },
            {
              "type": "null"
            }
          ],
          "description": "결제 상태(진행중, 완료, 실패 등) 필터 (payments.status 컬럼값 기반)"
        },
        "currency": {
          "oneOf": [
            {
              "type": "string",
              "description": "통화코드 3자리: 'USD', 'KRW', 'EUR' 등"
            },
            {
              "type": "null"
            }
          ],
          "description": "통화코드 3자리: 'USD', 'KRW', 'EUR' 등"
        },
        "from_time": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "검색 시작일. initiated_at 기준 (ISO8601)"
            },
            {
              "type": "null"
            }
          ],
          "description": "검색 시작일. initiated_at 기준 (ISO8601)"
        },
        "to_time": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "검색 종료일 (ISO8601)"
            },
            {
              "type": "null"
            }
          ],
          "description": "검색 종료일 (ISO8601)"
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "default": 1,
          "description": "페이지 번호 (1base)"
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "default": 20,
          "description": "페이지 당 결과 개수, 기본 20"
        }
      },
      "required": []
    },
    "IPageIPayment": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Pagination metadata for payment records.\n\nIncludes the current page, total records, page limit, and total number of pages, following the standard IPage contract.\nReference: Used for all paginated endpoints in the API."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IPayment"
          },
          "description": "Array of payment records matching search and pagination parameters.\n\nEach element is a full Payment entity returned from the payments table.\nReference: Payments schema for financial auditing."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated result for payment entities.\n\nWraps payment records matching filters/paging constraints with full pagination metadata for evidence and compliance review.\nReference: payments table. Used in results from list/search endpoints."
    },
    "IPayment": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier for the payment record.\n\nReference: payments.id"
        },
        "transaction_id": {
          "type": "string",
          "format": "uuid",
          "description": "Linked transaction's ID. Foreign key reference to transaction entity for audit, reconciliation, compliance.\nReference: payments.transaction_id"
        },
        "payment_method_id": {
          "type": "string",
          "format": "uuid",
          "description": "Reference to payment method entity for this payment operation.\nReference: payments.payment_method_id"
        },
        "amount": {
          "type": "number",
          "format": "double",
          "description": "Monetary value for the payment transaction. Must be positive.\nReference: payments.amount"
        },
        "currency": {
          "type": "string",
          "description": "Currency code for the transaction. Three-letter ISO string (e.g., USD, KRW, EUR).\nReference: payments.currency"
        },
        "status": {
          "type": "string",
          "description": "Current status of the payment (e.g., pending, completed, failed, refunded, held).\nReference: payments.status"
        },
        "initiated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the payment operation was initiated.\nReference: payments.initiated_at"
        },
        "completed_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Timestamp when payment succeeded, failed, or was finalized. Nullable for pending transactions.\nReference: payments.completed_at"
            },
            {
              "type": "null"
            }
          ],
          "description": "Timestamp when payment succeeded, failed, or was finalized. Nullable for pending transactions.\nReference: payments.completed_at"
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional business note/memo about the payment event (e.g., invoice reference, admin note).\nReference: payments.description"
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional business note/memo about the payment event (e.g., invoice reference, admin note).\nReference: payments.description"
        }
      },
      "required": [
        "id",
        "transaction_id",
        "payment_method_id",
        "amount",
        "currency",
        "status",
        "initiated_at"
      ],
      "description": "Atomic payment record representing a single monetary event in the shopping platform.\n\nMaintains normalization, auditability, and evidence for compliance/regulatory reporting.\nReference: payments table."
    },
    "IPayment.ICreate": {
      "type": "object",
      "properties": {
        "transaction_id": {
          "type": "string",
          "format": "uuid",
          "description": "Transaction event that initiates the payment. Reference to transactions table.\nReference: payments.transaction_id"
        },
        "payment_method_id": {
          "type": "string",
          "format": "uuid",
          "description": "Payment instrument used for this operation. Reference to payment_methods.id.\nReference: payments.payment_method_id"
        },
        "amount": {
          "type": "number",
          "format": "double",
          "description": "Monetary value for this payment. Must be positive.\nReference: payments.amount"
        },
        "currency": {
          "type": "string",
          "description": "Three-letter ISO currency code for this transaction.\nReference: payments.currency"
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional business/internal description for the payment entry.\nReference: payments.description"
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional business/internal description for the payment entry.\nReference: payments.description"
        }
      },
      "required": [
        "transaction_id",
        "payment_method_id",
        "amount",
        "currency"
      ],
      "description": "Input schema for creating a new payment record.\n\nCaptures all required fields and optional notes, enforcing normalization and evidence capture.\nReference: payments table record creation."
    },
    "IPayment.IUpdate": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "description": "Updated status for a payment record (allowed: completed, failed, refunded, etc.).\nReference: payments.status"
        },
        "completed_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Optional change for completion/finalization time. For marking refund, fail etc. Immutable once set.\nReference: payments.completed_at"
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional change for completion/finalization time. For marking refund, fail etc. Immutable once set.\nReference: payments.completed_at"
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Administrative or business-facing notes about this change/event.\nReference: payments.description"
            },
            {
              "type": "null"
            }
          ],
          "description": "Administrative or business-facing notes about this change/event.\nReference: payments.description"
        }
      },
      "required": [
        "status"
      ],
      "description": "Schema for updating an existing payment record (only mutable properties).\n\nPrimarily used by system integrations, finance admins, or compliance personnel.\nReference: payments table. Immutable columns cannot be updated."
    },
    "IPaymentMethod.IRequest": {
      "type": "object",
      "properties": {
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Filter to methods owned by specified user.\nReference: payment_methods.user_id"
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter to methods owned by specified user.\nReference: payment_methods.user_id"
        },
        "type": {
          "oneOf": [
            {
              "type": "string",
              "description": "Filter by type of payment instrument (e.g. VISA, WALLET, CRYPTO, BANK).\nReference: payment_methods.type"
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter by type of payment instrument (e.g. VISA, WALLET, CRYPTO, BANK).\nReference: payment_methods.type"
        },
        "active": {
          "oneOf": [
            {
              "type": "boolean",
              "description": "Filter by activation status; true for active, false for inactive.\nReference: payment_methods.active"
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter by activation status; true for active, false for inactive.\nReference: payment_methods.active"
        },
        "provider": {
          "oneOf": [
            {
              "type": "string",
              "description": "Filter by payment provider name/platform.\nReference: payment_methods.provider"
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter by payment provider name/platform.\nReference: payment_methods.provider"
        },
        "masked_detail": {
          "oneOf": [
            {
              "type": "string",
              "description": "Partial search for masked display string (e.g., last 4 digits).\nReference: payment_methods.masked_detail"
            },
            {
              "type": "null"
            }
          ],
          "description": "Partial search for masked display string (e.g., last 4 digits).\nReference: payment_methods.masked_detail"
        },
        "created_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Filter methods issued/created since this timestamp.\nReference: payment_methods.created_at"
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter methods issued/created since this timestamp.\nReference: payment_methods.created_at"
        },
        "created_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Filter methods issued/created up to this timestamp.\nReference: payment_methods.created_at"
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter methods issued/created up to this timestamp.\nReference: payment_methods.created_at"
        },
        "page": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Paging: which page of results."
            },
            {
              "type": "null"
            }
          ],
          "description": "Paging: which page of results."
        },
        "limit": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Paging: how many records per page."
            },
            {
              "type": "null"
            }
          ],
          "description": "Paging: how many records per page."
        }
      },
      "description": "Input structure for filtering, searching, and paging payment methods.\n\nSupports complex queries by any atomic field within payment_methods.\nReference: payment_methods table.",
      "required": []
    },
    "IPageIPaymentMethod": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Pagination details; includes page, limit, total records, total pages.\nReference: standard for API responses."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IPaymentMethod"
          },
          "description": "Array of payment method objects matching the search criteria.\nReference: payment_methods table."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated response for payment method records.\n\nIncludes both the found payment methods and full pagination meta for UX and compliance.\nReference: payment_methods."
    },
    "IPaymentMethod": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier for the payment method.\nReference: payment_methods.id"
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Owner of the payment method.\nReference: payment_methods.user_id"
        },
        "type": {
          "type": "string",
          "description": "Type of payment instrument (e.g. VISA, WALLET, CRYPTO, BANK, etc).\nReference: payment_methods.type"
        },
        "masked_detail": {
          "type": "string",
          "description": "Masked/partial display value for UI, such as last 4 digits.\nReference: payment_methods.masked_detail"
        },
        "provider": {
          "oneOf": [
            {
              "type": "string",
              "description": "Provider or platform for this payment method (optional).\nReference: payment_methods.provider"
            },
            {
              "type": "null"
            }
          ],
          "description": "Provider or platform for this payment method (optional).\nReference: payment_methods.provider"
        },
        "active": {
          "type": "boolean",
          "description": "Whether this payment method is currently active/usable.\nReference: payment_methods.active"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the method was registered.\nReference: payment_methods.created_at"
        }
      },
      "required": [
        "id",
        "user_id",
        "type",
        "masked_detail",
        "active",
        "created_at"
      ],
      "description": "Atomically represents a single payment method/instrument, as owned by a user and valid for payment integration.\n\nExcludes sensitive credential details. Full normalization and auditability maintained.\nReference: payment_methods table."
    },
    "IPaymentMethod.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Owner of the new payment method.\nReference: payment_methods.user_id (required for business logic)."
        },
        "type": {
          "type": "string",
          "description": "Type of instrument, e.g. VISA, WALLET, CRYPTO.\nReference: payment_methods.type"
        },
        "masked_detail": {
          "type": "string",
          "description": "UI/display value, only masked portion.\nReference: payment_methods.masked_detail"
        },
        "provider": {
          "oneOf": [
            {
              "type": "string",
              "description": "Provider or platform for this method, if applicable.\nReference: payment_methods.provider"
            },
            {
              "type": "null"
            }
          ],
          "description": "Provider or platform for this method, if applicable.\nReference: payment_methods.provider"
        },
        "active": {
          "type": "boolean",
          "description": "Initial activation state (defaults to true)."
        }
      },
      "required": [
        "user_id",
        "type",
        "masked_detail",
        "active"
      ],
      "description": "Creation schema for a new payment method/instrument.\n\nMust reference a user and include all basic attributes. No sensitive, unmasked data accepted here.\nReference: payment_methods table."
    },
    "IPaymentMethod.IUpdate": {
      "type": "object",
      "properties": {
        "provider": {
          "oneOf": [
            {
              "type": "string",
              "description": "Provider platform/name for the payment method.\nReference: payment_methods.provider"
            },
            {
              "type": "null"
            }
          ],
          "description": "Provider platform/name for the payment method.\nReference: payment_methods.provider"
        },
        "masked_detail": {
          "oneOf": [
            {
              "type": "string",
              "description": "Updated display partial/masked value for the method.\nReference: payment_methods.masked_detail"
            },
            {
              "type": "null"
            }
          ],
          "description": "Updated display partial/masked value for the method.\nReference: payment_methods.masked_detail"
        },
        "active": {
          "oneOf": [
            {
              "type": "boolean",
              "description": "Whether the payment method is now active or not.\nReference: payment_methods.active"
            },
            {
              "type": "null"
            }
          ],
          "description": "Whether the payment method is now active or not.\nReference: payment_methods.active"
        }
      },
      "description": "Update schema for payment method; only metadata and state allowed (not ID or owner).\n\nSupports compliance, labeling changes, activation/inactivation.\nReference: payment_methods table metadata fields.",
      "required": []
    },
    "IDiscount.IRequest": {
      "type": "object",
      "properties": {
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Filter by user who benefited from/triggered the discount.\nReference: discounts (indirect, via order + user)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter by user who benefited from/triggered the discount.\nReference: discounts (indirect, via order + user)."
        },
        "order_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Direct filter for target order.\nReference: discounts.order_id"
            },
            {
              "type": "null"
            }
          ],
          "description": "Direct filter for target order.\nReference: discounts.order_id"
        },
        "rule_type": {
          "oneOf": [
            {
              "type": "string",
              "description": "Discount rule type (e.g. percentage, fixed, bogo, ml-model).\nReference: discount_rules.type/discounts → rules"
            },
            {
              "type": "null"
            }
          ],
          "description": "Discount rule type (e.g. percentage, fixed, bogo, ml-model).\nReference: discount_rules.type/discounts → rules"
        },
        "campaign_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Restrict to discounts applied by a specific marketing campaign.\nReference: discount_rules.campaign_id (indirect via rules)"
            },
            {
              "type": "null"
            }
          ],
          "description": "Restrict to discounts applied by a specific marketing campaign.\nReference: discount_rules.campaign_id (indirect via rules)"
        },
        "active": {
          "oneOf": [
            {
              "type": "boolean",
              "description": "Filter whether underlying rule is active.\nReference: discount_rules.active"
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter whether underlying rule is active.\nReference: discount_rules.active"
        },
        "from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Get discounts applied from this date/time (inclusive).\nReference: discounts.applied_at"
            },
            {
              "type": "null"
            }
          ],
          "description": "Get discounts applied from this date/time (inclusive).\nReference: discounts.applied_at"
        },
        "to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Get discounts up to this datetime (inclusive).\nReference: discounts.applied_at"
            },
            {
              "type": "null"
            }
          ],
          "description": "Get discounts up to this datetime (inclusive).\nReference: discounts.applied_at"
        },
        "notes": {
          "oneOf": [
            {
              "type": "string",
              "description": "Free text search in discount notes/memo field.\nReference: discounts.notes"
            },
            {
              "type": "null"
            }
          ],
          "description": "Free text search in discount notes/memo field.\nReference: discounts.notes"
        },
        "page": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Paging page."
            },
            {
              "type": "null"
            }
          ],
          "description": "Paging page."
        },
        "limit": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Result count limit per page."
            },
            {
              "type": "null"
            }
          ],
          "description": "Result count limit per page."
        }
      },
      "description": "Request payload for searching/listing discounts.\n\nSupports advanced query, filter, and paging by all atomic attributes or via rule/campaign linkage.\nReference: discounts, discount_rules.",
      "required": []
    },
    "IPageDiscount": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Pagination meta for this result set."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IDiscount"
          },
          "description": "Array of discount entities from DB matching search parameters."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated result wrapper for discount entities.\n\nUsed for list/search endpoints including filtering and evidence readiness.\nReference: Discounts/discount_rules entities."
    },
    "IDiscount": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier for this discount record.\nReference: discounts.id"
        },
        "discount_rule_id": {
          "type": "string",
          "format": "uuid",
          "description": "Foreign key to applied discount rule.\nReference: discounts.discount_rule_id"
        },
        "order_id": {
          "type": "string",
          "format": "uuid",
          "description": "Order that received this discount.\nReference: discounts.order_id"
        },
        "amount": {
          "type": "number",
          "format": "double",
          "description": "Discount value applied (typically negative or zero).\nReference: discounts.amount"
        },
        "applied_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when discount was attached to order.\nReference: discounts.applied_at"
        },
        "notes": {
          "oneOf": [
            {
              "type": "string",
              "description": "Context or memo about discount application; optional field.\nReference: discounts.notes"
            },
            {
              "type": "null"
            }
          ],
          "description": "Context or memo about discount application; optional field.\nReference: discounts.notes"
        }
      },
      "required": [
        "id",
        "discount_rule_id",
        "order_id",
        "amount",
        "applied_at"
      ],
      "description": "Represents a single atomic application of a discount to an order/event.\n\nAll fields are normalized and required for audit/compliance. Reference: discounts table."
    },
    "IDiscount.ICreate": {
      "type": "object",
      "properties": {
        "discount_rule_id": {
          "type": "string",
          "format": "uuid",
          "description": "UUID of the discount rule to apply. References DiscountRules.id. Required for linking each discount to its logic and business strategy.\n\nDerived from the PaymentsDiscounts.discount_rules table column 'id'. This field is required for compliance, evidence, and analytics operations."
        },
        "order_id": {
          "type": "string",
          "format": "uuid",
          "description": "UUID of the order benefiting from this discount. Links the applied discount to a specific transaction for downstream compliance and audit trails.\n\nReferences the order table. Required for financial integrity and regulatory tracing."
        },
        "amount": {
          "type": "number",
          "format": "double",
          "description": "The value to subtract from the order total. Always negative or zero for discounts (e.g., -5.00 for a 5-dollar discount). Atomic per event; not calculated from rule. \n\nField comes from the PaymentsDiscounts.discounts schema. \n\nServes evidence for finance, audit, and compliance."
        },
        "applied_at": {
          "type": "string",
          "format": "date-time",
          "description": "RFC3339 timestamp indicating when the discount was applied.\n\nDirectly maps to the 'applied_at' attribute in discounts, ensures audit evidence and compliance timeline preservation."
        },
        "notes": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional notes for business or compliance evidence, such as campaign context or rationale. Not required.\n\nDerived from the discounts table; provides transparency, traceability, or justification for audits."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional notes for business or compliance evidence, such as campaign context or rationale. Not required.\n\nDerived from the discounts table; provides transparency, traceability, or justification for audits."
        }
      },
      "required": [
        "discount_rule_id",
        "order_id",
        "amount",
        "applied_at"
      ],
      "description": "DTO for creating a discount record, used in PaymentsDiscounts.discounts. Captures all required fields to insert an event-grade discount, ensuring referential integrity to rule and order, atomic value evidence, and auditability."
    },
    "IDiscount.IUpdate": {
      "type": "object",
      "properties": {
        "notes": {
          "oneOf": [
            {
              "type": "string",
              "description": "Updateable notes attached to the discount record.\n\nDirectly derived from the discounts.notes field (PaymentsDiscounts.discounts), supporting business, audit, or compliance trace updates. All updates are evidence-logged."
            },
            {
              "type": "null"
            }
          ],
          "description": "Updateable notes attached to the discount record.\n\nDirectly derived from the discounts.notes field (PaymentsDiscounts.discounts), supporting business, audit, or compliance trace updates. All updates are evidence-logged."
        },
        "amount": {
          "oneOf": [
            {
              "type": "number",
              "format": "double",
              "description": "(Optional, rarely updateable: depends on business logic and regulatory settings) If present, updated value for the discount. Only allowed if the discount is not finalized/committed."
            },
            {
              "type": "null"
            }
          ],
          "description": "(Optional, rarely updateable: depends on business logic and regulatory settings) If present, updated value for the discount. Only allowed if the discount is not finalized/committed."
        }
      },
      "description": "DTO for updating a discount. Only updatable fields are presented. Adheres to strict audit and evidence preservation as mandated in PaymentsDiscounts.discount management.",
      "required": []
    },
    "IDiscountRule.IRequest": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "description": "Rule type (e.g., percentage, fixed, bogo, ml-model) to filter by. Enables advanced search on pricing strategy."
        },
        "active": {
          "oneOf": [
            {
              "type": "boolean",
              "description": "If provided, restricts results to only active/inactive rules."
            },
            {
              "type": "null"
            }
          ],
          "description": "If provided, restricts results to only active/inactive rules."
        },
        "campaign_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "UUID of the associated campaign to filter available rules."
            },
            {
              "type": "null"
            }
          ],
          "description": "UUID of the associated campaign to filter available rules."
        },
        "ai_model_version_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "If searching for ML-driven rules, filter by associated ai_model_version id."
            },
            {
              "type": "null"
            }
          ],
          "description": "If searching for ML-driven rules, filter by associated ai_model_version id."
        },
        "created_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Start of creation date range filter."
            },
            {
              "type": "null"
            }
          ],
          "description": "Start of creation date range filter."
        },
        "created_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "End of creation date range filter."
            },
            {
              "type": "null"
            }
          ],
          "description": "End of creation date range filter."
        },
        "page": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Pagination: page number, default 1."
            },
            {
              "type": "null"
            }
          ],
          "description": "Pagination: page number, default 1."
        },
        "limit": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Pagination: items per page, default 20."
            },
            {
              "type": "null"
            }
          ],
          "description": "Pagination: items per page, default 20."
        }
      },
      "description": "Advanced search/filter and pagination request DTO for querying discount rules. Enables filtering by rule attributes, associations, and activation. Required for PaymentsDiscounts.discount_rules list operations.",
      "required": []
    },
    "IPageDiscountRule": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IDiscountRule"
          }
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated container for DiscountRule records. Standardized per IPage<T> pattern, required for paging PaymentsDiscounts.discount_rules results."
    },
    "IDiscountRule": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary key UUID for the discount rule. Required by PaymentsDiscounts.discount_rules.id; immutable and unique."
        },
        "campaign_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional: Campaign UUID if this rule is linked to a campaign (for analytics, reporting, or grouping). From discount_rules.campaign_id."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional: Campaign UUID if this rule is linked to a campaign (for analytics, reporting, or grouping). From discount_rules.campaign_id."
        },
        "type": {
          "type": "string",
          "description": "Rule logic/type (e.g., 'percentage', 'fixed', 'bogo', 'ml-model'). Evidence and business rule enforcement per requirements. Comes from discount_rules.type."
        },
        "value": {
          "type": "number",
          "format": "double",
          "description": "Numeric value for the rule: percent, fixed amount, or parameter as dictated by rule type. From discount_rules.value."
        },
        "active": {
          "type": "boolean",
          "description": "If true, this rule can be used to apply discounts; archived/disabled rules are not active. Enforced for compliance and audit. Mapped to discount_rules.active."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "ISO date-time the rule was registered; required for compliance, tracing rule provenance. From discount_rules.created_at."
        },
        "ai_model_version_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Links to AI/ML model version if the rule is ML-driven or subject to model explainability compliance. From discount_rules.ai_model_version_id."
            },
            {
              "type": "null"
            }
          ],
          "description": "Links to AI/ML model version if the rule is ML-driven or subject to model explainability compliance. From discount_rules.ai_model_version_id."
        }
      },
      "required": [
        "id",
        "type",
        "value",
        "active",
        "created_at"
      ],
      "description": "Main DiscountRule record, mirrors PaymentsDiscounts.discount_rules and all required evidence/trace fields. Used throughout discounting logic, compliance, and API representations."
    },
    "IDiscountRule.ICreate": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "description": "Rule type indicating strategy/logic to apply (e.g., 'percentage', 'fixed', 'bogo', 'ml-model'). Required, atomic, not compound. From discount_rules.type."
        },
        "value": {
          "type": "number",
          "format": "double",
          "description": "Core value for discount computation: percent (percentage), fixed amount, or param for ML/bogo. From discount_rules.value."
        },
        "active": {
          "type": "boolean",
          "description": "Boolean flag if rule is enabled. Required for audit/evidence. From discount_rules.active."
        },
        "campaign_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional campaign linkage for rule grouping/analytics. From discount_rules.campaign_id."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional campaign linkage for rule grouping/analytics. From discount_rules.campaign_id."
        },
        "ai_model_version_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "If ML-driven, associated ai_model_version id for explainability tracing. From discount_rules.ai_model_version_id."
            },
            {
              "type": "null"
            }
          ],
          "description": "If ML-driven, associated ai_model_version id for explainability tracing. From discount_rules.ai_model_version_id."
        }
      },
      "required": [
        "type",
        "value",
        "active"
      ],
      "description": "DTO for creating a discount rule. Used by PaymentsDiscounts.discount_rules to insert new rule definitions (rule type, value, active, and associated campaign/model linkages)."
    },
    "IDiscountRule.IUpdate": {
      "type": "object",
      "properties": {
        "type": {
          "oneOf": [
            {
              "type": "string",
              "description": "Type of discount rule (e.g., 'percentage', 'fixed', 'bogo', 'ml-model'). Optional if unchanging; from discount_rules.type."
            },
            {
              "type": "null"
            }
          ],
          "description": "Type of discount rule (e.g., 'percentage', 'fixed', 'bogo', 'ml-model'). Optional if unchanging; from discount_rules.type."
        },
        "value": {
          "oneOf": [
            {
              "type": "number",
              "format": "double",
              "description": "Numeric value for the rule. Only included if changing. From discount_rules.value."
            },
            {
              "type": "null"
            }
          ],
          "description": "Numeric value for the rule. Only included if changing. From discount_rules.value."
        },
        "active": {
          "oneOf": [
            {
              "type": "boolean",
              "description": "Modify rule activeness. Only included if changing. From discount_rules.active."
            },
            {
              "type": "null"
            }
          ],
          "description": "Modify rule activeness. Only included if changing. From discount_rules.active."
        },
        "campaign_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Update association to campaign. Only included if updating. From discount_rules.campaign_id."
            },
            {
              "type": "null"
            }
          ],
          "description": "Update association to campaign. Only included if updating. From discount_rules.campaign_id."
        },
        "ai_model_version_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Modify linkage to model version (if ML-based). Only included if updating. From discount_rules.ai_model_version_id."
            },
            {
              "type": "null"
            }
          ],
          "description": "Modify linkage to model version (if ML-based). Only included if updating. From discount_rules.ai_model_version_id."
        }
      },
      "description": "DTO for updating discount rule. Permits selective updates for each allowed field; updates are append-only and evidence-tracked for compliance.",
      "required": []
    },
    "IDiscountCampaign.IRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Exact or partial campaign name to filter search results. From discount_campaigns.name."
        },
        "active": {
          "oneOf": [
            {
              "type": "boolean",
              "description": "If present, restrict to active/inactive campaigns. From discount_campaigns.active."
            },
            {
              "type": "null"
            }
          ],
          "description": "If present, restrict to active/inactive campaigns. From discount_campaigns.active."
        },
        "start_at_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Minimum campaign start time (inclusive) for filtering. From discount_campaigns.start_at."
            },
            {
              "type": "null"
            }
          ],
          "description": "Minimum campaign start time (inclusive) for filtering. From discount_campaigns.start_at."
        },
        "start_at_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Maximum campaign start time for filtering end date or active window. From discount_campaigns.start_at."
            },
            {
              "type": "null"
            }
          ],
          "description": "Maximum campaign start time for filtering end date or active window. From discount_campaigns.start_at."
        },
        "page": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Page number for result pagination, default 1."
            },
            {
              "type": "null"
            }
          ],
          "description": "Page number for result pagination, default 1."
        },
        "limit": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Page size for result pagination, default 20."
            },
            {
              "type": "null"
            }
          ],
          "description": "Page size for result pagination, default 20."
        }
      },
      "description": "Request DTO for searching/filtering discount campaigns (PaymentsDiscounts.discount_campaigns). Enables search by name, status, and active window with pagination controls.",
      "required": []
    },
    "IPageIDiscountCampaign": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IDiscountCampaign"
          }
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginator for DiscountCampaign summary objects, as required by IPage<T> per discount_campaigns list API."
    },
    "IDiscountCampaign": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique campaign ID (PaymentsDiscounts.discount_campaigns.id). Primary key, required. Evidence-chain for all downstream discounts/logs."
        },
        "name": {
          "type": "string",
          "description": "Unique campaign display name. Required for audit, analytics, and API queries. From discount_campaigns.name."
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional campaign notes, business context, or rationale. From discount_campaigns.description. Not required or enforced for integrity."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional campaign notes, business context, or rationale. From discount_campaigns.description. Not required or enforced for integrity."
        },
        "start_at": {
          "type": "string",
          "format": "date-time",
          "description": "RFC3339 timestamp when campaign begins. Required for time-windowed analytics, audit, and campaign logic. From discount_campaigns.start_at."
        },
        "end_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "End time for the campaign if finite (null if ongoing). Evidence field; supports compliance and time-based reporting. From discount_campaigns.end_at."
            },
            {
              "type": "null"
            }
          ],
          "description": "End time for the campaign if finite (null if ongoing). Evidence field; supports compliance and time-based reporting. From discount_campaigns.end_at."
        },
        "active": {
          "type": "boolean",
          "description": "If true, campaign is open for active use. Soft-archived or completed otherwise. From discount_campaigns.active."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp at campaign record creation. Enforced for audit, compliance, and evidence retention. From discount_campaigns.created_at."
        }
      },
      "required": [
        "id",
        "name",
        "start_at",
        "active",
        "created_at"
      ],
      "description": "Campaign object for PaymentsDiscounts.discount_campaigns: tracks core business logic, evidence requirements, and normalization. Used for grouping, auditing, and time-bound/promotion discount flows."
    },
    "IDiscountCampaign.ICreate": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "New campaign display name (unique). Required for all creates. From discount_campaigns.name."
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional campaign notes or rationale. May be omitted/null. From discount_campaigns.description."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional campaign notes or rationale. May be omitted/null. From discount_campaigns.description."
        },
        "start_at": {
          "type": "string",
          "format": "date-time",
          "description": "Start timestamp (RFC3339) for campaign opening. Required. From discount_campaigns.start_at."
        },
        "end_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Optional campaign end time (null for open/ongoing). From discount_campaigns.end_at."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional campaign end time (null for open/ongoing). From discount_campaigns.end_at."
        },
        "active": {
          "type": "boolean",
          "description": "Is campaign open/active? Required boolean flag. From discount_campaigns.active."
        }
      },
      "required": [
        "name",
        "start_at",
        "active"
      ],
      "description": "DTO for inserting a new campaign into PaymentsDiscounts.discount_campaigns. Captures all required fields for analytics, audit, and evidence workflows."
    },
    "IDiscountCampaign.IUpdate": {
      "type": "object",
      "properties": {
        "name": {
          "oneOf": [
            {
              "type": "string",
              "description": "If present, new campaign name (must remain unique). Only updated if included. From discount_campaigns.name."
            },
            {
              "type": "null"
            }
          ],
          "description": "If present, new campaign name (must remain unique). Only updated if included. From discount_campaigns.name."
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Change to campaign notes/context. Optional; can be updated as needed. From discount_campaigns.description."
            },
            {
              "type": "null"
            }
          ],
          "description": "Change to campaign notes/context. Optional; can be updated as needed. From discount_campaigns.description."
        },
        "start_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Update for the campaign's opening timestamp, if changing. RFC3339. From discount_campaigns.start_at."
            },
            {
              "type": "null"
            }
          ],
          "description": "Update for the campaign's opening timestamp, if changing. RFC3339. From discount_campaigns.start_at."
        },
        "end_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Modify the closing date for the campaign, or clear to null for ongoing. From discount_campaigns.end_at."
            },
            {
              "type": "null"
            }
          ],
          "description": "Modify the closing date for the campaign, or clear to null for ongoing. From discount_campaigns.end_at."
        },
        "active": {
          "oneOf": [
            {
              "type": "boolean",
              "description": "Optional: new status; mark campaign as active/inactive. From discount_campaigns.active."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional: new status; mark campaign as active/inactive. From discount_campaigns.active."
        }
      },
      "description": "DTO for updating mutable fields on a campaign (PaymentsDiscounts.discount_campaigns). Policy: create audit log for each update; prepend evidence chain for all changes.",
      "required": []
    },
    "ITransaction.IRequest": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "User who initiated the transaction. See 'transactions.user_id' in DB. Used for filtering transactions of a specific user."
        },
        "order_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Associated order if any. See 'transactions.order_id'. One-to-one mapping to an order transaction if not null."
            },
            {
              "type": "null"
            }
          ],
          "description": "Associated order if any. See 'transactions.order_id'. One-to-one mapping to an order transaction if not null."
        },
        "type": {
          "type": "string",
          "description": "Transaction type (e.g., 'purchase', 'refund', 'topup', 'adjustment'). See 'transactions.type'."
        },
        "created_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Start of the created_at datetime range for filtering."
            },
            {
              "type": "null"
            }
          ],
          "description": "Start of the created_at datetime range for filtering."
        },
        "created_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "End of the created_at datetime range for filtering."
            },
            {
              "type": "null"
            }
          ],
          "description": "End of the created_at datetime range for filtering."
        },
        "limit": {
          "type": "integer",
          "description": "Number of results to return. For pagination. Default is system default."
        },
        "page": {
          "type": "integer",
          "description": "Page number for pagination (starts at 1)."
        }
      },
      "description": "Request body schema for searching transactions. Fields reference columns in the 'transactions' table and enable paginated, filtered querying. Implements advanced search and evidence review workflows.",
      "required": []
    },
    "IPageITransaction": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/ITransaction"
          },
          "description": "Array of transaction records for this page."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "A paginated collection of transaction records with metadata. Standard evidence/cursor fields included."
    },
    "ITransaction": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Transaction unique identifier as in 'transactions.id'. PK."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "User who initiated the transaction."
        },
        "order_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Associated order if any, nullable."
            },
            {
              "type": "null"
            }
          ],
          "description": "Associated order if any, nullable."
        },
        "type": {
          "type": "string",
          "description": "Type of business event for this transaction; see requirements doc."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of transaction creation event."
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional business context, system or operator note."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional business context, system or operator note."
        }
      },
      "required": [
        "id",
        "user_id",
        "type",
        "created_at"
      ],
      "description": "Represents a single business transaction event. Immutable ledger for audit/compliance."
    },
    "ITransaction.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "User who initiates transaction. Required."
        },
        "order_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Associated order if any. Nullable."
            },
            {
              "type": "null"
            }
          ],
          "description": "Associated order if any. Nullable."
        },
        "type": {
          "type": "string",
          "description": "Type/class of event for the transaction."
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Business note/metadata if supplied."
            },
            {
              "type": "null"
            }
          ],
          "description": "Business note/metadata if supplied."
        }
      },
      "required": [
        "user_id",
        "type"
      ],
      "description": "Input schema for creating a new business transaction event. Used in finance, payment, and audit workflows."
    },
    "ITransaction.IUpdate": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "description": "Type/class of the transaction. Only business-permitted changes allowed."
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Editable business note/description; required by several compliance flows."
            },
            {
              "type": "null"
            }
          ],
          "description": "Editable business note/description; required by several compliance flows."
        }
      },
      "description": "Update schema for a transaction event. Strictly controlled fields; only mutable attributes allowed for audit.",
      "required": []
    },
    "IVoucher.IRequest": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Voucher holder. Used for searching or filtering vouchers for a specific user."
        },
        "campaign_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Associated campaign if any."
            },
            {
              "type": "null"
            }
          ],
          "description": "Associated campaign if any."
        },
        "payment_method_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Restrict search to vouchers usable with a given payment instrument."
            },
            {
              "type": "null"
            }
          ],
          "description": "Restrict search to vouchers usable with a given payment instrument."
        },
        "code": {
          "type": "string",
          "description": "Voucher code search."
        },
        "currency": {
          "type": "string",
          "description": "3-letter ISO code for voucher currency filter."
        },
        "balance_gt": {
          "type": "number",
          "description": "Minimum balance threshold; filter vouchers with balance greater than this."
        },
        "balance_lt": {
          "type": "number",
          "description": "Max balance threshold."
        },
        "expires_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Filter vouchers not expired before this datetime."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter vouchers not expired before this datetime."
        },
        "expires_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Filter vouchers expiring before this datetime."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter vouchers expiring before this datetime."
        },
        "limit": {
          "type": "integer",
          "description": "Pagination page size (default from system)."
        },
        "page": {
          "type": "integer",
          "description": "Pagination page (starting at 1)."
        }
      },
      "description": "Request body for voucher query/list/search. Implements advanced filtering, paging, and compliance requirements for evidence preservation.",
      "required": []
    },
    "IPageIVoucher": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/shoppingVouchers"
          }
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated result object for voucher queries. Includes result data array and pagination metadata."
    },
    "shoppingVouchers": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary key. Unique voucher asset in the system."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Owner/user of the voucher; for audit and regulatory compliance."
        },
        "campaign_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Discount campaign, if associated (nullable)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Discount campaign, if associated (nullable)."
        },
        "payment_method_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Applicable payment method limitation, if set."
            },
            {
              "type": "null"
            }
          ],
          "description": "Applicable payment method limitation, if set."
        },
        "code": {
          "type": "string",
          "description": "Unique voucher code, not reused. Required for redemption."
        },
        "balance": {
          "type": "number",
          "description": "Current balance/value of the voucher."
        },
        "currency": {
          "type": "string",
          "description": "3-letter ISO code (compliance with multi-currency workflows)."
        },
        "expires_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Expiration time, nullable."
            },
            {
              "type": "null"
            }
          ],
          "description": "Expiration time, nullable."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Original voucher issuance time."
        },
        "redeemed_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Time voucher was redeemed or used up, nullable."
            },
            {
              "type": "null"
            }
          ],
          "description": "Time voucher was redeemed or used up, nullable."
        }
      },
      "required": [
        "id",
        "user_id",
        "code",
        "balance",
        "currency",
        "created_at"
      ],
      "description": "Core voucher record. Used for assets like gift cards, loyalty points, or promotional codes. Designed for evidence preservation as per regulations; all core events timestamped and referential integrity is maintained."
    },
    "shoppingVouchers.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "User to assign voucher to."
        },
        "campaign_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Associated campaign context, nullable."
            },
            {
              "type": "null"
            }
          ],
          "description": "Associated campaign context, nullable."
        },
        "payment_method_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Restrict voucher to this payment instrument, nullable."
            },
            {
              "type": "null"
            }
          ],
          "description": "Restrict voucher to this payment instrument, nullable."
        },
        "code": {
          "type": "string",
          "description": "Proposed voucher code. Must be unique."
        },
        "balance": {
          "type": "number",
          "description": "Initial value."
        },
        "currency": {
          "type": "string",
          "description": "Currency code."
        },
        "expires_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Expiration, required for regulatory purposes, nullable if not expiring."
            },
            {
              "type": "null"
            }
          ],
          "description": "Expiration, required for regulatory purposes, nullable if not expiring."
        }
      },
      "required": [
        "user_id",
        "code",
        "balance",
        "currency"
      ],
      "description": "Input schema for voucher asset creation. See business and regulatory flows for required/allowed fields."
    },
    "shoppingVouchers.IUpdate": {
      "type": "object",
      "properties": {
        "campaign_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Associate with new/updated campaign context, nullable."
            },
            {
              "type": "null"
            }
          ],
          "description": "Associate with new/updated campaign context, nullable."
        },
        "payment_method_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Change voucher payment constraint."
            },
            {
              "type": "null"
            }
          ],
          "description": "Change voucher payment constraint."
        },
        "expires_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Extend or reduce expiration."
            },
            {
              "type": "null"
            }
          ],
          "description": "Extend or reduce expiration."
        }
      },
      "description": "Update details for a voucher. Only mutable fields permitted; designed for compliance and business control workflows.",
      "required": []
    },
    "shoppingLoyaltyPoints.IRequest": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Filter by points holder."
        },
        "transaction_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Associated event/transaction, nullable."
            },
            {
              "type": "null"
            }
          ],
          "description": "Associated event/transaction, nullable."
        },
        "campaign_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Associated campaign context, nullable."
            },
            {
              "type": "null"
            }
          ],
          "description": "Associated campaign context, nullable."
        },
        "type": {
          "type": "string",
          "description": "Points event type filter: 'earn', 'redeem', 'bonus', 'expire', etc."
        },
        "points_gt": {
          "type": "number",
          "description": "Minimum points amount for search."
        },
        "points_lt": {
          "type": "number",
          "description": "Maximum points for filtering."
        },
        "created_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Earliest ledger event time, for querying."
            },
            {
              "type": "null"
            }
          ],
          "description": "Earliest ledger event time, for querying."
        },
        "created_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Latest ledger event time, for querying."
            },
            {
              "type": "null"
            }
          ],
          "description": "Latest ledger event time, for querying."
        },
        "limit": {
          "type": "integer",
          "description": "Page size (default system value)."
        },
        "page": {
          "type": "integer",
          "description": "Page number (1 based)."
        }
      },
      "description": "Request query schema for searching loyalty points events/ledger. Advanced filter and pagination for compliant, AI-powerful analytics.",
      "required": []
    },
    "IPageShoppingLoyaltyPoints": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/shoppingLoyaltyPoints"
          }
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated result set for loyalty points ledger queries. Includes data array and pagination object."
    },
    "shoppingLoyaltyPoints": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary Key. Unique loyalty points ledger entry.\n\nImplements traceable atomic event accrual/deduction, uniquely identifying this ledger action. Refer to Prisma schema 'loyalty_points.id'."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Points holder's identifier, referencing users.id.\n\nDetermines the owner/beneficiary of the points event. Fulfills referential integrity and audit trail. Refer to Prisma schema 'loyalty_points.user_id'."
        },
        "transaction_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Origin transaction's ID, referencing transactions.id.\n\nConnects earning or usage to a specific business event. Nullable for directly earned events (like referral or admin adjustment). Prisma: 'loyalty_points.transaction_id'."
            },
            {
              "type": "null"
            }
          ],
          "description": "Origin transaction's ID, referencing transactions.id.\n\nConnects earning or usage to a specific business event. Nullable for directly earned events (like referral or admin adjustment). Prisma: 'loyalty_points.transaction_id'."
        },
        "campaign_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Campaign reference (discount_campaigns.id); enables analytics, voucher programs, and event grouping.\n\nNullable when point event originates outside campaigns. Key for marketing audit and campaign efficacy analysis. Prisma: 'loyalty_points.campaign_id'."
            },
            {
              "type": "null"
            }
          ],
          "description": "Campaign reference (discount_campaigns.id); enables analytics, voucher programs, and event grouping.\n\nNullable when point event originates outside campaigns. Key for marketing audit and campaign efficacy analysis. Prisma: 'loyalty_points.campaign_id'."
        },
        "points": {
          "type": "number",
          "format": "double",
          "description": "Points value. Always positive (earn) or negative (redeem). Atomic per event.\n\nTracks how many points are issued or spent. Prisma: 'loyalty_points.points'."
        },
        "type": {
          "type": "string",
          "description": "Event type for the points. E.g., 'earn', 'redeem', 'bonus', 'expire'.\n\nUsed for analytic segmentation and reporting. Mapped from: 'loyalty_points.type'."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Ledger event timestamp for evidence and audit compliance.\n\nThis timestamp ensures audit trail completeness and enables compliance queries. Prisma: 'loyalty_points.created_at'."
        }
      },
      "required": [
        "id",
        "user_id",
        "points",
        "type",
        "created_at"
      ],
      "description": "Loyalty Points Ledger Record. Implements full audit, compliance, and regulatory preservation for loyalty, campaign, or direct earning/redemption events.\n\nCorresponds to PaymentsDiscounts.loyalty_points in the Prisma schema. Ensures all references are traceable; fields strictly normalized; every action is stored as its own atomic entry. Designed for evidence-based reporting, legal inquiry, or business analytics."
    },
    "shoppingLoyaltyPoints.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Points beneficiary, referencing users.id. Required.\n\nDefines the owner of newly created points event."
        },
        "transaction_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Source transaction's id (optional). Links points to business event when present."
            },
            {
              "type": "null"
            }
          ],
          "description": "Source transaction's id (optional). Links points to business event when present."
        },
        "campaign_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Originating campaign, discount_campaigns.id. Optional for direct events."
            },
            {
              "type": "null"
            }
          ],
          "description": "Originating campaign, discount_campaigns.id. Optional for direct events."
        },
        "points": {
          "type": "number",
          "format": "double",
          "description": "Points value to accrue/deduct. Positive for earn, negative for redeem."
        },
        "type": {
          "type": "string",
          "description": "Type of points event. E.g., 'earn', 'redeem', 'bonus', 'expire'."
        }
      },
      "required": [
        "user_id",
        "points",
        "type"
      ],
      "description": "Payload for creating a new loyalty points event entry (PaymentsDiscounts.loyalty_points).\n\nRequired fields: user_id, points amount, and type; optional linkages to transaction or campaign for audit and analytics."
    },
    "shoppingLoyaltyPoints.IUpdate": {
      "type": "object",
      "properties": {
        "transaction_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Source or new business event (if amended); may be updated for compliance/retroactive edit."
            },
            {
              "type": "null"
            }
          ],
          "description": "Source or new business event (if amended); may be updated for compliance/retroactive edit."
        },
        "campaign_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Updated campaign reference if linked retroactively or corrected."
            },
            {
              "type": "null"
            }
          ],
          "description": "Updated campaign reference if linked retroactively or corrected."
        },
        "type": {
          "type": "string",
          "description": "Update the type for compliance correction, e.g., fixing misclassified events."
        }
      },
      "required": [],
      "description": "Payload for updating an existing loyalty points ledger record. Only mutable fields can be changed (transaction, campaign, type). All updates are subject to evidence/audit logic."
    },
    "shoppingRefunds.IRequest": {
      "type": "object",
      "properties": {
        "payment_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Filter: Refunds for a specified payment."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter: Refunds for a specified payment."
        },
        "transaction_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Filter: Refunds for a specified transaction."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter: Refunds for a specified transaction."
        },
        "order_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Filter: Refunds associated with a specific order."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter: Refunds associated with a specific order."
        },
        "status": {
          "oneOf": [
            {
              "type": "string",
              "description": "Filter: Refund status (requested, processed, completed, etc)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter: Refund status (requested, processed, completed, etc)."
        },
        "date_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Filter: Start of date range (requested_at/completed_at)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter: Start of date range (requested_at/completed_at)."
        },
        "date_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Filter: End of date range."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter: End of date range."
        },
        "page": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Pagination: Page number (1-based)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Pagination: Page number (1-based)."
        },
        "limit": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Pagination: Number of items per page (default: 100)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Pagination: Number of items per page (default: 100)."
        }
      },
      "description": "Search/filter/paginate parameters for refund listing requests. Used in PATCH /refunds, supports evidence-grade analytics and regulatory filtering.",
      "required": []
    },
    "IPageShoppingRefunds": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/shoppingRefunds"
          },
          "description": "List of refund records for the page."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated container for refund records with evidence and compliance fields. Provides full dataset with pagination summary for refunds query results."
    },
    "shoppingRefunds": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary Key. Unique refund event identifier. Fully matches PaymentsDiscounts.refunds.id."
        },
        "payment_id": {
          "type": "string",
          "format": "uuid",
          "description": "Refunds original payment (payments.id). Critical for audit chain."
        },
        "transaction_id": {
          "type": "string",
          "format": "uuid",
          "description": "Event transaction driving/originating refund (transactions.id)."
        },
        "order_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Related order (optional). Fulfills reporting and compliance trace."
            },
            {
              "type": "null"
            }
          ],
          "description": "Related order (optional). Fulfills reporting and compliance trace."
        },
        "amount": {
          "type": "number",
          "format": "double",
          "description": "Refund amount. Always atomic, evidence preserved. Prisma: refunds.amount."
        },
        "currency": {
          "type": "string",
          "description": "Refund currency, 3-letter ISO code. Must match original payment/order."
        },
        "status": {
          "type": "string",
          "description": "Lifecycle status. E.g. 'requested', 'processed', 'rejected', etc."
        },
        "requested_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp refund was requested. Serves legal and compliance analytics."
        },
        "completed_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Timestamp completed (if processed). Null for pending/failed."
            },
            {
              "type": "null"
            }
          ],
          "description": "Timestamp completed (if processed). Null for pending/failed."
        },
        "reason": {
          "oneOf": [
            {
              "type": "string",
              "description": "Reason/context for refund event. Stored as atomic string, optional for evidence."
            },
            {
              "type": "null"
            }
          ],
          "description": "Reason/context for refund event. Stored as atomic string, optional for evidence."
        }
      },
      "required": [
        "id",
        "payment_id",
        "transaction_id",
        "amount",
        "currency",
        "status",
        "requested_at"
      ],
      "description": "Refund Record. Central to PaymentsDiscounts.refunds schema, reflecting every refund event for audit, compliance, reconciliation, and analytics. All fields are atomic; evidence chain is maintained. Supports rich analytics, legal export, and dispute workflows."
    },
    "shoppingRefunds.ICreate": {
      "type": "object",
      "properties": {
        "payment_id": {
          "type": "string",
          "format": "uuid",
          "description": "Refunded payment. Required for all refunds. References payments.id."
        },
        "transaction_id": {
          "type": "string",
          "format": "uuid",
          "description": "Event transaction for the refund. Required. References transactions.id."
        },
        "order_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Order context for the refund, e.g., a line-item or full order refund."
            },
            {
              "type": "null"
            }
          ],
          "description": "Order context for the refund, e.g., a line-item or full order refund."
        },
        "amount": {
          "type": "number",
          "format": "double",
          "description": "Exact refund amount (positive or negative for chargeback as per business logic)."
        },
        "currency": {
          "type": "string",
          "description": "ISO code (3-letter) for the currency."
        },
        "status": {
          "type": "string",
          "description": "Refund request status (initial: 'requested')."
        },
        "reason": {
          "oneOf": [
            {
              "type": "string",
              "description": "Free-form reason (optional, for audit/cs purposes)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Free-form reason (optional, for audit/cs purposes)."
        }
      },
      "required": [
        "payment_id",
        "transaction_id",
        "amount",
        "currency",
        "status"
      ],
      "description": "Payload for creating a new refund record. Includes all atomic reference fields and core metadata for full evidence preservation."
    },
    "shoppingRefunds.IUpdate": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "description": "Updated refund event status (e.g., move from 'requested'→'processed')."
        },
        "completed_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Set when refund transitions completed."
            },
            {
              "type": "null"
            }
          ],
          "description": "Set when refund transitions completed."
        },
        "reason": {
          "oneOf": [
            {
              "type": "string",
              "description": "Update/correct reason. Null removes/clears previous reason."
            },
            {
              "type": "null"
            }
          ],
          "description": "Update/correct reason. Null removes/clears previous reason."
        }
      },
      "description": "Payload for updating an existing refund record. Only status, reason, and completed_at may be changed. Alterations are strictly logged for compliance.",
      "required": []
    },
    "shoppingPaymentAudits.IRequest": {
      "type": "object",
      "properties": {
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Filter: Payment audit events by user."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter: Payment audit events by user."
        },
        "entity_type": {
          "oneOf": [
            {
              "type": "string",
              "description": "Filter: By payment entity type (e.g. 'payment', 'discount', 'refund')."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter: By payment entity type (e.g. 'payment', 'discount', 'refund')."
        },
        "entity_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Filter: By affected object (UUID for entity)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter: By affected object (UUID for entity)."
        },
        "action": {
          "oneOf": [
            {
              "type": "string",
              "description": "Filter: Action type logged (create, update, apply, refund, etc)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter: Action type logged (create, update, apply, refund, etc)."
        },
        "date_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Start date for audit range."
            },
            {
              "type": "null"
            }
          ],
          "description": "Start date for audit range."
        },
        "date_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "End date range."
            },
            {
              "type": "null"
            }
          ],
          "description": "End date range."
        },
        "page": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Pagination: Page (1-based)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Pagination: Page (1-based)."
        },
        "limit": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Pagination: Number of results per page."
            },
            {
              "type": "null"
            }
          ],
          "description": "Pagination: Number of results per page."
        }
      },
      "description": "Parameters for listing/searching payment audit log events. Applies RBAC and evidence preservation logic.",
      "required": []
    },
    "IPageShoppingPaymentAudits": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/shoppingPaymentAudits"
          },
          "description": "List of payment_audit log records in evidence page."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated page object for payment audit log listings. Used for analytics, investigation, regulatory reporting, and compliance export."
    },
    "shoppingPaymentAudits": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary Key. Unique payment audit log event as per PaymentsDiscounts.payment_audits.id."
        },
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Audit actor (user/automated agent). Nullable for system/automated entries. Ref: users.id."
            },
            {
              "type": "null"
            }
          ],
          "description": "Audit actor (user/automated agent). Nullable for system/automated entries. Ref: users.id."
        },
        "entity_type": {
          "type": "string",
          "description": "Target entity type being logged (e.g. 'payment', 'discount', 'refund', 'voucher')."
        },
        "entity_id": {
          "type": "string",
          "format": "uuid",
          "description": "ID of affected entity instance. Contains UUID matching payment, discount, refund, etc."
        },
        "action": {
          "type": "string",
          "description": "Action performed ('create', 'update', 'apply', 'refund', etc.)."
        },
        "old_value": {
          "oneOf": [
            {
              "type": "string",
              "description": "Snapshot of previous value(s), where relevant. Null for creates."
            },
            {
              "type": "null"
            }
          ],
          "description": "Snapshot of previous value(s), where relevant. Null for creates."
        },
        "new_value": {
          "oneOf": [
            {
              "type": "string",
              "description": "Snapshot of resulting value, when applicable. Null for deletes."
            },
            {
              "type": "null"
            }
          ],
          "description": "Snapshot of resulting value, when applicable. Null for deletes."
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "Atomic timestamp for this audit log event. Used for full evidence chain."
        }
      },
      "required": [
        "id",
        "entity_type",
        "entity_id",
        "action",
        "timestamp"
      ],
      "description": "Payment/Discount/Transaction Audit Log Record (PaymentsDiscounts.payment_audits model).\n\nEach record is an atomic, evidence-preserving event documenting all changes to payment, discount, refund, or voucher entities. Immutable log crucial for legal, regulatory, and compliance purposes."
    },
    "shoppingPaymentAudits.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Actor effecting the audit event. Null for automated/system entry."
            },
            {
              "type": "null"
            }
          ],
          "description": "Actor effecting the audit event. Null for automated/system entry."
        },
        "entity_type": {
          "type": "string",
          "description": "Type of target payment entity being audited."
        },
        "entity_id": {
          "type": "string",
          "format": "uuid",
          "description": "ID of the entity (payment, discount, etc.) changed."
        },
        "action": {
          "type": "string",
          "description": "Action performed (create, update, etc)."
        },
        "old_value": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional: previous value snapshot for evidence."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional: previous value snapshot for evidence."
        },
        "new_value": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional: new value after event, when required."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional: new value after event, when required."
        }
      },
      "required": [
        "entity_type",
        "entity_id",
        "action"
      ],
      "description": "Payload for creating a payment audit event. Captures entity linkage, action, and value-chaining for compliance. Used by system and privileged business logic only."
    },
    "shoppingPaymentAudits.IUpdate": {
      "type": "object",
      "properties": {
        "action": {
          "type": "string",
          "description": "Action taken for the audit event, such as 'create', 'update', 'delete', etc. Corresponds to the action on payment/discount/refund/voucher entity. Mapped from payment_audits.action in Prisma.\n\nShould contain single atomic operation per update. Reference: payment_audits.action column."
        },
        "old_value": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional snapshot of previous state/value. Used for evidence trail—e.g., payment status before update. Can be null if not required for the event. Reference: payment_audits.old_value in Prisma.\n\nFor audit evidence only, not used for regular API operations."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional snapshot of previous state/value. Used for evidence trail—e.g., payment status before update. Can be null if not required for the event. Reference: payment_audits.old_value in Prisma.\n\nFor audit evidence only, not used for regular API operations."
        },
        "new_value": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional new state/value after action. Used for evidence preservation. Can be null for certain event types. Reference: payment_audits.new_value in Prisma.\n\nSeen as end-state after action occurs."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional new state/value after action. Used for evidence preservation. Can be null for certain event types. Reference: payment_audits.new_value in Prisma.\n\nSeen as end-state after action occurs."
        }
      },
      "required": [
        "action"
      ],
      "description": "Update contract for shoppingPaymentAudits entity. Only metadata/compliance-relevant fields are mutable. Used for rare corrections/annotation by privileged compliance team.\n\nCorresponds to `payment_audits` table (PaymentsDiscounts domain). Reference: payment_audits columns, update operation."
    },
    "shoppingMessageThreads.IRequest": {
      "type": "object",
      "properties": {
        "subject": {
          "type": "string",
          "description": "Optionally filter or search by message thread subject. Enables subject/name lookup or smart suggestion based on the user's need. Mapped to message_thread.subject in Prisma."
        },
        "created_by_user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Filter threads by the creating user's UUID (foreign key), only showing threads initiated by a specific user. Mapped from message_threads.created_by_user_id."
        },
        "archived": {
          "type": "boolean",
          "description": "If true, only returns archived threads; if false, returns only active/unarchived threads. Omit to ignore this filter. Mapped from message_threads.archived."
        },
        "created_from": {
          "type": "string",
          "format": "date-time",
          "description": "Start of created_at timestamp range filter (ISO8601 UTC). Enables time-windowed thread discovery."
        },
        "created_to": {
          "type": "string",
          "format": "date-time",
          "description": "End of created_at timestamp range filter (ISO8601 UTC)."
        },
        "participant_user_id": {
          "type": "string",
          "format": "uuid",
          "description": "(For future extensibility) Filter for threads in which the given user is a participant. Currently, only direct creator-threads are supported unless participants table is added."
        },
        "page": {
          "type": "integer",
          "description": "Result page number for pagination. Must be unsigned integer. First page is 1."
        },
        "page_size": {
          "type": "integer",
          "description": "Number of records per page (pagination). Typically 10–100. Default 20."
        },
        "sort_by": {
          "type": "string",
          "description": "Sort field, such as 'created_at', 'updated_at', 'subject'."
        },
        "sort_dir": {
          "oneOf": [
            {
              "const": "asc",
              "description": "Sort direction. Either 'asc' or 'desc'."
            },
            {
              "const": "desc",
              "description": "Sort direction. Either 'asc' or 'desc'."
            }
          ],
          "description": "Sort direction. Either 'asc' or 'desc'."
        }
      },
      "description": "Filter/search/pagination contract for listing/shopping MessageThreads.\n\nAll fields are independent, supporting advanced admin/support UI. Directly mapped to message_threads fields in Prisma. Used for PATCH operations and list APIs.",
      "required": []
    },
    "IPageShoppingMessageThreads": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Pagination and meta info for result page."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/shoppingMessageThreads"
          },
          "description": "Actual search/result records (shoppingMessageThreads), one per thread."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated result for shoppingMessageThreads (message_threads) list/search API. Contains page meta info + thread record array.\n\nUsed for list/search results—see PATCH operation in OpenAPI."
    },
    "shoppingMessageThreads": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique thread identifier (primary key). Reference: message_threads.id."
        },
        "created_by_user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Creator's user UUID. Foreign key to users.id. Reference: message_threads.created_by_user_id."
        },
        "subject": {
          "type": "string",
          "description": "Subject/title of the thread, shown in UI, searchable/filterable. Reference: message_threads.subject."
        },
        "archived": {
          "type": "boolean",
          "description": "True if thread is archived (hidden but retained for evidence/audit). Reference: message_threads.archived."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of thread creation (UTC, ISO8601). Reference: message_threads.created_at."
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Last updated time for evidence/recency sort. Reference: message_threads.updated_at."
        }
      },
      "required": [
        "id",
        "created_by_user_id",
        "subject",
        "archived",
        "created_at",
        "updated_at"
      ],
      "description": "shoppingMessageThreads represents the message_threads entity.\n\nStores top-level group/thread info for user/user, user/support, or customer comms. Reference: message_threads table in Prisma."
    },
    "shoppingMessageThreads.ICreate": {
      "type": "object",
      "properties": {
        "created_by_user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Thread creator's user UUID (foreign key). Must reference users.id. Required for thread creation."
        },
        "subject": {
          "type": "string",
          "description": "Subject/title of the message thread. Used for top-level search/navigation/discovery."
        }
      },
      "required": [
        "created_by_user_id",
        "subject"
      ],
      "description": "Payload for creating a new message thread. Mapped to message_threads entity in Prisma.\n\nPermissions: only authenticated user or support/admin context may create. Reference: POST operation on /messageThreads."
    },
    "shoppingMessageThreads.IUpdate": {
      "type": "object",
      "properties": {
        "subject": {
          "type": "string",
          "description": "Updated subject/title for the thread. Can be used for thread renaming/editing."
        },
        "archived": {
          "type": "boolean",
          "description": "If set, archives (or un-archives) the thread. See evidence/audit requirements."
        }
      },
      "description": "Payload for updating an existing message thread by ID. Only permitted fields can be changed (subject, archived status). See PUT operation for /messageThreads/{id}.",
      "required": []
    },
    "shoppingMessage.IRequest": {
      "type": "object",
      "properties": {
        "thread_id": {
          "type": "string",
          "format": "uuid",
          "description": "Filter messages by thread UUID. Only messages in the given thread are returned (foreign key to message_threads.id)."
        },
        "sender_user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Filter by sender's user UUID. Only messages sent by this user are returned."
        },
        "parent_message_id": {
          "type": "string",
          "format": "uuid",
          "description": "Filter by parent message UUID (message reply scenario)."
        },
        "message_type": {
          "type": "string",
          "description": "Filter messages by type (user/system/notification). Reference: messages.message_type."
        },
        "archived": {
          "type": "boolean",
          "description": "Retrieve only archived messages (true), only active messages (false), or all if unset."
        },
        "sent_from": {
          "type": "string",
          "format": "date-time",
          "description": "Start of sent_at timestamp range filter (ISO8601)."
        },
        "sent_to": {
          "type": "string",
          "format": "date-time",
          "description": "End of sent_at timestamp range filter (ISO8601)."
        },
        "page": {
          "type": "integer",
          "description": "Page number for pagination (1-based, unsigned)."
        },
        "page_size": {
          "type": "integer",
          "description": "Number of results per page (page size). Can be 10–100. Default 20."
        },
        "sort_by": {
          "type": "string",
          "description": "Field to sort by (e.g., 'sent_at', 'read_at')."
        },
        "sort_dir": {
          "oneOf": [
            {
              "const": "asc",
              "description": "Sort direction (ascending or descending)."
            },
            {
              "const": "desc",
              "description": "Sort direction (ascending or descending)."
            }
          ],
          "description": "Sort direction (ascending or descending)."
        }
      },
      "description": "Search, filter, sort, and paginate shoppingMessage listing requests.\n\nMatches messages table columns, mapped to advanced support/admin UIs and user inbox. Used for PATCH operation on /messages.",
      "required": []
    },
    "shoppingPageMessage": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Pagination and meta info for this message page."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/shoppingMessage"
          },
          "description": "Returned message records for the page (from shoppingMessage entity)."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated, searchable result page for shoppingMessage list/search operations. Contains page meta info + message record array.\n\nSee PATCH operation on /messages."
    },
    "shoppingMessage": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique message identifier. Primary key in messages table."
        },
        "thread_id": {
          "type": "string",
          "format": "uuid",
          "description": "Thread ID this message belongs to (foreign key to message_threads.id)."
        },
        "sender_user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Sender's user UUID (users.id foreign key)."
        },
        "parent_message_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional parent message ID (messages.id foreign key) for reply or child-thread context."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional parent message ID (messages.id foreign key) for reply or child-thread context."
        },
        "content": {
          "type": "string",
          "description": "Raw text/content of message. Atomic evidence, reviewable by audit or moderation logic."
        },
        "message_type": {
          "type": "string",
          "description": "Message type: 'user', 'system', 'notification', etc. Enables workflow/analytics logic. Reference: messages.message_type."
        },
        "sent_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when message was sent (ISO8601 UTC)."
        },
        "read_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Timestamp if message was read. Nullable if unread."
            },
            {
              "type": "null"
            }
          ],
          "description": "Timestamp if message was read. Nullable if unread."
        },
        "archived": {
          "type": "boolean",
          "description": "Archived status flag. True for archived message, false if active."
        }
      },
      "required": [
        "id",
        "thread_id",
        "sender_user_id",
        "content",
        "message_type",
        "sent_at",
        "archived"
      ],
      "description": "shoppingMessage represents a messages row/entity.\n\nStores evidence, content, access flags for communication, support, or messaging. Reference: messages table."
    },
    "shoppingMessage.ICreate": {
      "type": "object",
      "properties": {
        "thread_id": {
          "type": "string",
          "format": "uuid",
          "description": "Thread ID for this message (message_threads.id foreign key)."
        },
        "sender_user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Sender's user UUID. Must reference valid users.id."
        },
        "parent_message_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional parent message ID for reply chaining (nullable)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional parent message ID for reply chaining (nullable)."
        },
        "content": {
          "type": "string",
          "description": "Text content/body of the message."
        },
        "message_type": {
          "type": "string",
          "description": "Type: 'user', 'system', 'notification', ..."
        },
        "sent_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp message is sent (ISO8601 UTC)."
        },
        "read_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "If message is pre-read (rare), set at time of creation; usually null."
            },
            {
              "type": "null"
            }
          ],
          "description": "If message is pre-read (rare), set at time of creation; usually null."
        }
      },
      "required": [
        "thread_id",
        "sender_user_id",
        "content",
        "message_type",
        "sent_at"
      ],
      "description": "Payload for creating a new shoppingMessage entity (messages table).\n\nCorresponds to POST operation on /messages. All fields must comply with schema requirements, and valid foreign keys."
    },
    "shoppingMessage.IUpdate": {
      "type": "object",
      "properties": {
        "content": {
          "type": "string",
          "description": "Replace or update message content. Only permitted to original sender or admin."
        },
        "message_type": {
          "type": "string",
          "description": "Optional update to message type. Restricted to admin/automated flows."
        },
        "read_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Update the read timestamp (used in read receipt workflow)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Update the read timestamp (used in read receipt workflow)."
        },
        "archived": {
          "type": "boolean",
          "description": "Archive or restore the message. True for archive, false to restore."
        }
      },
      "description": "Update payload for a shopping message entity in messages table. Only permitted fields are updatable by sender/admin.\n\nRef: PUT operation for /messages/{id}.",
      "required": []
    },
    "shoppingNotification.IRequest": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Filter by owning user's ID (users.id foreign key). Only returns notifications for the specified recipient."
        },
        "thread_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Filter for notifications related to a particular thread. Useful for thread-centric notification flows."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter for notifications related to a particular thread. Useful for thread-centric notification flows."
        },
        "notification_type": {
          "type": "string",
          "description": "Limit to notifications of a certain type (system, message, promotion, etc). Maps to notification_type in Prisma."
        },
        "archived": {
          "type": "boolean",
          "description": "Return only archived or only active notifications, depending on true/false value. Omitting returns all."
        },
        "sent_from": {
          "type": "string",
          "format": "date-time",
          "description": "Start of sent_at timestamp range (ISO8601 UTC) for filtering by delivery time."
        },
        "sent_to": {
          "type": "string",
          "format": "date-time",
          "description": "End of sent_at timestamp range (ISO8601 UTC)."
        },
        "content": {
          "type": "string",
          "description": "Fulltext or trigram search on notification content, as supported by backend search/indexing."
        },
        "page": {
          "type": "integer",
          "description": "Page number for pagination (1-based, unsigned)."
        },
        "page_size": {
          "type": "integer",
          "description": "Number of results per page. Defaults typically between 10 and 100."
        },
        "sort_by": {
          "type": "string",
          "description": "Field to sort by (sent_at, read_at, ...)."
        },
        "sort_dir": {
          "oneOf": [
            {
              "const": "asc",
              "description": "Sorting direction, 'asc' or 'desc'."
            },
            {
              "const": "desc",
              "description": "Sorting direction, 'asc' or 'desc'."
            }
          ],
          "description": "Sorting direction, 'asc' or 'desc'."
        }
      },
      "description": "Search/filter contract for shoppingNotification listing APIs (notifications table). All fields relate to Prisma columns. Used for PATCH search API on /notifications.",
      "required": []
    },
    "shoppingPageNotification": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Pagination information for the current notification result set.\n\nRecords include metadata for page number, per-page limits, total records, and page count—aligned with the standard IPage structure."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/shoppingNotification"
          },
          "description": "An array of shoppingNotification entries on this page.\n\nEach notification record includes all audit, evidence, and compliance fields as mandated by requirements; see shoppingNotification for detail."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "A paginated list container representing results for notification queries in the shopping backend.\n\nImplements the IPage pattern, returning notification entities along with their pagination metadata. Used for scalable notification listing, respecting evidence, accessibility, and regulatory requirements."
    },
    "shoppingNotification": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier for the notification. Used for audit, retrieval, and compliance evidence. See notifications.id in the Prisma schema."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "UUID of the user receiving this notification. Links to users.id, supporting security, trace, and GDPR requirements."
        },
        "thread_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional foreign key to message_threads.id for conversational context. Null if not related to a thread."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional foreign key to message_threads.id for conversational context. Null if not related to a thread."
        },
        "notification_type": {
          "type": "string",
          "description": "Category/type for this notification (e.g., system, user_message, promotion). Supports business logic and compliance analytics."
        },
        "content": {
          "type": "string",
          "description": "Notification's message body/content. Evidence grade string for audit and regulatory reporting."
        },
        "sent_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the notification was sent. Used for audit, evidence, and compliance tracking."
        },
        "read_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Timestamp when user read the notification. Null if unread. Supports analytics and legal evidence."
            },
            {
              "type": "null"
            }
          ],
          "description": "Timestamp when user read the notification. Null if unread. Supports analytics and legal evidence."
        },
        "archived": {
          "type": "boolean",
          "description": "Indicates if this notification is archived (soft deleted) for compliance/evidence. Never physically deleted—evidence retained for audit/GDPR."
        }
      },
      "required": [
        "id",
        "user_id",
        "notification_type",
        "content",
        "sent_at",
        "archived"
      ],
      "description": "A single notification entity in the shopping system, evidencing a message, alert, or automated notice to a user.\n\nEach notification tracks evidence and audit fields for GDPR/CCPA compliance, incident forensics, and trust/explainability. Maps directly to CommunicationReview.notifications table in Prisma/Mermaid models."
    },
    "shoppingNotification.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "User (UUID) to receive notification (must exist in users)."
        },
        "thread_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optionally links notification to a message thread."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optionally links notification to a message thread."
        },
        "notification_type": {
          "type": "string",
          "description": "Category type ('system', 'user_message', 'promotion', etc)."
        },
        "content": {
          "type": "string",
          "description": "Message body/content, evidence and audit preserved."
        },
        "sent_at": {
          "type": "string",
          "format": "date-time",
          "description": "Point-in-time notification delivery for logging/audit compliance."
        }
      },
      "required": [
        "user_id",
        "notification_type",
        "content",
        "sent_at"
      ],
      "description": "Request body schema for creating a notification (see CommunicationReview.notifications).\n\nSupports all input fields needed for persistent, evidence and audit-compliant notification creation. Thread association optional."
    },
    "shoppingNotification.IUpdate": {
      "type": "object",
      "properties": {
        "notification_type": {
          "type": "string",
          "description": "Type/category update for notification (admin/event only). Optional."
        },
        "content": {
          "type": "string",
          "description": "Optional new content/message for notification."
        },
        "read_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Timestamp for marking notification as read or unread."
            },
            {
              "type": "null"
            }
          ],
          "description": "Timestamp for marking notification as read or unread."
        },
        "archived": {
          "type": "boolean",
          "description": "Archive notification (soft-delete); sets compliance/evidence state."
        }
      },
      "description": "Update body for notifications; supports changing message, marking as (un)read, archive/restore (soft-deletion for compliance/audit).",
      "required": []
    },
    "shoppingReview.IRequest": {
      "type": "object",
      "properties": {
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Restrict reviews to author user ID, or null for all."
            },
            {
              "type": "null"
            }
          ],
          "description": "Restrict reviews to author user ID, or null for all."
        },
        "product_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Physical product UUID to filter reviews for."
            },
            {
              "type": "null"
            }
          ],
          "description": "Physical product UUID to filter reviews for."
        },
        "parent_review_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Filter replies to a particular parent review by UUID. Null disables."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter replies to a particular parent review by UUID. Null disables."
        },
        "language_code": {
          "oneOf": [
            {
              "type": "string",
              "description": "Restrict by BCP 47 language code (e.g. 'en', 'fr')."
            },
            {
              "type": "null"
            }
          ],
          "description": "Restrict by BCP 47 language code (e.g. 'en', 'fr')."
        },
        "verified_purchase": {
          "oneOf": [
            {
              "type": "boolean",
              "description": "Limits to verified purchase only (true), not verified (false), or all (null)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Limits to verified purchase only (true), not verified (false), or all (null)."
        },
        "archived": {
          "oneOf": [
            {
              "type": "boolean",
              "description": "Soft-deleted/revoked filter: true=only deleted, false=only active, null=all."
            },
            {
              "type": "null"
            }
          ],
          "description": "Soft-deleted/revoked filter: true=only deleted, false=only active, null=all."
        },
        "date_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Review creation at or after this time (inclusive)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Review creation at or after this time (inclusive)."
        },
        "date_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Review creation up to this time (inclusive)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Review creation up to this time (inclusive)."
        },
        "page": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Paging: page number."
            },
            {
              "type": "null"
            }
          ],
          "description": "Paging: page number."
        },
        "limit": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Paging: items per page."
            },
            {
              "type": "null"
            }
          ],
          "description": "Paging: items per page."
        },
        "sort_by": {
          "oneOf": [
            {
              "type": "string",
              "description": "Sort by key, allowed: created_at, updated_at, etc."
            },
            {
              "type": "null"
            }
          ],
          "description": "Sort by key, allowed: created_at, updated_at, etc."
        },
        "sort_order": {
          "oneOf": [
            {
              "const": "asc",
              "description": "Sort order (asc/desc). Default: desc (latest first)."
            },
            {
              "const": "desc",
              "description": "Sort order (asc/desc). Default: desc (latest first)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Sort order (asc/desc). Default: desc (latest first)."
        },
        "search_text": {
          "oneOf": [
            {
              "type": "string",
              "description": "Full-text search query/filter for reviews' content."
            },
            {
              "type": "null"
            }
          ],
          "description": "Full-text search query/filter for reviews' content."
        }
      },
      "description": "Advanced filtering/search/pagination for reviews in CommunicationReview.reviews table.\n\nSupports granular querying for analytics, compliance, and discovery workflows—see requirements and ERD.",
      "required": []
    },
    "shoppingPageReview": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Paging data: current page, record count, total."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/shoppingReview"
          },
          "description": "Reviews matching this page's criteria and filters. See shoppingReview for full evidence/audit fields."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paged result for search/list of user reviews.\n\nStandard IPage pattern with evidence-grade shoppingReview entity array for advanced compliance, AI feedback, and analytics."
    },
    "shoppingReview": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary key for review—evidence/audit trace and relation anchor."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "User who authored review (users.id)."
        },
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "Product being reviewed (products.id linkage)."
        },
        "parent_review_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Replies: links to parent review when threaded."
            },
            {
              "type": "null"
            }
          ],
          "description": "Replies: links to parent review when threaded."
        },
        "content": {
          "type": "string",
          "description": "Review content, audit-preserved for compliance/analysis. No HTML for cross-a11y compliance."
        },
        "language_code": {
          "type": "string",
          "description": "Review BCP 47 language code. Multicultural/a11y/analytics evidence."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Evidence/audit creation time. Immutable once set."
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Evidence/audit update time (amended by user/moderator)."
        },
        "verified_purchase": {
          "type": "boolean",
          "description": "Review relates to a confirmed user purchase."
        },
        "archived": {
          "type": "boolean",
          "description": "False = active; True = soft-deleted for compliance, evidence preserved."
        }
      },
      "required": [
        "id",
        "user_id",
        "product_id",
        "content",
        "language_code",
        "created_at",
        "updated_at",
        "verified_purchase",
        "archived"
      ],
      "description": "A completed user review and all audit-trace fields for evidence, analytics, and compliance.\n\nRecords persisting in reviews table for communication, transparency, regulatory/AI explainability support—see Prisma schema."
    },
    "IShoppingReview.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Authenticated user submitting review. Corresponds to reviews.user_id."
        },
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "Product reviewed (products.id, must exist)."
        },
        "parent_review_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Parent review for reply chains (can be null)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Parent review for reply chains (can be null)."
        },
        "content": {
          "type": "string",
          "description": "Main review text."
        },
        "language_code": {
          "type": "string",
          "description": "Locale code for review. Required for I18N/a11y."
        },
        "verified_purchase": {
          "oneOf": [
            {
              "type": "boolean",
              "description": "May be set by business rule; indicates purchase status for evidence."
            },
            {
              "type": "null"
            }
          ],
          "description": "May be set by business rule; indicates purchase status for evidence."
        }
      },
      "required": [
        "user_id",
        "product_id",
        "content",
        "language_code"
      ],
      "description": "API request body for creating a review, per reviews table. Parent and verified_purchase optional; others required. All evidence fields must be audit tracked as per system design."
    },
    "IShoppingReview": {
      "$ref": "#/components/schemas/shoppingReview",
      "description": "Typed alias for shoppingReview, for strong coupling to API/SDK use."
    },
    "IShoppingReview.IUpdate": {
      "type": "object",
      "properties": {
        "content": {
          "type": "string",
          "description": "Updated review body. User/mod-authority enforced."
        },
        "language_code": {
          "type": "string",
          "description": "Update/correction to review's language code."
        },
        "archived": {
          "type": "boolean",
          "description": "Soft deletion or restore. True = archive, evidence preserved; false = reactivate."
        },
        "verified_purchase": {
          "oneOf": [
            {
              "type": "boolean",
              "description": "(Admin only) Manually adjust verified purchase status for correction/audit."
            },
            {
              "type": "null"
            }
          ],
          "description": "(Admin only) Manually adjust verified purchase status for correction/audit."
        }
      },
      "description": "Update body for a review record—content, language, archive, and optionally verified_purchase. Audit/evidence preserved for all updates.",
      "required": []
    },
    "IShoppingReviewMedia.IRequest": {
      "type": "object",
      "properties": {
        "review_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Filter media entries by associated review."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter media entries by associated review."
        },
        "media_type": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optionally filter by type of attached media ('image', 'video', etc)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optionally filter by type of attached media ('image', 'video', etc)."
        },
        "sequence": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Filter by sequence/order index for UI display refinement."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter by sequence/order index for UI display refinement."
        },
        "created_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Only include media created after (and including) this timestamp."
            },
            {
              "type": "null"
            }
          ],
          "description": "Only include media created after (and including) this timestamp."
        },
        "created_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Only include media created before (and including) this timestamp."
            },
            {
              "type": "null"
            }
          ],
          "description": "Only include media created before (and including) this timestamp."
        },
        "alt_text_contains": {
          "oneOf": [
            {
              "type": "string",
              "description": "Search-only: alt_text substring (a11y compliance, evidence, moderation/discovery dashboard UI)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Search-only: alt_text substring (a11y compliance, evidence, moderation/discovery dashboard UI)."
        },
        "page": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Result page number (1-based); if not sent, system default."
            },
            {
              "type": "null"
            }
          ],
          "description": "Result page number (1-based); if not sent, system default."
        },
        "limit": {
          "oneOf": [
            {
              "type": "integer",
              "format": "int32",
              "description": "Maximum results per page/output. System default if blank."
            },
            {
              "type": "null"
            }
          ],
          "description": "Maximum results per page/output. System default if blank."
        },
        "sort_by": {
          "oneOf": [
            {
              "type": "string",
              "description": "Key to sort by (created_at or sequence typical)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Key to sort by (created_at or sequence typical)."
        },
        "sort_order": {
          "oneOf": [
            {
              "const": "asc",
              "description": "asc or desc; default desc by created_at."
            },
            {
              "const": "desc",
              "description": "asc or desc; default desc by created_at."
            },
            {
              "type": "null"
            }
          ],
          "description": "asc or desc; default desc by created_at."
        }
      },
      "description": "Flexible multi-key search/filter paginator for review_media.\n\nUsed in compliance, a11y, analytics, and evidence dashboards.",
      "required": []
    },
    "IPageIShoppingReviewMedia": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Current page, per-page, total record and page count—per IPage spec."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingReviewMedia"
          },
          "description": "Array of IShoppingReviewMedia records in this page/output set."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated IPage format result for review media queries/lists. Compliant with a11y evidence and audit protocols."
    },
    "IShoppingReviewMedia": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier for the review media entry.\n\n출처: Prisma 'review_media' 모델의 id 필드 - 리뷰에 첨부된 각 미디어(이미지/비디오 등)는 이 UUID로 고유 식별됩니다."
        },
        "review_id": {
          "type": "string",
          "format": "uuid",
          "description": "관련 리뷰의 고유 ID. 이 리뷰 미디어가 참조하는 리뷰 엔트리.\n\n출처: Prisma 'review_media' 모델의 review_id 필드 - 리뷰에 첨부된 미디어의 소유 리뷰를 나타냅니다."
        },
        "media_type": {
          "type": "string",
          "description": "미디어 타입(예: image, video 등). 파일 형식 혹은 미디어 분류를 명시합니다.\n\n출처: Prisma 'review_media' 모델의 media_type 필드."
        },
        "uri": {
          "type": "string",
          "maxLength": 80000,
          "description": "외부 저정소의 미디어(이미지/비디오) URI(80000자 한도).\n\n출처: Prisma 'review_media' 모델의 uri 필드. 파일/blob 데이터는 DB에 저장하지 않고 URI로 참조합니다."
        },
        "alt_text": {
          "oneOf": [
            {
              "type": "string",
              "description": "접근성과 다국어 지원을 위한 대체 텍스트.\n\n출처: Prisma 'review_media' 모델의 alt_text 필드. 이미지를 설명하는 텍스트입니다."
            },
            {
              "type": "null"
            }
          ],
          "description": "접근성과 다국어 지원을 위한 대체 텍스트.\n\n출처: Prisma 'review_media' 모델의 alt_text 필드. 이미지를 설명하는 텍스트입니다."
        },
        "sequence": {
          "type": "integer",
          "description": "미디어의 노출 순서(갤러리 내 위치). 여러 첨부 이미지/비디오가 있을 때 순서를 지정합니다.\n\n출처: Prisma 'review_media' 모델의 sequence 필드."
        }
      },
      "required": [
        "id",
        "review_id",
        "media_type",
        "uri",
        "sequence"
      ],
      "description": "리뷰 미디어 엔티티 타입.\n\n상품 또는 서비스 리뷰에 첨부된 미디어(이미지/비디오 등)의 메타데이터 레코드.\n\n- 리뷰 및 미디어의 참조 무결성, 증거 보관 및 접근성 준수 설계\n- 모든 필드는 Prisma 스키마 및 증거 감사/규정 요건에 따라 정의\n- CRUD 및 감사, 인증/권한 비즈니스 로직에서 활용\n\n(출처: Prisma 'review_media' 및 요구사항 분석서)"
    },
    "IShoppingReviewMedia.ICreate": {
      "type": "object",
      "properties": {
        "review_id": {
          "type": "string",
          "format": "uuid",
          "description": "첨부할 리뷰의 고유 ID.\n\nPrisma 'review_media' 모델의 review_id 필드로, 미디어 첨부 기능에서 참조할 리뷰를 가리킴."
        },
        "media_type": {
          "type": "string",
          "description": "미디어 타입(예: image, video 등). 첨부 파일의 분류.\n\nPrisma 'review_media' 모델의 media_type 컬럼 설명 참고."
        },
        "uri": {
          "type": "string",
          "maxLength": 80000,
          "description": "외부 파일 스토리지의 URI.\n파일 업로드 시 DB에는 실제 파일이 아닌 URI만 저장.\n\n출처: Prisma 'review_media' 모델의 uri 필드(최대 80000자)."
        },
        "alt_text": {
          "oneOf": [
            {
              "type": "string",
              "description": "접근성(a11y) 및 다국어 지원을 위한 대체 텍스트(설명). 없어도 됨.\n\n출처: Prisma 'review_media' - alt_text 필드 설명."
            },
            {
              "type": "null"
            }
          ],
          "description": "접근성(a11y) 및 다국어 지원을 위한 대체 텍스트(설명). 없어도 됨.\n\n출처: Prisma 'review_media' - alt_text 필드 설명."
        },
        "sequence": {
          "type": "integer",
          "description": "첨부 미디어의 순서(갤러리 내 인덱스, 0부터 시작 가능). 프론트엔드 노출 정렬 등 활용.\n\n출처: Prisma 'review_media' 모델의 sequence 필드."
        }
      },
      "required": [
        "review_id",
        "media_type",
        "uri",
        "sequence"
      ],
      "description": "리뷰 미디어 생성 시 요청 본문 타입.\n\n- 리뷰에 이미지/동영상을 추가할 때 필요한 필드 및 데이터 구조 명세\n- file 자체는 저장하지 않고, 참조 URI로만 관리하는 설계 적용\n\n(출처: Prisma 스키마 및 요구사항 보고서)"
    },
    "IShoppingReviewMedia.IUpdate": {
      "type": "object",
      "properties": {
        "media_type": {
          "type": "string",
          "description": "미디어 파일의 타입 갱신 필드(예: image → video 등).\n\nPrisma 'review_media' 모델의 media_type - 필드 설명 참고."
        },
        "uri": {
          "type": "string",
          "maxLength": 80000,
          "description": "첨부 미디어 자원의 새 URI. 주소가 변경되는 경우 사용.\n\nPrisma 'review_media' 모델의 uri 필드 (80000자 제한)."
        },
        "alt_text": {
          "oneOf": [
            {
              "type": "string",
              "description": "접근성, 다국어 지원을 위한 대체 텍스트 갱신용.\n\nPrisma 'review_media' - alt_text 필드."
            },
            {
              "type": "null"
            }
          ],
          "description": "접근성, 다국어 지원을 위한 대체 텍스트 갱신용.\n\nPrisma 'review_media' - alt_text 필드."
        },
        "sequence": {
          "type": "integer",
          "description": "해당 미디어의 노출 순서 변경. 갤러리 내 순번 재배치 등.\n\nPrisma 'review_media' 모델의 sequence 필드."
        }
      },
      "description": "리뷰 미디어 갱신(수정, 일부 필드만 변경) 요청 타입.\n\n- 리뷰에 첨부된 미디어 속성(타입/URI/alt_text/순서) 갱신 시 사용\n- 기존 파일 참조 URI 변경 가능, 증거 보존 및 접근성 강화 설계\n(Prisma 및 AI-native 증거 관리 요구 반영)",
      "required": []
    },
    "IShoppingReviewModeration.IRequest": {
      "type": "object",
      "properties": {
        "review_id": {
          "type": "string",
          "format": "uuid",
          "description": "타겟 리뷰의 UUID. 모더레이션/감사 대상 리뷰 레코드 식별자.\n\n(Prisma 'review_moderations' review_id 컬럼/설명 참고)"
        },
        "moderator_user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "필터 기준 모더레이터(시행자) 유저 UUID. 관리자/감사 내역 검색에 활용.\n\n(Prisma 'review_moderations' moderator_user_id 컬럼)"
            },
            {
              "type": "null"
            }
          ],
          "description": "필터 기준 모더레이터(시행자) 유저 UUID. 관리자/감사 내역 검색에 활용.\n\n(Prisma 'review_moderations' moderator_user_id 컬럼)"
        },
        "action_type": {
          "oneOf": [
            {
              "type": "string",
              "description": "'remove'|'restore'|'flag' 등 액션 타입 필터링.\n\n(Prisma 'review_moderations' action_type 컬럼, 업무/증거 규칙 반영)"
            },
            {
              "type": "null"
            }
          ],
          "description": "'remove'|'restore'|'flag' 등 액션 타입 필터링.\n\n(Prisma 'review_moderations' action_type 컬럼, 업무/증거 규칙 반영)"
        },
        "created_at_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "모더레이션 이벤트 시작일(이 후)."
            },
            {
              "type": "null"
            }
          ],
          "description": "모더레이션 이벤트 시작일(이 후)."
        },
        "created_at_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "모더레이션 이벤트 종료일(이 전)."
            },
            {
              "type": "null"
            }
          ],
          "description": "모더레이션 이벤트 종료일(이 전)."
        },
        "rationale": {
          "oneOf": [
            {
              "type": "string",
              "description": "사유(이유) 키워드, 부분 매칭 필터링.\n\n(Prisma 'review_moderations' rationale 컬럼)"
            },
            {
              "type": "null"
            }
          ],
          "description": "사유(이유) 키워드, 부분 매칭 필터링.\n\n(Prisma 'review_moderations' rationale 컬럼)"
        },
        "page": {
          "type": "integer",
          "minimum": 1,
          "description": "페이지 번호 (기본값 1)."
        },
        "pageSize": {
          "type": "integer",
          "minimum": 1,
          "default": 20,
          "description": "페이지 당 결과 수 (기본 20, 상한선 등은 API 정책 적용)."
        }
      },
      "description": "리뷰 모더레이션 레코드(감사/제재/조치) 리스트 요청용 검색 및 페이징 파라미터 타입.\n\n- 모더레이터, 조치일, 타입, 사유 등 복합 필터 제공\n- 증거 감사, 이의제기, 추적성 및 변경 이력 검증에 사용",
      "required": []
    },
    "IShoppingReviewModeration": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "모더레이션(감사/제재/조치) 레코드 고유 ID.\n\n(Prisma 'review_moderations' id 필드)"
        },
        "review_id": {
          "type": "string",
          "format": "uuid",
          "description": "조치 대상 리뷰 UUID(참조).\n\n(Prisma 'review_moderations' review_id)"
        },
        "moderator_user_id": {
          "type": "string",
          "format": "uuid",
          "description": "모더레이션(감사) 시행자 유저 ID.\n\n(Prisma 'review_moderations' moderator_user_id)"
        },
        "action_type": {
          "type": "string",
          "description": "조치 타입(예: 'remove', 'flag', 'restore').\n\n(Prisma 'review_moderations' action_type)"
        },
        "rationale": {
          "type": "string",
          "description": "조치 이유(첨부 사유/노트), 감사 증거 및 규정 준수 명세.\n\n(Prisma 'review_moderations' rationale)"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "모더레이션 이벤트 발생 시각. 변경/이력 추적 필수.\n\n(Prisma 'review_moderations' created_at)"
        }
      },
      "required": [
        "id",
        "review_id",
        "moderator_user_id",
        "action_type",
        "rationale",
        "created_at"
      ],
      "description": "리뷰 모더레이션(감사/조치/제재) 엔티티 타입.\n\n리뷰 감사/제재/판단 및 이력 추적, 접근 제어, 이의제기에 증거로 활용됨.\n\n- 비즈니스 출처: 커뮤니케이션/리뷰 및 증거 감사 요구사항, Prisma 'review_moderations' 표준"
    },
    "IShoppingReviewModeration.ICreate": {
      "type": "object",
      "properties": {
        "review_id": {
          "type": "string",
          "format": "uuid",
          "description": "대상 리뷰의 UUID. 신규 조치 피드백 리뷰.\n\n(Prisma 'review_moderations' review_id)"
        },
        "moderator_user_id": {
          "type": "string",
          "format": "uuid",
          "description": "이 조치(감사) 일으킨 담당자/모더레이터 UUID.\n\n(Prisma 'review_moderations' moderator_user_id)"
        },
        "action_type": {
          "type": "string",
          "description": "감사/조치 타입 (예: 'remove', 'flag', 'restore').\n\n(Prisma 'review_moderations' action_type 설명 참고)"
        },
        "rationale": {
          "type": "string",
          "description": "감사/조치 사유. 노트/메모/근거 자료.\n\n(Prisma 'review_moderations' rationale)"
        }
      },
      "required": [
        "review_id",
        "moderator_user_id",
        "action_type",
        "rationale"
      ],
      "description": "신규 리뷰 모더레이션 오브젝트 생성 요청 타입.\n\n- 제재/감사/이력 저장, 증거 준수, 접근/권한 관리 등 구현\n- 비즈니스 명세: Prisma 및 규정 점검 문서"
    },
    "IShoppingReviewModeration.IUpdate": {
      "type": "object",
      "properties": {
        "rationale": {
          "type": "string",
          "description": "감사 사유/노트/메모 업데이트 필드.\n\n(Prisma 'review_moderations' rationale). 핵심 조치 사유 교정/추가."
        }
      },
      "description": "리뷰 모더레이션 레코드 갱신(일부 필드만 교정/추가) 요청 타입.\n\n변경 가능 항목: rationale(사유), 증거 추가 및 감사 이력 보강 용도",
      "required": []
    },
    "IPageIShoppingReviewModeration": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingReviewModeration"
          },
          "description": "모더레이션 오브젝트 리스트."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "리뷰 모더레이션 목록 + 페이징 컨테이너.\n\n- 데이터: IShoppingReviewModeration 배열, 페이징 정보 포함\n- 확장 가능 구조(검색, 리스트, 대용량/증거 관리) 적용"
    },
    "IReviewSentiments.IRequest": {
      "type": "object",
      "properties": {
        "review_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "검색 대상 리뷰 UUID. 단일/여러 개의 리뷰 Sentiment 분석 결과만 조회 시 지정.\n\n출처: CommunicationReview.review_sentiments.review_id"
            },
            {
              "type": "null"
            }
          ],
          "description": "검색 대상 리뷰 UUID. 단일/여러 개의 리뷰 Sentiment 분석 결과만 조회 시 지정.\n\n출처: CommunicationReview.review_sentiments.review_id"
        },
        "ai_model_version_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "분석에 사용된 AI 모델 버전 UUID. 모델별 Sentiment 분석 추적 시 사용.\n\n출처: CommunicationReview.review_sentiments.ai_model_version_id"
            },
            {
              "type": "null"
            }
          ],
          "description": "분석에 사용된 AI 모델 버전 UUID. 모델별 Sentiment 분석 추적 시 사용.\n\n출처: CommunicationReview.review_sentiments.ai_model_version_id"
        },
        "sentiment": {
          "oneOf": [
            {
              "type": "string",
              "description": "분석된 감성(예: 'positive', 'negative', 'neutral' 등), 분류/검색 필터용.\n\n출처: CommunicationReview.review_sentiments.sentiment"
            },
            {
              "type": "null"
            }
          ],
          "description": "분석된 감성(예: 'positive', 'negative', 'neutral' 등), 분류/검색 필터용.\n\n출처: CommunicationReview.review_sentiments.sentiment"
        },
        "score_min": {
          "oneOf": [
            {
              "type": "number",
              "format": "float",
              "description": "감정 점수 하한 필터 (예: 0.0).\n\n출처: CommunicationReview.review_sentiments.score"
            },
            {
              "type": "null"
            }
          ],
          "description": "감정 점수 하한 필터 (예: 0.0).\n\n출처: CommunicationReview.review_sentiments.score"
        },
        "score_max": {
          "oneOf": [
            {
              "type": "number",
              "format": "float",
              "description": "감정 점수 상한 필터 (예: 1.0).\n\n출처: CommunicationReview.review_sentiments.score"
            },
            {
              "type": "null"
            }
          ],
          "description": "감정 점수 상한 필터 (예: 1.0).\n\n출처: CommunicationReview.review_sentiments.score"
        },
        "analyzed_at_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "분석 시점 시작일."
            },
            {
              "type": "null"
            }
          ],
          "description": "분석 시점 시작일."
        },
        "analyzed_at_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "분석 시점 종료일."
            },
            {
              "type": "null"
            }
          ],
          "description": "분석 시점 종료일."
        },
        "page": {
          "type": "integer",
          "minimum": 1,
          "description": "페이지 번호 (기본값 1)."
        },
        "pageSize": {
          "type": "integer",
          "minimum": 1,
          "default": 20,
          "description": "페이지당 결과 개수 (기본 20)."
        }
      },
      "description": "리뷰 감성 분석 목록 검색, 필터 및 페이지네이션 요청 타입.\n\nAI/ML 기반 리뷰 Sentiment 분석 결과 조회, 라벨링, 버전 관리에 활용.",
      "required": []
    },
    "IReviewSentiments": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Sentiment 분석 결과의 고유 ID.\n\n출처: CommunicationReview.review_sentiments.id"
        },
        "review_id": {
          "type": "string",
          "format": "uuid",
          "description": "분석한 리뷰 UUID.\n\n출처: CommunicationReview.review_sentiments.review_id"
        },
        "ai_model_version_id": {
          "type": "string",
          "format": "uuid",
          "description": "사용된 AI 모델 버전 UUID.\n\n출처: CommunicationReview.review_sentiments.ai_model_version_id"
        },
        "sentiment": {
          "type": "string",
          "description": "분석 결과 감성(예: 'positive', 'negative', 'neutral').\n\n출처: CommunicationReview.review_sentiments.sentiment."
        },
        "score": {
          "type": "number",
          "format": "float",
          "description": "AI/ML 기반 감성 분석 점수(신뢰도/확률 등), 0~1 사이 값 등.\n\n출처: CommunicationReview.review_sentiments.score"
        },
        "analyzed_at": {
          "type": "string",
          "format": "date-time",
          "description": "분석 실행 시각.\n\n출처: CommunicationReview.review_sentiments.analyzed_at"
        }
      },
      "required": [
        "id",
        "review_id",
        "ai_model_version_id",
        "sentiment",
        "score",
        "analyzed_at"
      ],
      "description": "리뷰 감성 분석 결과 엔티티 타입.\n\n- AI/ML 감정 분석 결과 관리 및 감사 추적에 사용\n- Evidence 보존, 버전/모델별 결과, Explainability 보장"
    },
    "IReviewSentiments.ICreate": {
      "type": "object",
      "properties": {
        "review_id": {
          "type": "string",
          "format": "uuid",
          "description": "감성 분석 대상 리뷰 UUID.\n\nCommunicationReview.review_sentiments.review_id"
        },
        "ai_model_version_id": {
          "type": "string",
          "format": "uuid",
          "description": "사용 모델 버전 UUID.\n\nCommunicationReview.review_sentiments.ai_model_version_id"
        },
        "sentiment": {
          "type": "string",
          "description": "AI 파이프라인 분석 결과(positive/negative/neutral 등).\n\nCommunicationReview.review_sentiments.sentiment"
        },
        "score": {
          "type": "number",
          "format": "float",
          "description": "AI/ML 감정 분석 신뢰도, 점수(0~1), 확률 등.\n\nCommunicationReview.review_sentiments.score"
        }
      },
      "required": [
        "review_id",
        "ai_model_version_id",
        "sentiment",
        "score"
      ],
      "description": "리뷰 감성 분석 결과 신규 입력(등록)용 요청 타입.\n\n- AI/ML 분석 파이프라인에서 리뷰당 결과 생성/저장에 사용\n- 설명가능성, 감사, 증거 보존 및 버전 관리에 적합"
    },
    "IPageIReviewSentiments": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IReviewSentiments"
          },
          "description": "리뷰 감성 분석 엔티티의 배열."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "리뷰 감성 분석 결과 목록 및 페이징 컨테이너.\n\n- AI-native 설명가능 시각화·대시보드·감사 사용 구조\n- 배열 데이터, 페이징 정보 포함 구성"
    },
    "IReviewSentiments.IUpdate": {
      "type": "object",
      "description": "수정된 감정 분석 결과를 표현하는 객체입니다.\n\n이 타입은 감정 분석 기록의 정확성 보정, AI 재분석, 규제 준수 업데이트가 필요한 경우 전체 레코드를 갱신하기 위해 사용됩니다.\n\n모든 주요 필드는 최신 상태로 대체되어야 하며, 이력 관리와 컴플라이언스 보존을 위해 이전 값은 감사 로그에 저장될 수 있습니다.\n- 리뷰와 AI 모델 버전에 대한 링크는 스키마의 무결성 및 관계형 참조를 통해 검증됩니다.\n- 성공적으로 업데이트 시 완전한 리소스 상태가 반환됩니다.\n- 존재하지 않거나 잘못된 업데이트의 경우 오류가 발생할 수 있습니다.",
      "properties": {
        "review_id": {
          "type": "string",
          "format": "uuid",
          "description": "감정 분석 결과가 연결된 사용자의 리뷰 고유 식별자(필수).\n\n리뷰는 CommunicationReview 리뷰 테이블의 참조로, 해당 감정 분석 데이터의 원본 피드백을 명확히 하며, 감사·컴플라이언스와 설명가능성 대비에 중요합니다.\n존재하지 않는 리뷰 ID 지정 시 오류 발생."
        },
        "ai_model_version_id": {
          "type": "string",
          "format": "uuid",
          "description": "분석 수행에 사용된 AI 모델 버전 고유 식별자(필수).\n\nAdvancedAI.ai_model_versions 테이블의 FK이며, 실제 분석레이어나 규제 준수 요구사항에 따라 모델 lineage, 버전별 설명 가능성(EU AI Act 대비) 등에 활용됩니다."
        },
        "sentiment": {
          "type": "string",
          "description": "감정 분류 결과(예: 'positive', 'negative', 'neutral'), 필수.\n\n분류값은 내부적으로 시스템 분류기 및 외부 대시보드 기준에 맞춰 일관되어야 하며, 향후 다중 감정값 혹은 추가 하위 분류 유형이 확장될 수 있습니다."
        },
        "score": {
          "type": "number",
          "format": "double",
          "description": "모델이 출력한 감정 스코어로, 모델 신뢰도 또는 폴라리티 큐에 활용(예: 0.93).\n\n규제 및 설명가능성 대시보드에 바로 반영 가능한 값이어야 하며, 세부적인 설명/정책제어가 필요한 경우 추가 메타데이터와 함께 관리됩니다."
        },
        "analyzed_at": {
          "type": "string",
          "format": "date-time",
          "description": "감정 분석이 실행된 타임스탬프(필수).\n\n감사, 증거 추적, 규제 준수(예: GDPR/CCPA의 시점 단속)에 매우 중요합니다.\n존재하지 않는 경우 API에서 자동 채워질 수 있습니다."
        }
      },
      "required": [
        "review_id",
        "ai_model_version_id",
        "sentiment",
        "score",
        "analyzed_at"
      ]
    },
    "ISentimentAnalysisLogs.IRequest": {
      "type": "object",
      "description": "감정 분석 로그(리뷰별 AI 입력/출력 저장)에 대한 조회·검색 요청 파라미터입니다.\n\n- 리뷰 ID, AI 모델 버전, 분석 시점(범위), 입력/출력 클래스 등의 필터를 지원합니다.\n- 페이지네이션(page, limit), 정렬(sortField, sortDirection) 옵션이 있습니다.\n- 대규모 AI 운영/컴플라이언스팀이 설명가능성 분석, 트렌드, 대시보드용으로 활용합니다.",
      "properties": {
        "review_id": {
          "type": "string",
          "format": "uuid",
          "description": "(선택적) 대상 리뷰 고유 식별자. 지정 시 해당 리뷰의 감정 분석 로그만 필터링됩니다."
        },
        "ai_model_version_id": {
          "type": "string",
          "format": "uuid",
          "description": "(선택적) 분석에 사용된 AI 모델 버전 고유 식별자. 이 값으로 특정 모델 버전별 분석 내역만 조회할 수 있습니다."
        },
        "from": {
          "type": "string",
          "format": "date-time",
          "description": "(선택적) 분석 로그 조회 시작 시점. 이 시점 이후 생성된 로그만 반환."
        },
        "to": {
          "type": "string",
          "format": "date-time",
          "description": "(선택적) 분석 로그 조회 종료 시점. 이 시점 이전 생성된 로그만 반환."
        },
        "input_class": {
          "type": "string",
          "description": "(선택적) 입력 클래스 혹은 AI 분류 타깃 필터."
        },
        "output_class": {
          "type": "string",
          "description": "(선택적) AI 결과의 아웃풋 클래스 식별자 또는 키워드입니다."
        },
        "page": {
          "type": "integer",
          "description": "페이지 번호(기본값 1)",
          "minimum": 1
        },
        "limit": {
          "type": "integer",
          "description": "페이지당 결과 개수(기본값 30, 최대 100)",
          "minimum": 1,
          "maximum": 100
        },
        "sortField": {
          "type": "string",
          "description": "정렬 기준 필드명(예: analyzed_at, score 등)"
        },
        "sortDirection": {
          "oneOf": [
            {
              "const": "asc",
              "description": "정렬 방향(asc: 오름차순, desc: 내림차순)"
            },
            {
              "const": "desc",
              "description": "정렬 방향(asc: 오름차순, desc: 내림차순)"
            }
          ],
          "description": "정렬 방향(asc: 오름차순, desc: 내림차순)"
        }
      },
      "required": []
    },
    "IPageISentimentAnalysisLogs": {
      "type": "object",
      "description": "감정 분석 로그의 페이징 가능한 결과 컬렉션.\n\n- 전체 페이지/레코드 정보와 개별 로그 엔트리 데이터 배열로 구성됩니다.\n- 분석특화 대시보드·통합 evidence export·대규모 ML 트래킹 용도로 활용합니다.",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "페이지네이션 메타데이터: 현재 페이지, 전체 레코드수, 페이지 수 등"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/ISentimentAnalysisLogs"
          },
          "description": "요청 조건에 부합하는 감정 분석 로그 레코드 배열"
        }
      },
      "required": [
        "pagination",
        "data"
      ]
    },
    "ISentimentAnalysisLogs": {
      "type": "object",
      "description": "감정 분석 실행 로그(리뷰 개별명령별 AI 입력/출력/모델 버전/근거/시점 등)를 저장하는 엔티티.\n\n- 각 로그는 개별 리뷰·AI버전·입력 등 불변성(증거) 보장.\n- GDPR/CCPA·AI 법률, 모델 explainability, ML 지속 학습/감사 대시보드의 핵심 근거입니다.",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "고유 식별자"
        },
        "review_id": {
          "type": "string",
          "format": "uuid",
          "description": "대상 리뷰 고유 식별자(CommunicationReview.reviews FK)"
        },
        "ai_model_version_id": {
          "type": "string",
          "format": "uuid",
          "description": "분석에 사용한 AI 모델 버전 ID(AdvancedAI.ai_model_versions 테이블 참조)"
        },
        "raw_input": {
          "type": "string",
          "description": "원본 입력 혹은 전처리 후 입력값(텍스트 또는 구조화 JSON). 모델 재현, forensic, audit 용도."
        },
        "output": {
          "type": "string",
          "description": "모델 인퍼런스 결과(원본/가공/JSON, 자유형식). explainability, 재실행 시 output 비교 근거."
        },
        "model_version": {
          "type": "string",
          "description": "모델 버전 식별자(중복정보, 조회·대시보드 quick access용)"
        },
        "analyzed_at": {
          "type": "string",
          "format": "date-time",
          "description": "분석 실행 시각(감사 추적, 증거 보존의 핵심)."
        }
      },
      "required": [
        "id",
        "review_id",
        "ai_model_version_id",
        "raw_input",
        "output",
        "model_version",
        "analyzed_at"
      ]
    },
    "ISentimentAnalysisLogs.ICreate": {
      "type": "object",
      "description": "감정 분석 로그 엔트리 신규 생성용 리퀘스트 바디입니다.\n\n- 리뷰·AI 모델 버전·입력/출력/버전·시점 등 모든 증거·이력 필드를 포함.\n- 생성 후 불변이며, 증거증명·forensic·AI 재현성·설명가능성 컴플라이언스를 지원합니다.",
      "properties": {
        "review_id": {
          "type": "string",
          "format": "uuid",
          "description": "감정 분석 결과가 연결된 리뷰 식별자(필수)."
        },
        "ai_model_version_id": {
          "type": "string",
          "format": "uuid",
          "description": "분석 시 사용한 AI 모델 버전 ID(필수)."
        },
        "raw_input": {
          "type": "string",
          "description": "원본 입력 혹은 전처리 입력값(텍스트/JSON 등)"
        },
        "output": {
          "type": "string",
          "description": "AI 인퍼런스 결과(원본 또는 자유 형태)"
        },
        "model_version": {
          "type": "string",
          "description": "모델 버전 문자열(검색/트래킹 편의/중복 정보), 필수."
        },
        "analyzed_at": {
          "type": "string",
          "format": "date-time",
          "description": "분석 실행 시점(필수, 감사증거)"
        }
      },
      "required": [
        "review_id",
        "ai_model_version_id",
        "raw_input",
        "output",
        "model_version",
        "analyzed_at"
      ]
    },
    "IFavorites.IRequest": {
      "type": "object",
      "description": "즐겨찾기(favorite) 검색/필터/페이지네이션 요청 DTO입니다.\n\n- 대상 유저/상품, 시점, 삭제여부 등 다양한 조건 지원\n- 페이징(page/limit), 정렬도 포함 가능\n- 증거성/개인화/UX 개선, AI 피드백 및 준법경로 증명 목적 전용",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "(선택적) 즐겨찾기 주체인 사용자 ID.\n\n특정 사용자의 즐겨찾기만 필터링할 때 사용. 자기 계정 또는 운영적 감사 권한 필요."
        },
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "(선택적) 상품 ID. 해당 상품을 즐겨찾기 한 기록만 필터링."
        },
        "deleted": {
          "type": "boolean",
          "description": "(선택적) 삭제(소프트 삭제) 상태 필터\n\ntrue: 삭제된 것이 포함, false: 삭제 안된 것만, null/미지정: 전체"
        },
        "from": {
          "type": "string",
          "format": "date-time",
          "description": "(선택적) 이 시점 이후 생성된 즐겨찾기만 조회"
        },
        "to": {
          "type": "string",
          "format": "date-time",
          "description": "(선택적) 이 시점 이전 생성 즐겨찾기만 조회"
        },
        "page": {
          "type": "integer",
          "description": "페이지 번호, 기본값 1 (1부터 시작)."
        },
        "limit": {
          "type": "integer",
          "description": "페이지당 개수(최대 100, 기본 20)"
        },
        "sortField": {
          "type": "string",
          "description": "정렬 기준 필드명(예: created_at, deleted_at 등)"
        },
        "sortDirection": {
          "oneOf": [
            {
              "const": "asc",
              "description": "정렬 방향(asc: 오름차순, desc: 내림차순)"
            },
            {
              "const": "desc",
              "description": "정렬 방향(asc: 오름차순, desc: 내림차순)"
            }
          ],
          "description": "정렬 방향(asc: 오름차순, desc: 내림차순)"
        }
      },
      "required": []
    },
    "IPageIFavorites": {
      "type": "object",
      "description": "즐겨찾기 IFavorites 엔티티의 페이지네이션 결과 레코드 셋.\n\n- pagination(페이지 메타 정보) + data(즐겨찾기 레코드 배열)\n- 대시보드, 감사/규제 검증, 개별 사용자/분석/추천 용도로 사용",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "페이지네이션 메타데이터: 현재 페이지, 전체 레코드 수 등"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IFavorites"
          },
          "description": "페이지 내 즐겨찾기(IFavorites) 레코드 배열"
        }
      },
      "required": [
        "pagination",
        "data"
      ]
    },
    "IFavorites": {
      "type": "object",
      "description": "개별 즐겨찾기(favorite) 엔티티.\n\n- 한 명의 사용자와 한 개 상품 간의 유일·불변·감사/규제 추적 레코드.\n- 증거(생성/삭제 시점)·AI 추천/분석·개인화 UX의 핵심 데이터임\n\n실제 DB상 Prisma FavoritesPersonalization.favorites 테이블 구조와 1:1로 대응됩니다.",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "즐겨찾기 고유 식별자(증거·감사 키)"
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "즐겨찾기 주체 사용자 ID"
        },
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "즐겨찾기 된 상품 ID"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "생성 타임스탬프(식별/추적/감사 필수)"
        },
        "deleted_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "삭제(해지) 타임스탬프; 현재 삭제 상태면 값이 있음. 증거/규제 준수용."
            },
            {
              "type": "null"
            }
          ],
          "description": "삭제(해지) 타임스탬프; 현재 삭제 상태면 값이 있음. 증거/규제 준수용."
        }
      },
      "required": [
        "id",
        "user_id",
        "product_id",
        "created_at"
      ]
    },
    "IFavorites.ICreate": {
      "type": "object",
      "description": "즐겨찾기 신규 추가(등록) 리퀘스트 바디 DTO.\n\n- 최소값: product_id\n- 경험상 user_id와 같은 인증 정보는 인증 컨텍스트에서 추출하므로 포함하지 않습니다.\n- 생성의 증거 확보(이력, meta, AI 추천 피드백, 증거제공) 목적으로 활용.\n- 잘못된 경우(중복, 비허가, 잘못된 product 등)이면 명확한 오류 반환.",
      "properties": {
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "추가하려는 상품 식별자; Prisma products.id FK.\n\n중복(이미 추가됨)일시 409 등 반려, 정상시 생성됨."
        }
      },
      "required": [
        "product_id"
      ]
    },
    "IFavorites.IUpdate": {
      "type": "object",
      "description": "즐겨찾기 단일 엔티티(삭제/주기적 복구 등) 수정 리퀘스트 바디 DTO.\n\n- user_id, product_id 등 주요 참조/ID는 불변이므로 변경 불가.\n- 실제로 수정 가능한 필드는 오직 deleted_at(soft delete/복구용 등) 혹은 추가적인 future evidence/meta 만 허용\n- 증거성 및 규제 준수 위한 변경 이력 강제 감사 기록 필요.",
      "properties": {
        "deleted_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "soft-delete 시점. 삭제 복구 필요 시 null로 원복"
            },
            {
              "type": "null"
            }
          ],
          "description": "soft-delete 시점. 삭제 복구 필요 시 null로 원복"
        }
      },
      "required": []
    },
    "IBookmarks.IListRequest": {
      "type": "object",
      "description": "북마크(bookmarks) 필터링·검색 및 페이지네이션 요청 DTO.\n\n- 유저/상품/id, 폴더/태그/검색어, 삭제여부 등 다양한 조건 필터링 지원\n- 페이징(page/limit) 및 정렬 옵션 적용 가능\n- 증거/준법/A/B 분석, AI 활용, 고객 맞춤형 대시보드·UX·분석/피드백 루프에 활용 가능",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "(선택적) 북마크 소유 사용자 ID. 자기 계정 필터에 주로 활용"
        },
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "(선택적) 상품 ID. 특정 상품을 북마크한 기록만 조회"
        },
        "custom_folder": {
          "type": "string",
          "description": "(선택적) 사용자가 정의한 폴더 명"
        },
        "tag": {
          "type": "string",
          "description": "(선택적) 사용자 정의 북마크 태그"
        },
        "note": {
          "type": "string",
          "description": "(선택적) 메모/설명"
        },
        "deleted": {
          "type": "boolean",
          "description": "(선택적) 삭제(소프트 삭제) 상태 필터"
        },
        "from": {
          "type": "string",
          "format": "date-time",
          "description": "(선택적) 이 시점 이후 생성된 북마크만 조회"
        },
        "to": {
          "type": "string",
          "format": "date-time",
          "description": "(선택적) 이 시점 이전 생성 북마크만 조회"
        },
        "page": {
          "type": "integer",
          "description": "페이지 번호, 기본값 1"
        },
        "limit": {
          "type": "integer",
          "description": "페이지 당 갯수(기본 20, 최대 100)"
        },
        "sortField": {
          "type": "string",
          "description": "정렬 기준 필드명"
        },
        "sortDirection": {
          "oneOf": [
            {
              "const": "asc",
              "description": "정렬 방향(asc/desc)"
            },
            {
              "const": "desc",
              "description": "정렬 방향(asc/desc)"
            }
          ],
          "description": "정렬 방향(asc/desc)"
        }
      },
      "required": []
    },
    "ISentimentAnalysisLogs.IUpdate": {
      "type": "object",
      "properties": {
        "review_id": {
          "type": "string",
          "format": "uuid",
          "description": "연결된 리뷰의 UUID입니다.\n\n이 필드는 해당 감정 분석 로그가 어떤 리뷰에 속하는지 명확히 지정합니다. 원본 Prisma 스키마의 `review_id` 필드 주석을 참조하세요."
        },
        "ai_model_version_id": {
          "type": "string",
          "format": "uuid",
          "description": "분석에 사용된 AI/ML 모델 버전의 UUID입니다.\n\nPrisma 스키마의 `ai_model_version_id`와 연관되며, 완전한 증거 관리와 AI 거버넌스(버전 이력, 재현성, 컴플라이언스)를 충족하기 위해 필요합니다."
        },
        "raw_input": {
          "type": "string",
          "description": "해당 분석 시점에 입력된 원본 데이터(문자열 또는 JSON 직렬화 입력).\n\nPrisma 스키마의 `raw_input` 필드 문서를 참조하세요. 감사, 증거 보존, AI 출력의 설명 가능성 및 규제 대응을 위함입니다."
        },
        "output": {
          "type": "string",
          "description": "AI/ML 모델의 결과값 전체(일반적으로 JSON 또는 직렬화된 값).\n\nPrisma 스키마의 `output` 필드를 참조하세요. 모델의 상세 결과부터 예측값, 분류 사유 등 모든 원본 출력을 담습니다."
        },
        "model_version": {
          "type": "string",
          "description": "분석 실행에 사용된 AI/ML 모델 버전 문자열입니다 (예: 'v1.5.2-ko', '2025.06.main').\n\nPrisma 스키마의 `model_version` 주석을 참조하세요. 감사, 리플레이, 규제 대응에 필수입니다."
        },
        "analyzed_at": {
          "type": "string",
          "format": "date-time",
          "description": "해당 감정 분석이 수행된 UTC 시간(ISO 8601).\n\n원본 Prisma 스키마의 `analyzed_at` 주석을 참조하세요. 컴플라이언스, 모델 성능 평가, 증거 보존을 위함입니다."
        }
      },
      "required": [
        "review_id",
        "ai_model_version_id",
        "raw_input",
        "output",
        "model_version",
        "analyzed_at"
      ],
      "description": "감정분석 로그(entry)의 수정/교체를 위한 구조체.\n\n이 타입은 CommunicationReview.sentiment_analysis_logs 테이블의 내용을 업데이트(교체, 수정)하기 위해 사용됩니다. 모든 변경은 컴플라이언스 규정, 증거 추적, AI 설명 책임을 위하여 완전히 감사/증거 보존되어야 하며, 원본 Prisma 스키마의 각 필드 주석을 반영해 작성됩니다.\n\n- review_id: 연결된 리뷰의 UUID (관계 무결성)\n- ai_model_version_id: 분석에 사용된 AI 모델 버전 (AI 거버넌스)\n- raw_input: 원본/하이퍼파라미터/인풋 스냅샷 (AI 설명, 감사용)\n- output: 모델의 실제 return값 전체 (분류/점수 등)\n- model_version: 사람이 이해할 수 있는 모델 버전 문자열 (설명/컴플라이언스)\n- analyzed_at: 분석 실행 시점(UTC, 증거/재현성)"
    },
    "IPageIBookmarks": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Pagination information for the current page of bookmarks.\n\nDerived from the IPage interface, it facilitates navigation, view state, and metadata for paginated object queries. Structured to comply with auditability and evidence tracking."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IBookmarks"
          },
          "description": "Array containing bookmark records in the current page.\n\nEach entry is a bookmarks entity, preserving full 3NF and audit/compliance properties for the favorite/bookmarking subsystem."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated result container for bookmarks.\n\nImplements the standard IPage<IBookmarks> container for efficient, compliant, and evidence-preserving pagination of bookmark records in the FavoritesPersonalization module. Pagination information enables batch audits, analytics, and compliance exports."
    },
    "IBookmarks": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary key for the bookmark entity.\n\nDirectly maps to the bookmarks.id column in the database, enabling audit, evidence trails, and entity relational consistency."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique user reference who owns this bookmark.\n\nCorrelates to the users.id foreign key. Used for access enforcement, RBAC, and to support individualized compliance exports."
        },
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "Target product entity that this bookmark references.\n\nRelates to products.id, enabling analytical queries, AI personalization, and content targeting. Enforces referential integrity at the DB and API layer."
        },
        "custom_folder": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional organizational label or folder created by the user, such as 'Wishlist' or 'Gifts'.\n\nMulticultural and I18N compliant, enables segmentation and personalized organization UI/UX. Not required."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional organizational label or folder created by the user, such as 'Wishlist' or 'Gifts'.\n\nMulticultural and I18N compliant, enables segmentation and personalized organization UI/UX. Not required."
        },
        "tag": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional user-defined tag for further personalizing and categorizing the bookmark.\n\nCan be used for analytics, filter UIs, and machine learning model input."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional user-defined tag for further personalizing and categorizing the bookmark.\n\nCan be used for analytics, filter UIs, and machine learning model input."
        },
        "note": {
          "oneOf": [
            {
              "type": "string",
              "description": "User note attached to this bookmark. This field is audited for compliance and evidence/recommendation context.\n\nTypical use case: 'Birthday gift idea for Mom' or reminders for future purchases."
            },
            {
              "type": "null"
            }
          ],
          "description": "User note attached to this bookmark. This field is audited for compliance and evidence/recommendation context.\n\nTypical use case: 'Birthday gift idea for Mom' or reminders for future purchases."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of bookmark creation, as required for audit and analytics.\n\nMandated for evidence preservation and timeline reconstruction in regulatory scenarios."
        },
        "deleted_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Soft-deletion timestamp for compliance, retention, and legal traceability.\n\nNull if active, else set if logically deleted. Essential for non-repudiation and right-to-erasure (GDPR/CCPA) flows."
            },
            {
              "type": "null"
            }
          ],
          "description": "Soft-deletion timestamp for compliance, retention, and legal traceability.\n\nNull if active, else set if logically deleted. Essential for non-repudiation and right-to-erasure (GDPR/CCPA) flows."
        }
      },
      "required": [
        "id",
        "user_id",
        "product_id",
        "created_at"
      ],
      "description": "Represents a user bookmark entity as defined in the FavoritesPersonalization.bookmarks Prisma model.\n\nEvery object tracks the contextual relationship between user and product, together with evidence/metadata to support AI feedback, personalization, and rigorous compliance."
    },
    "IBookmarks.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "ID of the user creating the bookmark. Required for ownership, RBAC, and evidence tracking."
        },
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "Target product to be bookmarked.\n\nMust exist in products table; referential integrity enforced."
        },
        "custom_folder": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional user-created folder or label for bookmark grouping, supporting personalization and analytics."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional user-created folder or label for bookmark grouping, supporting personalization and analytics."
        },
        "tag": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional tag for user-defined labeling or segmentation."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional tag for user-defined labeling or segmentation."
        },
        "note": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional personalized note attached to the bookmark at creation time."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional personalized note attached to the bookmark at creation time."
        }
      },
      "required": [
        "user_id",
        "product_id"
      ],
      "description": "Request body for bookmark creation.\n\nImplements all required and optional fields necessary for auditable, evidence-preserving user bookmark creation as demanded by the FavoritesPersonalization module and compliance policies."
    },
    "IBookmarks.IUpdate": {
      "type": "object",
      "properties": {
        "custom_folder": {
          "oneOf": [
            {
              "type": "string",
              "description": "Editable organization/folder name. Virtual grouping, not required."
            },
            {
              "type": "null"
            }
          ],
          "description": "Editable organization/folder name. Virtual grouping, not required."
        },
        "tag": {
          "oneOf": [
            {
              "type": "string",
              "description": "Tag string for optional user-defined category/label."
            },
            {
              "type": "null"
            }
          ],
          "description": "Tag string for optional user-defined category/label."
        },
        "note": {
          "oneOf": [
            {
              "type": "string",
              "description": "Editable user note. Can be cleared, updated, or extended per compliance/evidence needs."
            },
            {
              "type": "null"
            }
          ],
          "description": "Editable user note. Can be cleared, updated, or extended per compliance/evidence needs."
        },
        "deleted_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "If set, marks this bookmark as soft-deleted for evidence and compliance (null restores the entry).\n\nUsed for GDPR/CCPA right-to-erasure, evidence retention, and legal traceability. Only modifiable by owner or admins."
            },
            {
              "type": "null"
            }
          ],
          "description": "If set, marks this bookmark as soft-deleted for evidence and compliance (null restores the entry).\n\nUsed for GDPR/CCPA right-to-erasure, evidence retention, and legal traceability. Only modifiable by owner or admins."
        }
      },
      "description": "Request body for updating a bookmark entity.\n\nPermits edit of organizational metadata and evidence fields only, maintaining full audit and compliance. Ownership checks enforced in application logic.",
      "required": []
    },
    "IPersonalizationEvents.IListRequest": {
      "type": "object",
      "properties": {
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optionally filter personalization events for the specified user. Supports compliance exports/data sovereignty."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optionally filter personalization events for the specified user. Supports compliance exports/data sovereignty."
        },
        "recommendation_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional filter for events relating to a specific recommendation. Advanced ML or traceability."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional filter for events relating to a specific recommendation. Advanced ML or traceability."
        },
        "product_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional filter for events referencing a specific product.\n\nUsed in AI feedback loop validation and compliance evidence search."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional filter for events referencing a specific product.\n\nUsed in AI feedback loop validation and compliance evidence search."
        },
        "event_type": {
          "oneOf": [
            {
              "type": "string",
              "description": "Filter by event type (e.g., 'click', 'view', 'dismiss', etc).\n\nSupports analytics and model explainability workflows."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter by event type (e.g., 'click', 'view', 'dismiss', etc).\n\nSupports analytics and model explainability workflows."
        },
        "model_version": {
          "oneOf": [
            {
              "type": "string",
              "description": "ML model version string to filter by model used for event generation. Enables explainable AI and model trace compliance."
            },
            {
              "type": "null"
            }
          ],
          "description": "ML model version string to filter by model used for event generation. Enables explainable AI and model trace compliance."
        },
        "timestamp_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Start time for event search window. Audit/compliance range query."
            },
            {
              "type": "null"
            }
          ],
          "description": "Start time for event search window. Audit/compliance range query."
        },
        "timestamp_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "End time for event search window. Enables regulatory or explainability timeline queries."
            },
            {
              "type": "null"
            }
          ],
          "description": "End time for event search window. Enables regulatory or explainability timeline queries."
        },
        "page": {
          "oneOf": [
            {
              "type": "integer",
              "format": "uint32",
              "description": "Page number for pagination (if present)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Page number for pagination (if present)."
        },
        "limit": {
          "oneOf": [
            {
              "type": "integer",
              "format": "uint32",
              "description": "Record limit per page (optional, capped by policy)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Record limit per page (optional, capped by policy)."
        }
      },
      "description": "Request parameters for paginated, filtered personalization_events list API.\n\nEnables advanced analytics, audit/certification, and model trace explainability. All fields are optional; only supplied parameters are used as filters.",
      "required": []
    },
    "IPageIPersonalizationEvents": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Pagination block for the returned result set (page, limit, total count)."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IPersonalizationEvents"
          },
          "description": "Array of personalization_events objects matching the search/filter criteria, with full audit fields."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated result container for personalization event queries.\n\nEnforces evidence preservation and data access policies across FavoritesPersonalization personalization_events records. Standard IPage container structure with evidence-compliant metadata."
    },
    "IPersonalizationEvents": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary key UUID for this personalization event.\n\nCorresponds to personalization_events.id in FavoritesPersonalization."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "User associated with this personalization event.\n\nLinks to users.id, used for access control, compliance, and ML feedback."
        },
        "recommendation_id": {
          "type": "string",
          "format": "uuid",
          "description": "Related recommendation entity served or acted upon in this event.\n\nEvidence for continuous learning and explainable AI trace."
        },
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "Product referenced/affected in this event. Used for targeting, audit, and personalization compliance."
        },
        "event_type": {
          "type": "string",
          "description": "Describes the type of personalization event (e.g., 'view', 'click', 'dismiss') for full compliance and analytics."
        },
        "model_version": {
          "type": "string",
          "description": "String identifying the AI/ML model version involved in this event."
        },
        "context": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional contextual metadata (device, channel, locale, etc). JSON-encoded if needed for extensibility."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional contextual metadata (device, channel, locale, etc). JSON-encoded if needed for extensibility."
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "When this personalization event was recorded, for audit and ML."
        }
      },
      "required": [
        "id",
        "user_id",
        "recommendation_id",
        "product_id",
        "event_type",
        "model_version",
        "timestamp"
      ],
      "description": "Personalization event record, as in FavoritesPersonalization.personalization_events.\n\nEach object forms part of the evidence trail for personalization, AI explainability, compliance, and continuous learning feedback."
    },
    "IPersonalizationEvents.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "User initiating the personalization event.\n\nEvidence trail for audit, feedback, and explainable AI compliance."
        },
        "recommendation_id": {
          "type": "string",
          "format": "uuid",
          "description": "Reference to the delivered recommendation entity.\n\nSupports audit, analytics, and continuous learning feedback."
        },
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "Product relevant to this personalization event, as required for analytics/\npersonalization, evidence, and ML workflows."
        },
        "event_type": {
          "type": "string",
          "description": "Event type/category (click, view, dismiss, etc), enabling analytics, explainability, and audit logging."
        },
        "model_version": {
          "type": "string",
          "description": "AI/ML model version string for traceability and model audit compliance."
        },
        "context": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional context (channel, device, locale, JSON string for extensibility).\n\nPreserved for compliance and AI explainability."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional context (channel, device, locale, JSON string for extensibility).\n\nPreserved for compliance and AI explainability."
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when this event was captured. Ensures audit and alignment with model feedback flows."
        }
      },
      "required": [
        "user_id",
        "recommendation_id",
        "product_id",
        "event_type",
        "model_version",
        "timestamp"
      ],
      "description": "Request body for creating a personalization event record.\n\nDesigned for append-only audit chain and real-time continuous learning pipelines; all fields needed for feedback, compliance, and explainability—no derived data."
    },
    "IShoppingPersonalizationEvent.IUpdate": {
      "type": "object",
      "properties": {
        "event_type": {
          "oneOf": [
            {
              "type": "string",
              "description": "Updated event type for personalization event (e.g., changing from 'view' to 'click')."
            },
            {
              "type": "null"
            }
          ],
          "description": "Updated event type for personalization event (e.g., changing from 'view' to 'click')."
        },
        "context": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional: Replacement/patch context for this event (device, channel, metadata, as JSON string or empty)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional: Replacement/patch context for this event (device, channel, metadata, as JSON string or empty)."
        },
        "timestamp": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Replacement timestamp for multichannel correction/audit. Allows timeline fix without altering other relational context."
            },
            {
              "type": "null"
            }
          ],
          "description": "Replacement timestamp for multichannel correction/audit. Allows timeline fix without altering other relational context."
        }
      },
      "description": "Request body to update a previously recorded personalization event.\n\nSupports error correction, audit/annotation, and evidence-relabelling for regulatory or model explainability needs. Modifies only non-relational fields (type, context, timestamp).",
      "required": []
    },
    "IShoppingPersonalizationEvent": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary key identifier of the personalization event."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "User reference for this event."
        },
        "recommendation_id": {
          "type": "string",
          "format": "uuid",
          "description": "Recommendation triggering this event."
        },
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "Product linked to this event."
        },
        "event_type": {
          "type": "string",
          "description": "Event action (click/view/dismiss etc)."
        },
        "model_version": {
          "type": "string",
          "description": "Model version that generated the recommendation."
        },
        "context": {
          "oneOf": [
            {
              "type": "string",
              "description": "Contextual, device or channel metadata."
            },
            {
              "type": "null"
            }
          ],
          "description": "Contextual, device or channel metadata."
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "Event timestamp."
        }
      },
      "required": [
        "id",
        "user_id",
        "recommendation_id",
        "product_id",
        "event_type",
        "model_version",
        "timestamp"
      ],
      "description": "Personalization event resource, as returned by GET/fetch endpoints.\n\nMirror of DB schema with evidence-ready trace context and audit fields for AI-native compliance."
    },
    "IDeleteResult": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "description": "Indicates if the delete or soft-delete operation succeeded. True if operation completed, false otherwise."
        },
        "message": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional descriptive message about the outcome (used for error or audit reporting)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional descriptive message about the outcome (used for error or audit reporting)."
        }
      },
      "required": [
        "success"
      ],
      "description": "Standard structure for delete/soft-delete API outcomes.\n\nUsed by endpoints (e.g., favorites, personalization events, recommendations) to communicate operation status with audit traceability."
    },
    "IShoppingRecommendation.IRequest": {
      "type": "object",
      "properties": {
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional filter for user associated with recommendations. Supports analytics or personalization feedback flows."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional filter for user associated with recommendations. Supports analytics or personalization feedback flows."
        },
        "product_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional: filter for all recommendations for a specific product.\n\nUsed for analyse model explainability and feedback data."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional: filter for all recommendations for a specific product.\n\nUsed for analyse model explainability and feedback data."
        },
        "model_version": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional filter for recommendations delivered by a particular model version (for transparency/audit)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional filter for recommendations delivered by a particular model version (for transparency/audit)."
        },
        "recommendation_time_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Optional time filter: recommended records from or after this point."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional time filter: recommended records from or after this point."
        },
        "recommendation_time_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Optional time filter: recommended records up to this point."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional time filter: recommended records up to this point."
        },
        "page": {
          "oneOf": [
            {
              "type": "integer",
              "format": "uint32",
              "description": "Page number for result set pagination."
            },
            {
              "type": "null"
            }
          ],
          "description": "Page number for result set pagination."
        },
        "limit": {
          "oneOf": [
            {
              "type": "integer",
              "format": "uint32",
              "description": "Max results per page for pagination (policy-capped)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Max results per page for pagination (policy-capped)."
        }
      },
      "description": "Request schema for listing, searching, and filtering recommendations in the AI-native shopping backend.\n\nImplements advanced, evidence-compliant query controls for model explainability, continuous learning, and regulatory exports.",
      "required": []
    },
    "IPageIShoppingRecommendation": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "페이지 정보.\n\n전체 결과 집합의 페이지 네비게이션 및 오프셋/카운터 필드를 제공합니다. 모든 페이징된 응답의 공통 구조로서, 현재 페이지, 제한, 전체 레코드 수 및 총 페이지 수를 반드시 포함해야 하며, 실제 데이터 집합과 별도로 반환됩니다."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingRecommendation"
          },
          "description": "추천 결과 데이터 배열.\n\n이 필드는 실제 각 추천 결과 오브젝트(전체 필드 세트 포함)가 포함된 목록입니다. 각 요소는 추천 엔티티의 완전한 형식을 가지며, 추천 모델의 사용자별/상품별 로그, 모델 버전, 설명 사유 등 AI 정밀 분석을 위한 필수 필드가 반영되어 있습니다."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "추천 엔티티(`IShoppingRecommendation`)의 페이징 리스트 컨테이너.\n\n본 타입은 대용량 결과를 페이지별로 반환하는 모든 추천 결과 API에서 표준 결과 컨테이너로 활용됩니다. 이 구조는 모든 페이지형 엔드포인트에 일관된 UI/프론트엔드 연결성을 보장하며, AI 추천 시스템의 대량 배치 조회, 분석 대시보드, 규제 감사용 내역 등 다양한 분석 상황에 적합합니다.\n매우 상세한 필드 설명과 함께, 검색/필터 조건에 맞는 추천 결과 레코드의 부분 목록과 함께 페이지네이션 메타 정보를 제공합니다."
    },
    "IShoppingRecommendation": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "추천 레코드의 고유 식별자(UUID).\n\n이 값은 추천 이벤트 로그를 일관되게 추적하고, 규제 감사, 이력 확인, 그리고 추천별 피드백/오류 분석 보고에 연결하기 위한 기준점입니다."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "추천을 받은 사용자 계정의 UUID.\n\n추천 대상이 되는 사용자의 고유 식별자이며, 프라이버시 정책에 따라 민감정보로 분리 관리됩니다. 추천 내역을 개인화, 사용자 로그 추적, 증적 요건에 맞춰 정확히 관리할 때 필수적으로 사용됩니다."
        },
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "추천된 상품의 UUID.\n\n해당 추천이 참조하는 정확한 상품 엔티티를 지정합니다. 상품 시각화, 추천-클릭 피드백 반복, AI 모델 성능 평가 등 주요 추천 플로우에서 필수로 사용됩니다."
        },
        "model_id": {
          "type": "string",
          "description": "추천을 생성한 AI/ML 모델의 식별자(비즈니스 레벨).\n\n구체적으로 어떤 AI 모델 엔진이 추천 결과를 생성했는지 추적하는데 사용하며, 모델 거버넌스/AI 관리 대시보드, 모델 버전업 이슈 관리에도 연결됩니다."
        },
        "model_version": {
          "type": "string",
          "description": "추천을 생성한 AI/ML 모델 버전 정보.\n\n비즈니스/컴플라이언스/AI 성능 이슈 재현, 설명가능성, 리콜 등 AI 백엔드 감사·추적까지 연결하기 위해 버전 문자열(예: 'v2025.06.01' 등) 형태로 구체적으로 관리됩니다."
        },
        "rationale": {
          "oneOf": [
            {
              "type": "string",
              "description": "추천 결정 사유 및 설명(옵션).\n\nAI 또는 운영자가 입력한 추천 사유 및 근거 설명 (왜 이 상품을 추천했는가에 대한 간단한 내역)입니다. 규제, 설명가능성, AI윤리 요구 등 다양한 법적·품질 측정 이슈에서 중요합니다."
            },
            {
              "type": "null"
            }
          ],
          "description": "추천 결정 사유 및 설명(옵션).\n\nAI 또는 운영자가 입력한 추천 사유 및 근거 설명 (왜 이 상품을 추천했는가에 대한 간단한 내역)입니다. 규제, 설명가능성, AI윤리 요구 등 다양한 법적·품질 측정 이슈에서 중요합니다."
        },
        "recommendation_time": {
          "type": "string",
          "format": "date-time",
          "description": "추천이 실제 배포된 시각(ISO 8601 UTC).\n\n정확한 타임스탬프를 남겨, 모든 개인화 추천 이벤트의 이력검색, 이상 감지, 인과관계 분석, 감사 요건에 사용합니다."
        },
        "deleted_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "소프트 삭제 또는 논리 삭제가 발생한 시각(옵션).\n\nGDPR/삭제이력 보존 등 준법 처리 및 추적성 보장, 추천 데이터셋 변경시 롤백/증거관리 이슈에 적용됩니다."
            },
            {
              "type": "null"
            }
          ],
          "description": "소프트 삭제 또는 논리 삭제가 발생한 시각(옵션).\n\nGDPR/삭제이력 보존 등 준법 처리 및 추적성 보장, 추천 데이터셋 변경시 롤백/증거관리 이슈에 적용됩니다."
        }
      },
      "required": [
        "id",
        "user_id",
        "product_id",
        "model_id",
        "model_version",
        "recommendation_time"
      ],
      "description": "추천 엔터티의 단일 레코드.\n\n이 객체는 AI/ML 백엔드가 생성·서빙한 개인화 상품 추천의 전체 정보를 담으며, 핵심 필드로 식별자, 유저/상품, 사용된 모델·버전, 사유, 실제 추천 시각을 포함합니다. 모든 추천 결과의 이력/증적/설명 가능성/재현성 기준에 충실하게 설계되어, 기술·비즈니스·규제 요구사항을 모두 충족합니다."
    },
    "IShoppingRecommendation.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "추천 사용자 식별자(UUID)."
        },
        "product_id": {
          "type": "string",
          "format": "uuid",
          "description": "추천 상품 식별자(UUID)."
        },
        "model_id": {
          "type": "string",
          "description": "추천 생성 AI/ML 모델 고유명."
        },
        "model_version": {
          "type": "string",
          "description": "추천 생성 AI/ML 모델 버전. 예: 'v2.3.1'."
        },
        "rationale": {
          "oneOf": [
            {
              "type": "string",
              "description": "추천 사유·설명(옵션)."
            },
            {
              "type": "null"
            }
          ],
          "description": "추천 사유·설명(옵션)."
        },
        "recommendation_time": {
          "type": "string",
          "format": "date-time",
          "description": "추천이 실제 배포된 시각(UTC ISO 8601)."
        }
      },
      "required": [
        "user_id",
        "product_id",
        "model_id",
        "model_version",
        "recommendation_time"
      ],
      "description": "추천 생성(등록)용 요청 바디 스키마.\n\n사용자, 상품, AI 모델/버전 정보를 포함해, 서비스/AI 모델이 실제로 추천 이벤트를 기록할 때 제출하는 요청 페이로드입니다. 설명사유는 비워 둘 수 있으나 모든 필드는 증적 및 감사 요구 사항을 충족합니다."
    },
    "IShoppingRecommendation.IUpdate": {
      "type": "object",
      "properties": {
        "rationale": {
          "oneOf": [
            {
              "type": "string",
              "description": "추천 사유·설명 업데이트(옵션)."
            },
            {
              "type": "null"
            }
          ],
          "description": "추천 사유·설명 업데이트(옵션)."
        },
        "recommendation_time": {
          "type": "string",
          "format": "date-time",
          "description": "추천 발생 시각 갱신 시 사용(ISO 8601 UTC)."
        },
        "deleted_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "추천 소프트 삭제/철회 시각(옵션)."
            },
            {
              "type": "null"
            }
          ],
          "description": "추천 소프트 삭제/철회 시각(옵션)."
        }
      },
      "required": [],
      "description": "추천 레코드 수정용 바디.\n\n주로 설명, 추천 배포 시각, 삭제 상태(논리 삭제) 등의 업데이트를 지원합니다. 핵심 참조키(사용자/상품/모델)는 변경 불가, 논리적 증적·이력만 업데이트합니다."
    },
    "IShoppingPersonalizationAudit.IRequest": {
      "type": "object",
      "properties": {
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "검색/필터 대상으로 사용할 사용자 UUID. 없을 경우 전 사용자 대상 검색. 개인정보 관점에서 접근 권한 제한 필요."
            },
            {
              "type": "null"
            }
          ],
          "description": "검색/필터 대상으로 사용할 사용자 UUID. 없을 경우 전 사용자 대상 검색. 개인정보 관점에서 접근 권한 제한 필요."
        },
        "action_type": {
          "oneOf": [
            {
              "type": "string",
              "description": "이벤트 종류 기반 필터 값.\n예) 즐겨찾기 추가/해제, 추천 제공, 피드백 등 특정 이력 구분."
            },
            {
              "type": "null"
            }
          ],
          "description": "이벤트 종류 기반 필터 값.\n예) 즐겨찾기 추가/해제, 추천 제공, 피드백 등 특정 이력 구분."
        },
        "timestamp_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "조회 시작(이후) 타임스탬프.\n검색/감사 대상 시간 필터 사용."
            },
            {
              "type": "null"
            }
          ],
          "description": "조회 시작(이후) 타임스탬프.\n검색/감사 대상 시간 필터 사용."
        },
        "timestamp_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "조회 종료(이전) 타임스탬프."
            },
            {
              "type": "null"
            }
          ],
          "description": "조회 종료(이전) 타임스탬프."
        },
        "favorite_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Favorite(즐겨찾기) 엔티티 ID로 필터. 옵션."
            },
            {
              "type": "null"
            }
          ],
          "description": "Favorite(즐겨찾기) 엔티티 ID로 필터. 옵션."
        },
        "bookmark_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Bookmark 엔티티 ID 필터. 옵션."
            },
            {
              "type": "null"
            }
          ],
          "description": "Bookmark 엔티티 ID 필터. 옵션."
        },
        "recommendation_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Recommendation(추천) 엔티티 ID 필터. 옵션."
            },
            {
              "type": "null"
            }
          ],
          "description": "Recommendation(추천) 엔티티 ID 필터. 옵션."
        },
        "personalization_event_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "PersonalizationEvent(개인화 이벤트) 엔티티 ID로 필터. 옵션."
            },
            {
              "type": "null"
            }
          ],
          "description": "PersonalizationEvent(개인화 이벤트) 엔티티 ID로 필터. 옵션."
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "minimum": 1,
          "description": "페이지 번호(1-base), 옵션. 미설정시 1로 동작."
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "minimum": 1,
          "maximum": 100,
          "description": "한 페이지당 레코드 건수. 기본 20/최대 100."
        }
      },
      "description": "Personalization Audit(퍼스널라이제이션/즐겨찾기/추천 이력 등) 리스트 API의 검색/필터링/페이징 요청 파라미터 전문.\n\n모든 필드는 선택적으로 사용 가능하며, 고급 감사/검색/분석에서 원하는 이력 내역 범위를 효율적으로 조회할 수 있도록 설계되었습니다.",
      "required": []
    },
    "IPageIShoppingPersonalizationAudit": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "페이지 정보. 전체 목록 컨테이너에서 표준 메타 필드 제공합니다."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingPersonalizationAudit"
          },
          "description": "이 페이지의 감사 이벤트(퍼스널라이제이션/북마크/추천 등) 이력 오브젝트 리스트.\n\n각 항목은 증적(PersonalizationAudit) 객체 전문을 포함합니다."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "PersonalizationAudit(퍼스널라이제이션/즐겨찾기/추천 감사 이력) 페이징 목록 컨테이너.\n\n페이징 메타 데이터와 개별 감사 결과/이력 데이터를 묶어서 반환하며, 감사, 컴플라이언스, 증적/분석 대시보드에서 통합적으로 사용됩니다."
    },
    "IShoppingPersonalizationAudit": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "개별 감사 이벤트 오브젝트의 고유 식별자(UUID)."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "주체 사용자 참조 UUID. GDPR 등 프라이버시 정책 준수 필드."
        },
        "favorite_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "즐겨찾기(Favorite) 엔티티 참조 ID(옵션). 해당 이벤트가 Favorite에 연관될 경우."
            },
            {
              "type": "null"
            }
          ],
          "description": "즐겨찾기(Favorite) 엔티티 참조 ID(옵션). 해당 이벤트가 Favorite에 연관될 경우."
        },
        "bookmark_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Bookmark 엔티티 참조 ID. 옵션."
            },
            {
              "type": "null"
            }
          ],
          "description": "Bookmark 엔티티 참조 ID. 옵션."
        },
        "recommendation_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Recommendation(추천) 참조 ID. 옵션."
            },
            {
              "type": "null"
            }
          ],
          "description": "Recommendation(추천) 참조 ID. 옵션."
        },
        "personalization_event_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Personalization Event(기록) ID 참조. 옵션."
            },
            {
              "type": "null"
            }
          ],
          "description": "Personalization Event(기록) ID 참조. 옵션."
        },
        "action_type": {
          "type": "string",
          "description": "이 감사 이벤트(액션) 종류. (예: ADD_FAVORITE, SERVE_RECOMMENDATION, REMOVE_BOOKMARK 등)"
        },
        "evidence_hash": {
          "type": "string",
          "description": "해당 이벤트의 증거성을 위해 생성된 해시값. (불변성, GDPR 등 준법 감사를 위한 근거)"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "이 감사 이벤트가 기록된 시각. 모든 규제·분석·감사 로그 타임스탬프 기준이 됩니다."
        }
      },
      "required": [
        "id",
        "user_id",
        "action_type",
        "evidence_hash",
        "timestamp"
      ],
      "description": "Personalization Audit 오브젝트.\n\n즐겨찾기, 추천, 북마크, 개인화 이벤트 등 사용자-추천/개인화 주요 이벤트의 증적/감사/분석용 불변 레코드입니다. 주요 규제 감시/증적·분석·설명가능성(Explainable AI) 요구를 충족합니다."
    },
    "IShoppingPersonalizationAudit.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "감사 대상 사용자 UUID."
        },
        "favorite_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Favorite(즐겨찾기) 연관 이벤트면 ID 입력(옵션)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Favorite(즐겨찾기) 연관 이벤트면 ID 입력(옵션)."
        },
        "bookmark_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Bookmark 이벤트 연관 시 ID(옵션)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Bookmark 이벤트 연관 시 ID(옵션)."
        },
        "recommendation_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Recommendation 연관 시 ID(옵션)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Recommendation 연관 시 ID(옵션)."
        },
        "personalization_event_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "PersonalizationEvent 연관 시 ID(옵션)."
            },
            {
              "type": "null"
            }
          ],
          "description": "PersonalizationEvent 연관 시 ID(옵션)."
        },
        "action_type": {
          "type": "string",
          "description": "감사 이벤트 종류 (e.g. ADD_FAVORITE, SERVE_RECOMMENDATION 등)."
        },
        "evidence_hash": {
          "type": "string",
          "description": "이벤트 증적 해시."
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "이벤트 실제 발생 시각(UTC ISO8601)."
        }
      },
      "required": [
        "user_id",
        "action_type",
        "evidence_hash",
        "timestamp"
      ],
      "description": "Personalization 감사 이벤트(이력) 생성 요청 스키마.\n\n이벤트가 즐겨찾기, 북마크, 추천, 개인화 이벤트와 매핑될 때 각 ID를 추가 정보로 기입합니다. 증적 해시 및 실 타임스탬프 기록 필요. 규제 감사와 AI 연동 증빙, CDC 내역 전송에 활용됩니다."
    },
    "IShoppingPersonalizationAudit.IUpdate": {
      "type": "object",
      "properties": {
        "action_type": {
          "oneOf": [
            {
              "type": "string",
              "description": "감사 액션 유형을 보완/수정시 사용합니다."
            },
            {
              "type": "null"
            }
          ],
          "description": "감사 액션 유형을 보완/수정시 사용합니다."
        },
        "evidence_hash": {
          "oneOf": [
            {
              "type": "string",
              "description": "업데이트된 증적 해시 필드(옵션)."
            },
            {
              "type": "null"
            }
          ],
          "description": "업데이트된 증적 해시 필드(옵션)."
        },
        "timestamp": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "업데이트된 타임스탬프(UTC, 옵션)."
            },
            {
              "type": "null"
            }
          ],
          "description": "업데이트된 타임스탬프(UTC, 옵션)."
        }
      },
      "required": [],
      "description": "Personalization 감사 이력 수정 요청 오브젝트.\n\n이슈 발생 시, 증적 해시/설명/타입 등 일부 필드의 보완용 또는 GDPR/증거 보완 보고를 위한 업데이트 바디로 사용. 실 데이터 링크 필드는 불변(immutable)입니다."
    },
    "IShoppingAiModel.IRequest": {
      "type": "object",
      "properties": {
        "name": {
          "oneOf": [
            {
              "type": "string",
              "description": "AI 모델 이름(부분 일치/정확 일치 검색)."
            },
            {
              "type": "null"
            }
          ],
          "description": "AI 모델 이름(부분 일치/정확 일치 검색)."
        },
        "model_type": {
          "oneOf": [
            {
              "type": "string",
              "description": "AI 모델 유형. (예: 'recommendation', 'dynamic_pricing', 'sentiment_analysis' 등)"
            },
            {
              "type": "null"
            }
          ],
          "description": "AI 모델 유형. (예: 'recommendation', 'dynamic_pricing', 'sentiment_analysis' 등)"
        },
        "organization_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "이 모델이 속한 조직(Org) 참조 UUID. 조직/파트너/멀티테넌시 환경에서 사용."
            },
            {
              "type": "null"
            }
          ],
          "description": "이 모델이 속한 조직(Org) 참조 UUID. 조직/파트너/멀티테넌시 환경에서 사용."
        },
        "owner_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "소유 사용자(ML엔지니어/관리자 등) UUID. 옵션."
            },
            {
              "type": "null"
            }
          ],
          "description": "소유 사용자(ML엔지니어/관리자 등) UUID. 옵션."
        },
        "created_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "등록일 기준 검색(이후 시점/기간 필터)"
            },
            {
              "type": "null"
            }
          ],
          "description": "등록일 기준 검색(이후 시점/기간 필터)"
        },
        "created_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "등록일 기준 검색(이전 시점/기간 필터)"
            },
            {
              "type": "null"
            }
          ],
          "description": "등록일 기준 검색(이전 시점/기간 필터)"
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "minimum": 1,
          "description": "페이지 번호 (기본 1)"
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "minimum": 1,
          "maximum": 100,
          "description": "리턴할 한 페이지당 레코드 수 (기본 20, 최대 100)"
        }
      },
      "description": "AI 모델 리스트/검색(페이징) API 요청 파라미터.\n\n이름, 유형, 조직, 소유자, 생성일 등 주요 비즈니스/엔지니어링 관리 포인트별로 검색 필터 활용. 페이징 필수 지원.",
      "required": []
    },
    "IPageIShoppingAiModel.ISummary": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "페이지 정보."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingAiModel"
          },
          "description": "요청 조건에 따른 AI 모델 요약 오브젝트 배열."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "AI 모델 목록의 페이징 컨테이너.\n\n관리/검색 결과의 신뢰성·대규모 목록/분석/감사 효율화를 위해 표준화된 페이징 및 요약 오브젝트 배열로 결과를 제공합니다."
    },
    "IShoppingAiModel": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "AI 모델 레코드의 고유 식별자(UUID)."
        },
        "organization_id": {
          "type": "string",
          "format": "uuid",
          "description": "소유 조직(기업, 파트너 등) UUID."
        },
        "owner_id": {
          "type": "string",
          "format": "uuid",
          "description": "모델 관리자(사용자)의 UUID."
        },
        "name": {
          "type": "string",
          "description": "AI 모델 이름. 조직/인스턴스 내 유일성 유지."
        },
        "model_type": {
          "type": "string",
          "description": "AI 모델 유형. 예: recommendation, dynamic_pricing, sentiment_analysis 등."
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "인간 친화적 설명 혹은 모델 목적 등. 옵션 필드."
            },
            {
              "type": "null"
            }
          ],
          "description": "인간 친화적 설명 혹은 모델 목적 등. 옵션 필드."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "AI 모델 메타데이터 최초 등록 시각(UTC ISO8601)."
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "AI 모델 메타데이터 최종 업데이트 시각(UTC ISO8601)."
        }
      },
      "required": [
        "id",
        "organization_id",
        "owner_id",
        "name",
        "model_type",
        "created_at",
        "updated_at"
      ],
      "description": "AI 모델 관리/거버넌스 엔터티.\n\n운영상 관리와 컴플라이언스 감사, 모델 이력 추적의 기준이 되는 AI/ML 모델 레코드입니다. 비즈니스/회사/조직 단위의 구분, 생성자/엔지니어, 유형, 설명, 주요 등록/수정 타임스탬프를 모두 포함하여, 지속적 모델 진화, 증적, 규제 감사 추적을 지원합니다."
    },
    "IShoppingAiModel.ICreate": {
      "type": "object",
      "properties": {
        "organization_id": {
          "type": "string",
          "format": "uuid",
          "description": "ID of the organization owning this AI model.\n\nRequired for multi-tenant model tracking.\nSee: ai_models.organization_id in Prisma schema."
        },
        "owner_id": {
          "type": "string",
          "format": "uuid",
          "description": "User ID of the owner (creator/lead) of this AI model.\n\nEnables audit, responsibility, and traceability of model accountability.\nSee: ai_models.owner_id."
        },
        "name": {
          "type": "string",
          "description": "Human-readable unique name for the AI model.\n\nUsed for display, business logic, and search.\nSee: ai_models.name."
        },
        "model_type": {
          "type": "string",
          "description": "Business-defined type or taxonomy for this AI model (e.g., \"recommendation\", \"pricing\").\n\nSee: ai_models.model_type."
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional model description for business/mechanical context.\n\nSee: ai_models.description."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional model description for business/mechanical context.\n\nSee: ai_models.description."
        }
      },
      "required": [
        "organization_id",
        "owner_id",
        "name",
        "model_type"
      ],
      "description": "Request body for creating a new AI model in the registry.\n\nMaps to the ai_models table in AdvancedAI namespace.\nRequires full business description, ownership, and model categorization to support audit, explainability, and governance flows.\nFields must be unique and validated in context, compliant with 3NF separation in the Prisma table."
    },
    "IShoppingAiModel.IUpdate": {
      "type": "object",
      "properties": {
        "organization_id": {
          "type": "string",
          "format": "uuid",
          "description": "New owning organization, if changed.\nSee: ai_models.organization_id."
        },
        "owner_id": {
          "type": "string",
          "format": "uuid",
          "description": "Change of model managerial/tech lead.\nSee: ai_models.owner_id."
        },
        "name": {
          "type": "string",
          "description": "Updated model name.\nSee: ai_models.name."
        },
        "model_type": {
          "type": "string",
          "description": "Update for category/taxonomy of model.\nSee: ai_models.model_type."
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Update for human-readable description.\nSee: ai_models.description."
            },
            {
              "type": "null"
            }
          ],
          "description": "Update for human-readable description.\nSee: ai_models.description."
        }
      },
      "description": "Payload for updating mutable fields of an AI model registry entry.\n\nOnly fields requiring revision for business, ownership, or audit can be altered. 3NF and audit records are preserved.",
      "required": []
    },
    "IShoppingAiModelVersion.IRequest": {
      "type": "object",
      "properties": {
        "ai_model_id": {
          "type": "string",
          "format": "uuid",
          "description": "Target AI model ID for version filtering.\n\nRequired to scope the list to a model lineage. See: ai_model_versions.ai_model_id."
        },
        "version": {
          "type": "string",
          "description": "Filter by version string (e.g., v1.2).\n\nRegex or prefix filtering for versions, optional."
        },
        "framework": {
          "type": "string",
          "description": "Filter by ML framework (\"TensorFlow\", \"PyTorch\"). Optional."
        },
        "created_after": {
          "type": "string",
          "format": "date-time",
          "description": "Return model versions created after this timestamp. Optional."
        },
        "created_before": {
          "type": "string",
          "format": "date-time",
          "description": "Return model versions created before this timestamp. Optional."
        }
      },
      "description": "Request body for listing/searching AI model versions.\n\nSupports filtering and pagination for advanced CI/CD/AI governance. Includes model ID, version syntax, and optional time frame.\n3NF-compliant; closely tracks the ai_model_versions Prisma table structure.",
      "required": []
    },
    "IPageIShoppingAiModelVersion.ISummary": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingAiModelVersion.ISummary"
          },
          "description": "List of AI model version summary records in this page."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Container for paginated AI model version summaries.\n\nConforms to standard IPage<T> convention.\nThe data array holds summary objects, used in list responses for advanced AI model governance and CI/CD revision history."
    },
    "IShoppingAiModelVersion": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier for this AI model version (PK).\n\nEnforces model artifact governance, evidence, and versioning. See: ai_model_versions.id."
        },
        "ai_model_id": {
          "type": "string",
          "format": "uuid",
          "description": "FK to parent AI model in the registry.\n\nTraceability for lineage and audit. See: ai_model_versions.ai_model_id."
        },
        "version": {
          "type": "string",
          "description": "Version string for this artifact (e.g., v1.2.1).\n\nBusiness and CI/CD governance. See: ai_model_versions.version."
        },
        "version_hash": {
          "type": "string",
          "description": "Immutable hash of the actual model artifact.\n\nUsed for compliance, audit, and rollback protection. See: ai_model_versions.version_hash."
        },
        "artifact_url": {
          "type": "string",
          "description": "URI/location of model binary or artifact.\n\n3NF: reference only, never stored blob. See: ai_model_versions.artifact_url."
        },
        "framework": {
          "type": "string",
          "description": "Machine learning framework/platform used.\n\nBusiness metadata, traceability. See: ai_model_versions.framework."
        },
        "metadata": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional version-specific metadata (JSON or string).\n\nAudit/enrichment. See: ai_model_versions.metadata."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional version-specific metadata (JSON or string).\n\nAudit/enrichment. See: ai_model_versions.metadata."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "ISO timestamp this model version was registered in the registry.\n\nAudit and evidence requirement. See: ai_model_versions.created_at."
        },
        "deployed_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "When this artifact was first deployed to a running environment. Nullable.\n\nSee: ai_model_versions.deployed_at."
            },
            {
              "type": "null"
            }
          ],
          "description": "When this artifact was first deployed to a running environment. Nullable.\n\nSee: ai_model_versions.deployed_at."
        }
      },
      "required": [
        "id",
        "ai_model_id",
        "version",
        "version_hash",
        "artifact_url",
        "framework",
        "created_at"
      ],
      "description": "Complete AI model version entry as defined by the ai_model_versions table.\n\nContains evidence fields, provenance, and compliance-relevant info. Used for introspection, deployment, and audit purposes."
    },
    "IShoppingAiModelVersion.ICreate": {
      "type": "object",
      "properties": {
        "ai_model_id": {
          "type": "string",
          "format": "uuid",
          "description": "Target AI model for this new version.\n\nRequired for linking version to its parent model. See: ai_model_versions.ai_model_id."
        },
        "version": {
          "type": "string",
          "description": "Version string for this artifact (\"v2.0\").\n\nShould be unique within ai_model_id. Business and CI/CD governance. See: ai_model_versions.version."
        },
        "version_hash": {
          "type": "string",
          "description": "Hash of this artifact for compliance/evidence-preservation.\n\nRequired, 3NF. See: ai_model_versions.version_hash."
        },
        "artifact_url": {
          "type": "string",
          "description": "URI or storage reference for deployed/trained model artifact.\n\nRequired. Only reference—not contents. See: ai_model_versions.artifact_url."
        },
        "framework": {
          "type": "string",
          "description": "ML framework/platform for this version.\n\nExplicit for audit/evidence. See: ai_model_versions.framework."
        },
        "metadata": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional structured metadata (JSON) for audit, explainability, or business context.\n\nSee: ai_model_versions.metadata."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional structured metadata (JSON) for audit, explainability, or business context.\n\nSee: ai_model_versions.metadata."
        }
      },
      "required": [
        "ai_model_id",
        "version",
        "version_hash",
        "artifact_url",
        "framework"
      ],
      "description": "Body schema for registering a new AI model version in the system.\n\nExtends evidence flows and audit for compliance/ML governance. Fully 3NF; closely tracks ai_model_versions table."
    },
    "IShoppingAiModelVersion.IUpdate": {
      "type": "object",
      "properties": {
        "framework": {
          "type": "string",
          "description": "Update for ML framework/platform."
        },
        "metadata": {
          "oneOf": [
            {
              "type": "string",
              "description": "Annotation or update for version's structured metadata JSON."
            },
            {
              "type": "null"
            }
          ],
          "description": "Annotation or update for version's structured metadata JSON."
        },
        "deployed_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Optional update for deployment timestamp."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional update for deployment timestamp."
        }
      },
      "description": "Payload for updating attributes of an AI model version record (ai_model_versions).\n\nOnly metadata and deployment status should be mutable. All updates audited for compliance.",
      "required": []
    },
    "IShoppingAiModelVersion.ISummary": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier of model version."
        },
        "version": {
          "type": "string",
          "description": "Version string (e.g., v1.1.2)."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp for registration in registry."
        },
        "deployed_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Deployment timestamp for initial production use."
            },
            {
              "type": "null"
            }
          ],
          "description": "Deployment timestamp for initial production use."
        },
        "framework": {
          "type": "string",
          "description": "ML framework used (human-readable)."
        }
      },
      "required": [
        "id",
        "version",
        "created_at",
        "framework"
      ],
      "description": "Summary AI model version info for list/paging use.\n\nContains essential fields only—see also IShoppingAiModelVersion for full details."
    },
    "IShoppingAiTrainingData.IRequest": {
      "type": "object",
      "properties": {
        "ai_model_id": {
          "type": "string",
          "format": "uuid",
          "description": "FK: Restrict/search by associated AI model, if supplied."
        },
        "name": {
          "type": "string",
          "description": "Partial or regex name match for training datasets."
        },
        "version": {
          "type": "string",
          "description": "Dataset version string to search."
        },
        "created_after": {
          "type": "string",
          "format": "date-time",
          "description": "Filter for datasets created after this timestamp."
        },
        "created_before": {
          "type": "string",
          "format": "date-time",
          "description": "Filter for datasets created before this timestamp."
        }
      },
      "description": "Request body for listing/searching AI/ML training datasets in registry.\n\nSupports filtering by model, name, version, and created_at range. 3NF-compliant with Prisma schema structure.",
      "required": []
    },
    "IPageIShoppingAiTrainingData.ISummary": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingAiTrainingData.ISummary"
          },
          "description": "List of AI training dataset summaries in this page."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated result structure for AI training dataset summary list.\n\nFollows standard IPage<T> contract for evidence-based list operations."
    },
    "IShoppingAiTrainingData": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique PK identifier for the training dataset.\n\nNeeded for all registry, compliance, and traceability flows."
        },
        "ai_model_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional foreign key to associated AI model, if any.\n\nContext for lineage/provenance. 3NF. See: ai_training_data.ai_model_id."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional foreign key to associated AI model, if any.\n\nContext for lineage/provenance. 3NF. See: ai_training_data.ai_model_id."
        },
        "name": {
          "type": "string",
          "description": "Human-friendly/unique (w/version+uri) name for the dataset."
        },
        "version": {
          "type": "string",
          "description": "Logical version info for dataset (e.g., v1.3).\n\nAudit, reproducibility, training trace. See: ai_training_data.version."
        },
        "source_uri": {
          "type": "string",
          "description": "Storage URI/reference for dataset blob/storage.\n\n3NF URI only—never direct data. See: ai_training_data.source_uri."
        },
        "schema_hash": {
          "type": "string",
          "description": "Hash/digest of dataset schema for integrity, evidence, and explainability.\n\nUsed in audit, provenance, ML pipeline consistency. See: ai_training_data.schema_hash."
        },
        "record_count": {
          "oneOf": [
            {
              "type": "integer",
              "description": "Optional report of number of records/rows in dataset.\n\nFor evidence and training scale trace. See: ai_training_data.record_count."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional report of number of records/rows in dataset.\n\nFor evidence and training scale trace. See: ai_training_data.record_count."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Immutable creation timestamp for dataset registry.\n\nAudit and time lineage. See: ai_training_data.created_at."
        }
      },
      "required": [
        "id",
        "name",
        "version",
        "source_uri",
        "schema_hash",
        "created_at"
      ],
      "description": "Full registry record for an AI/ML training dataset.\n\nCarries all evidence, traceability, and business audit data for regulated ML operations."
    },
    "IShoppingAiTrainingData.ICreate": {
      "type": "object",
      "properties": {
        "ai_model_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optionally link this dataset to a specific AI model (if applicable)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optionally link this dataset to a specific AI model (if applicable)."
        },
        "name": {
          "type": "string",
          "description": "Human-friendly, unique name for the dataset, within (version + uri) context."
        },
        "version": {
          "type": "string",
          "description": "Required dataset version."
        },
        "source_uri": {
          "type": "string",
          "description": "Required URI/set reference for external dataset location."
        },
        "schema_hash": {
          "type": "string",
          "description": "Required hash of dataset's schema for evidence and audit track."
        },
        "record_count": {
          "oneOf": [
            {
              "type": "integer",
              "description": "Optional total records in the dataset."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional total records in the dataset."
        }
      },
      "required": [
        "name",
        "version",
        "source_uri",
        "schema_hash"
      ],
      "description": "Request body for creating/ingesting a new AI/ML training dataset in audit registry.\n\nBehaves as onboarding for provenance, evidence, and compliance workflows."
    },
    "IShoppingAiTrainingData.IUpdate": {
      "type": "object",
      "properties": {
        "ai_model_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optionally update associated model for this dataset."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optionally update associated model for this dataset."
        },
        "name": {
          "type": "string",
          "description": "Updated dataset name, if applicable."
        },
        "version": {
          "type": "string",
          "description": "Revised dataset logical version."
        },
        "source_uri": {
          "type": "string",
          "description": "Revised URI/location for dataset."
        },
        "schema_hash": {
          "type": "string",
          "description": "Updated schema hash (if dataset revised or corrected)."
        },
        "record_count": {
          "oneOf": [
            {
              "type": "integer",
              "description": "Change record count (for correction purposes)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Change record count (for correction purposes)."
        }
      },
      "description": "Payload for updating an AI/ML training dataset registry entry.\n\nPermits changes to mutable, audit-safe fields. All changes logged in evidence chain for compliance.",
      "required": []
    },
    "IShoppingAiTrainingData.ISummary": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier for the training dataset."
        },
        "name": {
          "type": "string",
          "description": "Dataset name."
        },
        "version": {
          "type": "string",
          "description": "Version string."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of ingestion or registration."
        }
      },
      "required": [
        "id",
        "name",
        "version",
        "created_at"
      ],
      "description": "Summary info for AI/ML training dataset.\n\nUsed in paginated result envelopes and table listings."
    },
    "IShoppingAiFeatureStore.IRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Feature set name (exact match or pattern) for querying the AI feature store registry.\n\nAllows administrators or data scientists to specify the feature set name to filter feature store results by, supporting advanced search and evidence tracking. Referenced from the ai_feature_store table (see Prisma schema)."
        },
        "model_version_id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier (UUID) of the associated AI model version.\n\nFilters for feature sets associated with specific model versions, optimizing evidence tracing and model explainability (advanced AI/data operations module)."
        },
        "ai_training_data_id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier (UUID) of the originating AI training data.\n\nThis property supports evidence provenance and data lineage requirements for analytics, compliance, and AI retraining loops. See Advanced AI/Data Operations requirements."
        },
        "created_at_from": {
          "type": "string",
          "format": "date-time",
          "description": "Filters results for feature sets created on or after this timestamp.\n\nUsed for evidence/context interval queries in compliance and analytics operations."
        },
        "created_at_to": {
          "type": "string",
          "format": "date-time",
          "description": "Filters results for feature sets created on or before this timestamp.\n\nCompletes time interval filter for evidentiary and traceability use as specified in the Advanced AI requirements."
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "description": "Page number for pagination, default 1.\n\nSupports UI/scaling requirements for large feature store registries (IPage standard from requirements)."
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "description": "Maximum records per page (default 100)."
        },
        "sort_by": {
          "oneOf": [
            {
              "const": "name",
              "description": "Optional sorting field, e.g. 'name' or 'created_at'.\n\nSupports compliance/analytics sorting of registry entries."
            },
            {
              "const": "created_at",
              "description": "Optional sorting field, e.g. 'name' or 'created_at'.\n\nSupports compliance/analytics sorting of registry entries."
            }
          ],
          "description": "Optional sorting field, e.g. 'name' or 'created_at'.\n\nSupports compliance/analytics sorting of registry entries."
        },
        "sort_order": {
          "oneOf": [
            {
              "const": "asc",
              "description": "Sort order direction: 'asc' for ascending, 'desc' for descending."
            },
            {
              "const": "desc",
              "description": "Sort order direction: 'asc' for ascending, 'desc' for descending."
            }
          ],
          "description": "Sort order direction: 'asc' for ascending, 'desc' for descending."
        }
      },
      "description": "Request type for listing/searching AI feature store records.\n\nEach property corresponds to columns or query needs stated in the ai_feature_store Prisma table and requirements analysis (section 8). Integrates evidence-preserving search filters, audit-ready time intervals, and compliance-focused sorting for model governance, extending to advanced analytics and future regulatory requirements without inline/anonymous object types.",
      "required": []
    },
    "IPageIShoppingAiFeatureStore": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Pagination metadata for result pages.\n\nSupports requirements for evidence-traceable, audited registry navigation. Aligns with IPage standard interface."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingAiFeatureStore"
          },
          "description": "Paginated list of feature store records.\n\nEach record is a fully-audited, evidence-grade registry entry meeting advanced AI/data operations module and compliance requirements."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated result format for AI feature store registry listing.\n\nEach entry in 'data' is a full registry record of a feature set used in model training/inference. 'pagination' enables evidence-ready navigation across large data volumes. Required by advanced analytics, compliance, and explainable AI modules (see section 8, continuous feedback/data tracking)."
    },
    "IShoppingAiFeatureStore": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier (UUID) for the AI feature store record.\n\nDirectly maps to the ai_feature_store.id column in the Prisma schema. Serves as the traceable, evidence-grade reference for explainability, audit, and compliance."
        },
        "ai_model_version_id": {
          "type": "string",
          "format": "uuid",
          "description": "Foreign key to AI Model Version (ai_model_versions.id).\n\nLinks this feature set to a unique, evidence-preserving model version for traceability and compliance. Enables model lineage and lifecycle tracking (see advanced AI/data operations section)."
        },
        "ai_training_data_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional foreign key to AI Training Data (ai_training_data.id).\n\nProvides evidence lineage to the training dataset origin, required for continuous learning and regulatory traceability. Null if not applicable."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional foreign key to AI Training Data (ai_training_data.id).\n\nProvides evidence lineage to the training dataset origin, required for continuous learning and regulatory traceability. Null if not applicable."
        },
        "name": {
          "type": "string",
          "description": "Human-friendly name for this feature set (e.g., 'user-product-embeddings-v2').\n\nEnforces atomicity and evidence clarity required for model explainability, regulatory export (refer advanced AI/data ops requirements)."
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional text description of the feature set.\n\nDocuments the origin, intended use, and compliance context for the feature set. Multi-paragraph support for explainability as required in section 8."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional text description of the feature set.\n\nDocuments the origin, intended use, and compliance context for the feature set. Multi-paragraph support for explainability as required in section 8."
        },
        "schema": {
          "type": "string",
          "description": "JSON schema definition (string) representing the features in this set.\n\nEnsures rigorous evidence tracking of all model features; supports automated validation and model audits. Serialized for cross-system compliance (see Prisma column: ai_feature_store.schema)."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when this feature set was registered.\n\nPreserves full audit chain and evidence history for compliance (section 8, evidence preservation)."
        }
      },
      "required": [
        "id",
        "ai_model_version_id",
        "name",
        "schema",
        "created_at"
      ],
      "description": "AI feature store registry entity.\n\nEvery field is atomic and normalized per the Prisma ai_feature_store table. Satisfies advanced AI/data operations requirements: model version traceability, provenance (training data linkage), evidence preservation, and multi-language description/audit context per regulatory best practices."
    },
    "IShoppingAiFeatureStore.ICreate": {
      "type": "object",
      "properties": {
        "ai_model_version_id": {
          "type": "string",
          "format": "uuid",
          "description": "Foreign key to the target AI model version (required).\n\nTraceable registry of feature provenance for compliance, explainability, and future retraining. Maps to ai_feature_store.ai_model_version_id in Prisma schema."
        },
        "ai_training_data_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional source data set reference (UUID of ai_training_data or null).\n\nSupports provenance and regulatory reporting. Null if feature set is not derived from a registered training dataset."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional source data set reference (UUID of ai_training_data or null).\n\nSupports provenance and regulatory reporting. Null if feature set is not derived from a registered training dataset."
        },
        "name": {
          "type": "string",
          "description": "Feature set display or registry name (required, unique per model version).\n\nSupports evidence-based tracing for analytics and compliance reviews (atomic, per requirements analysis)."
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional full-text description for evidence/explainability audits. Multi-paragraph field for use in compliance, model governance, and regulatory exports."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional full-text description for evidence/explainability audits. Multi-paragraph field for use in compliance, model governance, and regulatory exports."
        },
        "schema": {
          "type": "string",
          "description": "JSON schema string representing the features (required).\n\nAtomic property for machine- and human-readable evidence of feature composition."
        }
      },
      "required": [
        "ai_model_version_id",
        "name",
        "schema"
      ],
      "description": "Payload for creating a new AI feature store entity (ai_feature_store table).\n\nEach field reflects atomic/normalized column in Prisma and business/compliance requirements for evidence chain."
    },
    "IShoppingAiFeatureStore.IUpdate": {
      "type": "object",
      "properties": {
        "ai_model_version_id": {
          "type": "string",
          "format": "uuid",
          "description": "Updates the model version association for this feature set (must be an existing ai_model_versions.id).\n\nSupports strict evidence/audit tracking for AI model lineage."
        },
        "ai_training_data_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Updates optional provenance linkage to source training data (ai_training_data or null).\n\nRequired for provenance tracking, continuous learning, and evidence preservation."
            },
            {
              "type": "null"
            }
          ],
          "description": "Updates optional provenance linkage to source training data (ai_training_data or null).\n\nRequired for provenance tracking, continuous learning, and evidence preservation."
        },
        "name": {
          "type": "string",
          "description": "New name for this feature set.\n\nUpdating supports evidence-based change tracking and organizational clarity for model governance."
        },
        "description": {
          "oneOf": [
            {
              "type": "string",
              "description": "Updates the multi-paragraph audit/compliance description.\n\nCritical for explainability, regulatory reporting, and governance."
            },
            {
              "type": "null"
            }
          ],
          "description": "Updates the multi-paragraph audit/compliance description.\n\nCritical for explainability, regulatory reporting, and governance."
        },
        "schema": {
          "type": "string",
          "description": "Updated JSON schema for the feature set, representing current features.\n\nSupports change audit/compliance and model explainability."
        }
      },
      "description": "Payload for updating an AI feature store entity.\n\nReflects all atomic/normalized fields in ai_feature_store; all updates are fully audit-traceable for evidence and compliance as per requirements.",
      "required": []
    },
    "IShoppingAiDecisionLogs.IRequest": {
      "type": "object",
      "properties": {
        "model_version_id": {
          "type": "string",
          "format": "uuid",
          "description": "UUID of the AI model version associated with the decision log.\n\nRequired for model lineage tracking and regulatory traceability; cross-referenced from ai_decision_logs Prisma schema."
        },
        "target_user_id": {
          "type": "string",
          "format": "uuid",
          "description": "UUID of the user affected by the AI decision (optional).\n\nAllows search for user-specific decision logs; mapped from ai_decision_logs.target_user_id column (nullable)."
        },
        "target_entity": {
          "type": "string",
          "description": "Type/category of the entity affected by the AI decision (e.g., 'product', 'order', 'review').\n\nBusiness domain field for model governance, audit trails, and continuous explainability."
        },
        "target_entity_id": {
          "type": "string",
          "format": "uuid",
          "description": "UUID of the entity instance acted upon in the decision event.\n\nSupports direct evidence chain to the impacted record (atomic, non-derived per Prisma/requirements)."
        },
        "decision": {
          "type": "string",
          "description": "Decision output or action taken by the AI model (e.g., 'recommend', 'block', 'price=12.50').\n\nSupports regulatory evidence for explainability and continuous ML improvement."
        },
        "rationale": {
          "type": "string",
          "description": "Human/machine-readable rationale for the AI decision (if available).\n\nField for regulatory and compliance trace, supporting explainability and business context auditing."
        },
        "created_at_from": {
          "type": "string",
          "format": "date-time",
          "description": "Search filter: lower bound (inclusive) for log event timestamp."
        },
        "created_at_to": {
          "type": "string",
          "format": "date-time",
          "description": "Search filter: upper bound (inclusive) for log event timestamp."
        },
        "sort_by": {
          "oneOf": [
            {
              "const": "created_at",
              "description": "Sorting field, supports audit/analytics workflows."
            },
            {
              "const": "decision",
              "description": "Sorting field, supports audit/analytics workflows."
            },
            {
              "const": "target_entity",
              "description": "Sorting field, supports audit/analytics workflows."
            }
          ],
          "description": "Sorting field, supports audit/analytics workflows."
        },
        "sort_order": {
          "oneOf": [
            {
              "const": "asc",
              "description": "Sorting direction."
            },
            {
              "const": "desc",
              "description": "Sorting direction."
            }
          ],
          "description": "Sorting direction."
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "description": "Pagination: page number (default: 1)."
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "description": "Pagination: maximum records per page (default: 100)."
        }
      },
      "description": "Request schema for querying AI Decision Logs (ai_decision_logs).\n\nAll properties are mapped to evidence, search, or regulatory audit needs as defined in requirements and Prisma DB comments for advanced AI/data operations.",
      "required": []
    },
    "IPageIShoppingAiDecisionLogs": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Pagination information for the current result set.\n\nRequired for audit trail navigation and regulatory traceability (conforms to IPage standard)."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingAiDecisionLogs"
          },
          "description": "Paginated array of AI Decision Log records.\n\nEach record is a full evidence object meeting explainability and analytics requirements."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated result schema for AI Decision Log query.\n\nAll entries are evidence-grade, and this structure supports large scale AI audit/explainability needs in compliance with enterprise requirements."
    },
    "IShoppingAiDecisionLogs": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "UUID for this AI decision log record (PK).\n\nDirect mapping to ai_decision_logs.id, serves as evidence chain anchor for compliance and audit review."
        },
        "ai_model_version_id": {
          "type": "string",
          "format": "uuid",
          "description": "Model version (ai_model_versions.id) that produced this decision.\n\nCritical for audit-traceable model lineage and regulatory reporting."
        },
        "target_user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "UUID for the user affected by the decision.\n\nSupports evidence-driven personalization, auditability, and continuous learning feedback."
            },
            {
              "type": "null"
            }
          ],
          "description": "UUID for the user affected by the decision.\n\nSupports evidence-driven personalization, auditability, and continuous learning feedback."
        },
        "target_entity": {
          "type": "string",
          "description": "Domain entity type affected by this AI decision.\n\nSupports audit, cross-domain traceability, and explainability as described in advanced AI/data operations requirements."
        },
        "target_entity_id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique ID of the affected entity instance.\n\nCore to non-repudiation and traceability, atomic per Prisma DB normalization rules."
        },
        "decision": {
          "type": "string",
          "description": "Action or output created by the AI inference event.\n\nRequired for explainability, evidence, and operational compliance."
        },
        "input_snapshot": {
          "type": "string",
          "description": "Serialized (often JSON or base64) snapshot of input fed to the AI at inference time.\n\nEnsures evidence preservation for compliance, audit, and retraining."
        },
        "rationale": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional field describing the AI decision's rationale for explainability or audit."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional field describing the AI decision's rationale for explainability or audit."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the inference/decision event occurred.\n\nSupports regulatory and evidence integrity."
        }
      },
      "required": [
        "id",
        "ai_model_version_id",
        "target_entity",
        "target_entity_id",
        "decision",
        "input_snapshot",
        "created_at"
      ],
      "description": "Full AI Decision Log entity structure for advanced AI/data operations.\n\nReflects atomic evidence, model version trace, entity linkage, and all fields per the corresponding Prisma DB table and requirements for enterprise/AI-native compliance."
    },
    "IShoppingAiDecisionLogs.ICreate": {
      "type": "object",
      "properties": {
        "ai_model_version_id": {
          "type": "string",
          "format": "uuid",
          "description": "Model version used to generate the AI decision (required)."
        },
        "target_user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "User affected by this decision event; null for system/non-user scope."
            },
            {
              "type": "null"
            }
          ],
          "description": "User affected by this decision event; null for system/non-user scope."
        },
        "target_entity": {
          "type": "string",
          "description": "Domain entity affected by the AI decision (required)."
        },
        "target_entity_id": {
          "type": "string",
          "format": "uuid",
          "description": "UUID for the affected entity instance (required)."
        },
        "decision": {
          "type": "string",
          "description": "Decision/result returned by the AI inference (required)."
        },
        "input_snapshot": {
          "type": "string",
          "description": "Serialized snapshot of AI input at inference (required, evidence preservation)."
        },
        "rationale": {
          "oneOf": [
            {
              "type": "string",
              "description": "Human/machine description of the reason for the decision."
            },
            {
              "type": "null"
            }
          ],
          "description": "Human/machine description of the reason for the decision."
        }
      },
      "required": [
        "ai_model_version_id",
        "target_entity",
        "target_entity_id",
        "decision",
        "input_snapshot"
      ],
      "description": "Payload for recording a new AI Decision Log event.\n\nCaptures all evidence chain fields, fully audit-traceable and compliant with regulatory explainability mandates."
    },
    "IShoppingAiDecisionLogs.IUpdate": {
      "type": "object",
      "properties": {
        "rationale": {
          "type": "string",
          "description": "Updated rationale or explanation for the AI decision event."
        }
      },
      "description": "Update schema for AI Decision Log; allows rationale/description updates for continuous improvement, explainability, or regulatory demands.",
      "required": []
    },
    "IAdvancedAI.AiDecisionLogDeleteResult": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "ID of the deleted AI Decision Log entity.\n\nAnchors evidence of the deletion action for compliance and audit trace."
        },
        "deleted_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the deletion action was performed.\n\nProvides audit and legal/evidence reference for the traceability of deletion events."
        },
        "status": {
          "const": "deleted",
          "description": "Confirms the deletion state of the resource, for compliance/audit reporting."
        }
      },
      "required": [
        "id",
        "deleted_at",
        "status"
      ],
      "description": "Result object for AI Decision Log deletion operation.\n\nEnsures regulatory and compliance evidence is provided when a log entity is removed."
    },
    "IAdvancedAI.AiFeedbackQuery": {
      "type": "object",
      "properties": {
        "decision_log_id": {
          "type": "string",
          "format": "uuid",
          "description": "ID of the AI Decision Log receiving feedback.\n\nCritical for evidence preservation and continuous learning trace."
        },
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "User providing feedback or associated with the feedback event."
        },
        "feedback_type": {
          "type": "string",
          "description": "Type of feedback—e.g., 'accepted', 'dismissed', 'overridden', 'implicit-click'.\n\nAmple evidence field for audit, analytics, and regulatory mandates."
        },
        "feedback_value": {
          "type": "string",
          "description": "Value or content of the feedback—for example: 'positive', 'negative', 'rating=5'."
        },
        "created_at_from": {
          "type": "string",
          "format": "date-time",
          "description": "Lower bound for feedback creation timestamp filtering."
        },
        "created_at_to": {
          "type": "string",
          "format": "date-time",
          "description": "Upper bound for feedback creation timestamp filtering."
        },
        "sort_by": {
          "oneOf": [
            {
              "const": "created_at",
              "description": "Sorting field among supported fields for compliance/analytics review."
            },
            {
              "const": "feedback_type",
              "description": "Sorting field among supported fields for compliance/analytics review."
            }
          ],
          "description": "Sorting field among supported fields for compliance/analytics review."
        },
        "sort_order": {
          "oneOf": [
            {
              "const": "asc",
              "description": "Ascending/descending order for result sorting."
            },
            {
              "const": "desc",
              "description": "Ascending/descending order for result sorting."
            }
          ],
          "description": "Ascending/descending order for result sorting."
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "description": "Pagination: page number (default: 1)."
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "description": "Pagination: max records per page (default: 100)."
        }
      },
      "description": "Request structure for querying AI Feedback records in the advanced AI/ML analytics system.\n\nAll property mappings directly correspond to evidence/audit columns in the ai_feedback table, as well as compliance and continuous learning requirements.\n\nCompliance with regulatory, evidence preservation, and explainability/continuous improvement requirements is enforced by mapping every search filter or analytics requirement to a schema-level, named, versioned reference. No anonymous/inline objects used.",
      "required": []
    },
    "IPageIAdvancedAI.AiFeedback": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Page information, including current page, limit, total records and pages. Used to control paging and navigation of feedback entries. See IPage.IPagination for details."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IAdvancedAI.AiFeedback"
          },
          "description": "List of AI Feedback objects for the current page."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated container for AI feedback entities. Contains both paging info and the array of feedback records as returned for list/search endpoints.\n\nFollows standard pagination conventions (see IPage<T>). Used in analytics, compliance review, and bulk data export scenarios.\n\nReferences IAdvancedAI.AiFeedback for feedback record structure."
    },
    "IAdvancedAI.AiFeedback": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier for the AI feedback event.\n\nReferences ai_feedback.id."
        },
        "decision_log_id": {
          "type": "string",
          "format": "uuid",
          "description": "ID of the linked AI decision log for this feedback event.\n\nReferences ai_decision_logs.id."
        },
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional user ID associated with this feedback event (null if system/inferred).\n\nReferences users.id."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional user ID associated with this feedback event (null if system/inferred).\n\nReferences users.id."
        },
        "feedback_type": {
          "type": "string",
          "description": "Categorical label for the type of feedback (e.g., 'accepted', 'rejected', 'implicit-click').\n\nAligned with compliance and model retraining logic."
        },
        "feedback_value": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional payload for feedback value (e.g., rating, explicit feedback, or result meta).\n\nMapped to domain-specific AI learning workflows."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional payload for feedback value (e.g., rating, explicit feedback, or result meta).\n\nMapped to domain-specific AI learning workflows."
        },
        "metadata": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional metadata or context for feedback (JSON blob, device info, rationale etc.).\n\nEnhances explainability and evidence."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional metadata or context for feedback (JSON blob, device info, rationale etc.).\n\nEnhances explainability and evidence."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the feedback was recorded.\n\nReferences ai_feedback.created_at."
        }
      },
      "required": [
        "id",
        "decision_log_id",
        "feedback_type",
        "created_at"
      ],
      "description": "Represents a single user or system feedback event tied to an AI inference/log. Captures feedback type, value, actor, rationale, and links to the original decision for evidence, compliance, and ML learning loops.\n\nProperties align with column comments from ai_feedback and evidence requirements for compliance retraining."
    },
    "IAdvancedAI.AiFeedback.ICreate": {
      "type": "object",
      "properties": {
        "decision_log_id": {
          "type": "string",
          "format": "uuid",
          "description": "ID of the decision log to which this feedback applies. Must reference a valid ai_decision_logs.id."
        },
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional user making the feedback (may be null for system/implicit feedback events).\n\nReferences users.id."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional user making the feedback (may be null for system/implicit feedback events).\n\nReferences users.id."
        },
        "feedback_type": {
          "type": "string",
          "description": "Type/category of feedback event (required) -- e.g., 'accepted', 'overridden', 'implicit'."
        },
        "feedback_value": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional payload for feedback details or value (e.g., numerical rating, comment)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional payload for feedback details or value (e.g., numerical rating, comment)."
        },
        "metadata": {
          "oneOf": [
            {
              "type": "string",
              "description": "Optional JSON structure or string with device, UI context or rationale for feedback."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional JSON structure or string with device, UI context or rationale for feedback."
        }
      },
      "required": [
        "decision_log_id",
        "feedback_type"
      ],
      "description": "Request payload for creating a new AI feedback record linked to an AI decision log. All non-normalized references must be valid. Designed for both explicit user feedback and implicit system-generated interactions with AI predictions."
    },
    "IAdvancedAI.AiFeedback.IUpdate": {
      "type": "object",
      "properties": {
        "feedback_type": {
          "type": "string",
          "description": "Update the type of feedback if the classification or labeling is revised (e.g., human-in-the-loop correction)."
        },
        "feedback_value": {
          "oneOf": [
            {
              "type": "string",
              "description": "Update or annotate the explicit value for the feedback entry, for model retraining or evidence correction."
            },
            {
              "type": "null"
            }
          ],
          "description": "Update or annotate the explicit value for the feedback entry, for model retraining or evidence correction."
        },
        "metadata": {
          "oneOf": [
            {
              "type": "string",
              "description": "Changed context, metadata, or rationale associated with the feedback event (can be used for compliance note or annotation)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Changed context, metadata, or rationale associated with the feedback event (can be used for compliance note or annotation)."
        }
      },
      "description": "Payload for updating mutable fields of an AI feedback event. Only feedback_type, feedback_value, or metadata may be updated; ID and decision_log_id are immutable for compliance/evidence preservation.",
      "required": []
    },
    "IAdvancedAI.AiFeedbackDeleteResult": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "description": "Indicates if delete was successful."
        },
        "message": {
          "type": "string",
          "description": "Explanatory message/metadata for the deletion."
        }
      },
      "required": [
        "success"
      ],
      "description": "Standard response indicating outcome of delete operation on AI feedback record. Conforms to domain/result conventions for evidence APIs."
    },
    "ISecurityCompliance.SecurityEventQuery": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Filter: Only events for the specified user ID. References users.id."
        },
        "session_id": {
          "type": "string",
          "format": "uuid",
          "description": "Filter: Only events for the specified session. References sessions.id."
        },
        "api_client_id": {
          "type": "string",
          "format": "uuid",
          "description": "Filter: Only events for the specified API client. References api_clients.id."
        },
        "event_type": {
          "type": "string",
          "description": "Filter for event type (e.g., 'login_attempt', 'token_rotation', etc)."
        },
        "start_time": {
          "type": "string",
          "format": "date-time",
          "description": "(Optional) Lower bound (inclusive) filter for event timestamp."
        },
        "end_time": {
          "type": "string",
          "format": "date-time",
          "description": "(Optional) Upper bound (inclusive) filter for event timestamp."
        },
        "success": {
          "type": "boolean",
          "description": "Filter: Only events where outcome matches (true/false for success/failure)."
        },
        "page": {
          "type": "integer",
          "description": "Page number for paged query."
        },
        "limit": {
          "type": "integer",
          "description": "Results per page."
        },
        "sort": {
          "type": "string",
          "description": "Order results by specified column (e.g., 'created_at', 'event_type')."
        },
        "direction": {
          "oneOf": [
            {
              "const": "asc",
              "description": "Sort direction."
            },
            {
              "const": "desc",
              "description": "Sort direction."
            }
          ],
          "description": "Sort direction."
        }
      },
      "description": "Search/filter/query structure for retrieving security events from the audit/event subsystem (security_event table). All filters map to atomic columns as documented in Prisma schema.",
      "required": []
    },
    "IPageISecurityCompliance.SecurityEvent": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Paginated query details: current page, limit, total records, and page count."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/ISecurityCompliance.SecurityEvent"
          },
          "description": "Array of security event records for the current page."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated container for search results from the security_event audit log subsystem. Used for report, compliance, and dashboard APIs.\n\nFollows the IPage<T> structure standard."
    },
    "ISecurityCompliance.SecurityEvent": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Event primary key."
        },
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "User actor for the event; nullable for system/session events."
            },
            {
              "type": "null"
            }
          ],
          "description": "User actor for the event; nullable for system/session events."
        },
        "session_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Session context, if event is associated with a specific session."
            },
            {
              "type": "null"
            }
          ],
          "description": "Session context, if event is associated with a specific session."
        },
        "api_client_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "API client responsible for the event; can be null if not API-driven."
            },
            {
              "type": "null"
            }
          ],
          "description": "API client responsible for the event; can be null if not API-driven."
        },
        "event_type": {
          "type": "string",
          "description": "The business/technical category of the event (e.g., 'login_attempt', 'token_rotation')."
        },
        "event_details": {
          "type": "string",
          "description": "Human/machine context of the event, often a structured JSON string for compliance or incident traceback. Describes all relevant event state."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of event creation."
        }
      },
      "required": [
        "id",
        "event_type",
        "event_details",
        "created_at"
      ],
      "description": "Represents a single security-relevant event generated by the shopping system, for compliance, audit, or monitoring. All fields mapped to column comments from the Prisma security_event table."
    },
    "ISecurityCompliance.SecurityEvent.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "User actor, nullable for system/security events."
            },
            {
              "type": "null"
            }
          ],
          "description": "User actor, nullable for system/security events."
        },
        "session_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Associated session, may be absent for out-of-session events."
            },
            {
              "type": "null"
            }
          ],
          "description": "Associated session, may be absent for out-of-session events."
        },
        "api_client_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "API client responsible for the event, if any."
            },
            {
              "type": "null"
            }
          ],
          "description": "API client responsible for the event, if any."
        },
        "event_type": {
          "type": "string",
          "description": "Event category (required)."
        },
        "event_details": {
          "type": "string",
          "description": "Machine/human context for the event (required)."
        }
      },
      "required": [
        "event_type",
        "event_details"
      ],
      "description": "Request body for creating a new security_event record, mapping directly to the atomic columns of the security_event table."
    },
    "ISecurityCompliance.SecurityEvent.IUpdate": {
      "type": "object",
      "properties": {
        "event_type": {
          "type": "string",
          "description": "Corrective or clarifying update on the type/category for evidence trace or compliance."
        },
        "event_details": {
          "type": "string",
          "description": "Updated structured event details for forensics/remediation."
        }
      },
      "description": "Update operation for a security_event (usually rare—only permitted fields for compliance/incident correction).",
      "required": []
    },
    "ISecurityCompliance.SecurityEventDeleteResult": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "description": "True/false indicating result of deletion attempt."
        },
        "message": {
          "type": "string",
          "description": "Optional result explanation or error/diagnostic if deletion was not strictly successful."
        }
      },
      "required": [
        "success"
      ],
      "description": "Standardized result for a security_event record deletion action, per compliance result pattern."
    },
    "ISecurityCompliance.PermissionQuery": {
      "type": "object",
      "properties": {
        "code": {
          "type": "string",
          "description": "Exact or partial code match for the permission. Column: permission.code"
        },
        "description": {
          "type": "string",
          "description": "Partial/substring match for permission description."
        },
        "policy_id": {
          "type": "string",
          "format": "uuid",
          "description": "Filter for permissions assigned to a specific policy (references policy.id, nullable)."
        },
        "created_after": {
          "type": "string",
          "format": "date-time",
          "description": "Return only permissions created after this time."
        },
        "created_before": {
          "type": "string",
          "format": "date-time",
          "description": "Return only permissions created before this time."
        },
        "page": {
          "type": "integer",
          "description": "Pagination: requested page."
        },
        "limit": {
          "type": "integer",
          "description": "Pagination: items per page (max allowed by implementation)."
        },
        "sort": {
          "type": "string",
          "description": "Order results by specified column."
        },
        "direction": {
          "oneOf": [
            {
              "const": "asc",
              "description": "Order direction ('asc' or 'desc')."
            },
            {
              "const": "desc",
              "description": "Order direction ('asc' or 'desc')."
            }
          ],
          "description": "Order direction ('asc' or 'desc')."
        }
      },
      "description": "Request/query payload for listing, searching, or filtering permissions registry entries in the security permission module.",
      "required": []
    },
    "IPageISecurityCompliance.Permission": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Pagination 정보를 담은 메타데이터입니다.\n\n전체 결과에 대한 페이지/레코드 카운트, 현재 페이지 번호, 페이지 당 개수 제한 등의 정보를 제공합니다. \n\n이 필드는 각 페이지 결과와 함께 반환되어, 클라이언트가 효율적으로 전체 목록을 순환하거나 페이지 이동을 구현할 수 있도록 지원합니다."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/shoppingPermission"
          },
          "description": "요청한 조건을 만족하는 퍼미션(권한) 엔티티 목록입니다.\n\n권한 정보에는 코드, 설명, 정책 연결 정보 등이 포함되어 있습니다. 배열 각 항목은 shoppingPermission 타입의 상세 권한 레코드를 나타냅니다."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "시스템에 등록된 권한 레코드의 페이징 가능 결과. \n\n각 오브젝트는 하나의 페이지 단위로 반환되며, 페이지 네비게이션에 필요한 메타와 권한 목록이 함께 제공됩니다.\n\n권한(entity: permission)은 플랫폼의 세분화된 액세스 제어, 정책, 감사 등을 구현할 때 사용되는 가장 작은 단위입니다."
    },
    "shoppingPermission": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "고유 식별자(ID). \n\n각 permisssion 엔티티를 전역적으로 구분하는 UUID 값입니다. \n\nPrisma: permission.id"
        },
        "policy_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "이 권한이 속한 정책의 고유 ID. \n\n해당 필드는 policy 엔티티와의 외래키(FK) 관계를 가집니다. (nullable)\n\nPrisma: permission.policy_id"
            },
            {
              "type": "null"
            }
          ],
          "description": "이 권한이 속한 정책의 고유 ID. \n\n해당 필드는 policy 엔티티와의 외래키(FK) 관계를 가집니다. (nullable)\n\nPrisma: permission.policy_id"
        },
        "code": {
          "type": "string",
          "description": "권한 코드(예: 'user.read', 'order.update'). \n\n시스템 전체에서 유일해야 하며, 모든 RBAC 정책과 액세스 체크에서 참조하는 핵심 식별자입니다.\n\nPrisma: permission.code"
        },
        "description": {
          "type": "string",
          "description": "권한 설명. 이 권한이 무엇을 제한/허용하는지에 대한 자연어 설명.\n\nAdmin UI 및 감사, 정책관리에서 사용.\n\nPrisma: permission.description"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "권한 레코드의 생성 일시.\n\n이 필드는 모든 감사/증적 요구사항 및 정책 관리 플로우를 위해 유지됩니다.\n\nPrisma: permission.created_at"
        },
        "policy": {
          "$ref": "#/components/schemas/shoppingPolicy",
          "description": "이 권한이 연결된 정책 엔티티 전체 오브젝트. (필요시 확장)\n\n권한→정책 구조에 대한 상세 데이터를 제공, 응답 상황에 따라 포함/비포함될 수 있습니다."
        }
      },
      "required": [
        "id",
        "code",
        "description",
        "created_at"
      ],
      "description": "세분화된 시스템 액세스 제어 및 역할 관리의 단위 권한 엔티티.\n\n각 permission은 특정 기능 접근, 데이터 조작, UI 동작 허용 여부를 정의합니다.\n\nPrisma permission 테이블 구조 및 설명을 모두 기반으로 합니다."
    },
    "shoppingPermission.ICreate": {
      "type": "object",
      "properties": {
        "code": {
          "type": "string",
          "description": "생성할 권한의 고유 코드. 시스템 내 중복 안됨 (예시: 'user.update', 'order.cancel').\n\nPrisma: permission.code"
        },
        "description": {
          "type": "string",
          "description": "권한이 무엇을 의미하는지의 설명. \n\n운영, 정책 관리, UI 표시 등에 활용.\n\nPrisma: permission.description"
        },
        "policy_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "권한이 소속될 정책 식별자(FK). \n\n정책에 연결할 경우 제공, 아니면 null 허용.\n\nPrisma: permission.policy_id"
            },
            {
              "type": "null"
            }
          ],
          "description": "권한이 소속될 정책 식별자(FK). \n\n정책에 연결할 경우 제공, 아니면 null 허용.\n\nPrisma: permission.policy_id"
        }
      },
      "required": [
        "code",
        "description"
      ],
      "description": "신규 권한(permission) 엔티티를 생성하기 위해 필요한 입력 DTO.\n\n반드시 고유한 code와 설명, (옵션)연결할 policy_id 제공.\n\nPrisma 컬럼 정의와 정책구조를 기반으로 설계됨."
    },
    "shoppingPermission.IUpdate": {
      "type": "object",
      "properties": {
        "code": {
          "type": "string",
          "description": "수정할 권한 코드. 기존 값에서 변경 시에도 시스템 전체 유일 요구.\n\nPrisma: permission.code"
        },
        "description": {
          "type": "string",
          "description": "권한 설명. 역할 및 비즈니스 의미에 맞도록 자유롭게 수정.\n\nPrisma: permission.description"
        },
        "policy_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "적용·변경할 정책의 식별자 (FK 참조). null로 두면 연결 해제.\n\nPrisma: permission.policy_id"
            },
            {
              "type": "null"
            }
          ],
          "description": "적용·변경할 정책의 식별자 (FK 참조). null로 두면 연결 해제.\n\nPrisma: permission.policy_id"
        }
      },
      "description": "기존 권한 엔티티(permission) 수정용 입력 DTO. code, description, policy_id 중 일부/전체 수정.\n\n코드 변경 시 유일성 조건과 정책 참조 무결성 반드시 충족.\n\nPrisma 테이블 및 엔티티 설명과 Audit/CMS 요구사항 반영.",
      "required": []
    },
    "shoppingPermission.IDeleteResult": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "삭제 작업의 대상 permission 엔티티의 ID."
        },
        "deleted": {
          "type": "boolean",
          "description": "실제 삭제(물리/논리) 성공 여부. soft-delete 정책에 따라 true, false 결정."
        },
        "deleted_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "soft-delete라면 삭제 일시, 아니면 null. post-audit/cms evidence 용."
            },
            {
              "type": "null"
            }
          ],
          "description": "soft-delete라면 삭제 일시, 아니면 null. post-audit/cms evidence 용."
        }
      },
      "required": [
        "id",
        "deleted"
      ],
      "description": "권한(permission) 엔티티 삭제 시 결과 및 증적 정보. \n\n삭제리턴: id, 실제 삭제 성공 여부, soft-delete시 삭제일시 포함."
    },
    "shoppingPolicy.IRequest": {
      "type": "object",
      "properties": {
        "name": {
          "oneOf": [
            {
              "type": "string",
              "description": "정책 이름 기준 필터. (부분 일치 검색 지원)"
            },
            {
              "type": "null"
            }
          ],
          "description": "정책 이름 기준 필터. (부분 일치 검색 지원)"
        },
        "condition": {
          "oneOf": [
            {
              "type": "string",
              "description": "정책 조건(로직) 또는 설명 문자열 필터. (부분일치/전체검색 지원)"
            },
            {
              "type": "null"
            }
          ],
          "description": "정책 조건(로직) 또는 설명 문자열 필터. (부분일치/전체검색 지원)"
        },
        "created_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "검색 시작일(포함). 정책 생성일 기준 from 필터."
            },
            {
              "type": "null"
            }
          ],
          "description": "검색 시작일(포함). 정책 생성일 기준 from 필터."
        },
        "created_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "검색 종료일(포함). 정책 생성일 기준 to 필터."
            },
            {
              "type": "null"
            }
          ],
          "description": "검색 종료일(포함). 정책 생성일 기준 to 필터."
        },
        "page": {
          "oneOf": [
            {
              "type": "integer",
              "format": "uint32",
              "description": "페이지 번호(1부터). null시 1로 처리."
            },
            {
              "type": "null"
            }
          ],
          "description": "페이지 번호(1부터). null시 1로 처리."
        },
        "limit": {
          "oneOf": [
            {
              "type": "integer",
              "format": "uint32",
              "description": "페이지당 최대 결과 수. null시 기본값 사용(예: 100)"
            },
            {
              "type": "null"
            }
          ],
          "description": "페이지당 최대 결과 수. null시 기본값 사용(예: 100)"
        },
        "sort_field": {
          "oneOf": [
            {
              "type": "string",
              "description": "정렬 기준 필드. 'created_at', 'name' 등 지원."
            },
            {
              "type": "null"
            }
          ],
          "description": "정렬 기준 필드. 'created_at', 'name' 등 지원."
        },
        "sort_order": {
          "oneOf": [
            {
              "const": "asc",
              "description": "정렬 방향. asc-오름차순, desc-내림차순."
            },
            {
              "const": "desc",
              "description": "정렬 방향. asc-오름차순, desc-내림차순."
            },
            {
              "type": "null"
            }
          ],
          "description": "정렬 방향. asc-오름차순, desc-내림차순."
        }
      },
      "description": "정책(policy) 엔티티 목록 조회/검색을 위한 입력 DTO.\n\n이름, 조건, 생성일, 페이징, 정렬 등 다양한 필터·제어 파라미터 제공.\n\nPrisma policy 엔티티 구조 기반.",
      "required": []
    },
    "IPageShoppingPolicy": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "페이지네이션 메타데이터. 전체 페이지 수, 현재페이지/레코드 등 반환."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/shoppingPolicy"
          },
          "description": "조건에 부합하는 정책 엔티티들의 목록."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "정책(policy) 레코드 목록의 페이징 결과.\n\n각 결과에는 페이지 정보와 정책 엔티티 배열이 포함되어 있습니다.\n\n정책은 Permission, Role 등과 연계된 액세스 제어 그룹 단위로 사용됩니다."
    },
    "shoppingPolicy": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "고유 정책 식별자(UUID).\n\nPrisma: policy.id"
        },
        "name": {
          "type": "string",
          "description": "정책 이름(유일). 각 RBAC 정책, 접근제한, 특별권한등을 구분하는 표현.\n\nPrisma: policy.name"
        },
        "conditions": {
          "type": "string",
          "description": "이 정책의 적용조건/로직(예: JSON, 코드 등). 상세 정책을 설명하는 일련의 데이터.\n\nPrisma: policy.conditions"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "정책 레코드 생성일시. 감사, 증적, 정책수명관리, 변경로그 용.\n\nPrisma: policy.created_at"
        },
        "permissions": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/shoppingPermission"
          },
          "description": "이 정책이 포함하는 permission(권한) 목록.\n\n정책이 여러 권한을 그룹핑하거나, Bulk/배포 정책에 활용하는 엔티티 연관 정보."
        }
      },
      "required": [
        "id",
        "name",
        "conditions",
        "created_at"
      ],
      "description": "권한 그룹/정책(policy) 엔티티. RBAC/ABAC 시스템의 액세스/권한 집합. \n\n각 정책은 다수의 권한 엔티티를 묶어 트리거/제한/허용 여부를 결정. \n\n부분정책 설명, 조건(조건식/코드/JSON etc), 생성일, 연관 권한 필드 포함.\n\nPrisma policy 테이블·구조 주석 기반."
    },
    "shoppingPolicy.ICreate": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "신규 정책의 이름(시스템 전역 유일값)\n\n관리/감사시 구분자. Prisma: policy.name"
        },
        "conditions": {
          "type": "string",
          "description": "정책의 상세 조건 또는 적용로직(코드 또는 JSON등).\n\nPrisma: policy.conditions"
        }
      },
      "required": [
        "name",
        "conditions"
      ],
      "description": "신규 정책(policy) 엔티티 생성 입력 DTO.\n\n정책명, 적용조건 등 필수. 조건식은 Flexible하게 자유 형식 텍스트 저장."
    },
    "shoppingPolicy.IUpdate": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "정책명 수정(유일값). Prisma: policy.name"
        },
        "conditions": {
          "type": "string",
          "description": "조건/로직/설명 수정. Prisma: policy.conditions"
        }
      },
      "description": "정책(policy) 개별 수정용 DTO. 운영단에서 이름, 설명, 조건식 변경시 사용.",
      "required": []
    },
    "shoppingPolicy.IDeleteResult": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "삭제/폐기된 정책의 고유 식별자"
        },
        "deleted": {
          "type": "boolean",
          "description": "실제 삭제(물리 또는 논리) 성공 여부"
        },
        "deleted_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "soft-delete 적용시 정책 삭제 일시"
            },
            {
              "type": "null"
            }
          ],
          "description": "soft-delete 적용시 정책 삭제 일시"
        }
      },
      "required": [
        "id",
        "deleted"
      ],
      "description": "정책(policy) 레코드 삭제 결과 및 증적 정보. soft-delete 시 삭제일시 포함."
    },
    "shoppingAuditLog.IRequest": {
      "type": "object",
      "properties": {
        "action": {
          "oneOf": [
            {
              "type": "string",
              "description": "이벤트 명(필터/검색). 예: create, update, delete 등"
            },
            {
              "type": "null"
            }
          ],
          "description": "이벤트 명(필터/검색). 예: create, update, delete 등"
        },
        "entity_type": {
          "oneOf": [
            {
              "type": "string",
              "description": "감사 로그의 주체가 된 엔티티 타입(예: user, order, review...)."
            },
            {
              "type": "null"
            }
          ],
          "description": "감사 로그의 주체가 된 엔티티 타입(예: user, order, review...)."
        },
        "entity_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "감사 로그의 대상 엔티티의 고유 UUID"
            },
            {
              "type": "null"
            }
          ],
          "description": "감사 로그의 대상 엔티티의 고유 UUID"
        },
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "이벤트를 유발한 사용자 ID"
            },
            {
              "type": "null"
            }
          ],
          "description": "이벤트를 유발한 사용자 ID"
        },
        "created_from": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "감사 로그 검색 시작일 (포함)"
            },
            {
              "type": "null"
            }
          ],
          "description": "감사 로그 검색 시작일 (포함)"
        },
        "created_to": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "감사 로그 검색 종료일 (포함)"
            },
            {
              "type": "null"
            }
          ],
          "description": "감사 로그 검색 종료일 (포함)"
        },
        "page": {
          "oneOf": [
            {
              "type": "integer",
              "format": "uint32",
              "description": "페이지 번호. null 이면 1로 처리"
            },
            {
              "type": "null"
            }
          ],
          "description": "페이지 번호. null 이면 1로 처리"
        },
        "limit": {
          "oneOf": [
            {
              "type": "integer",
              "format": "uint32",
              "description": "페이지당 최대 결과 수. null이면 default(100)"
            },
            {
              "type": "null"
            }
          ],
          "description": "페이지당 최대 결과 수. null이면 default(100)"
        },
        "sort_field": {
          "oneOf": [
            {
              "type": "string",
              "description": "정렬 기준 필드 이름 (예: created_at)"
            },
            {
              "type": "null"
            }
          ],
          "description": "정렬 기준 필드 이름 (예: created_at)"
        },
        "sort_order": {
          "oneOf": [
            {
              "const": "asc",
              "description": "정렬 방향(asc:오름차순, desc:내림차순)"
            },
            {
              "const": "desc",
              "description": "정렬 방향(asc:오름차순, desc:내림차순)"
            },
            {
              "type": "null"
            }
          ],
          "description": "정렬 방향(asc:오름차순, desc:내림차순)"
        }
      },
      "description": "감사 로그(audit_log) 테이블 조회/검색 입력 DTO. \n\n이벤트 액션, 엔티티타입/ID, 유저, 생성일시 구간, 페이징, 정렬 등 다양한 검색 필드 포함. \n\nPrisma audit_log 설계 및 규정 주석 기반.",
      "required": []
    },
    "IPageShoppingAuditLog": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Pagination metadata for this audit log query result.\n\nContains details about the current page, limit, total records, and total pages, as required for compliance and audit queries."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/shoppingAuditLog"
          },
          "description": "Array of audit log records displayed for this query page.\n\nRepresents a page of audit trail entries, where each record is a normalized, immutable log object containing evidence for a user or system operation."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated collection of shopping audit logs.\n\nReturned for evidence and regulatory reporting, this structure supports compliance dashboards, legal exports, and evidence-preserving data flows by providing both audit entries and associated pagination metadata."
    },
    "shoppingAuditLog": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier for the audit log entry.\\n\\nDirect reference to the log record in evidence/audit queries. Immutable once generated."
        },
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "ID of the user who triggered or is related to this log entry.\\n\\nLinks to the user record; can be null for system events or automation."
            },
            {
              "type": "null"
            }
          ],
          "description": "ID of the user who triggered or is related to this log entry.\\n\\nLinks to the user record; can be null for system events or automation."
        },
        "evidence_archive_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional reference to an evidence archive for this audit event.\\n\\nTracks snapshot, export, or signed evidence files for full audit chain of custody."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional reference to an evidence archive for this audit event.\\n\\nTracks snapshot, export, or signed evidence files for full audit chain of custody."
        },
        "action": {
          "type": "string",
          "description": "The main event recorded (create, update, delete, payment.approve, etc.).\\n\\nReflects atomic business or system action for non-repudiation."
        },
        "entity_type": {
          "type": "string",
          "description": "Entity or table affected (user, order, review, payment, etc.).\\n\\nEnables dimensioned audit reviews, regulatory exports by type, and evidence traceability."
        },
        "entity_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Reference to the specific entity instance impacted by the audit log event.\\n\\nSupports trace-back for compliance queries and legal disputes."
            },
            {
              "type": "null"
            }
          ],
          "description": "Reference to the specific entity instance impacted by the audit log event.\\n\\nSupports trace-back for compliance queries and legal disputes."
        },
        "context": {
          "type": "string",
          "description": "JSON-encoded contextual metadata at the time of event (old/new values, client/system info, request context, etc.).\\n\\nCritical for regulatory, forensics, and evidence review as required in audit trails."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the audit log record was written (ISO8601).\\n\\nImmutable and essential for evidentiary timelines and regulatory clock requirements."
        }
      },
      "required": [
        "id",
        "action",
        "entity_type",
        "context",
        "created_at"
      ],
      "description": "Atomic evidence record for a system or user event, as captured in the audit trail for the shopping platform."
    },
    "shoppingAuditLog.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "User actor responsible for action.\\n\\nMay be null for system events or automated entries."
            },
            {
              "type": "null"
            }
          ],
          "description": "User actor responsible for action.\\n\\nMay be null for system events or automated entries."
        },
        "evidence_archive_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Optional archive identifier, referencing a persistent evidence snapshot for this action."
            },
            {
              "type": "null"
            }
          ],
          "description": "Optional archive identifier, referencing a persistent evidence snapshot for this action."
        },
        "action": {
          "type": "string",
          "description": "Business or system event type (e.g., 'create', 'login', 'order.cancel').\\n\\nDefines the event class for compliance, legal, or forensic review. Cannot be empty."
        },
        "entity_type": {
          "type": "string",
          "description": "Affected entity name or code (e.g., 'user', 'order', 'refund').\\n\\nUsed for audit filter and legal compliance lookup."
        },
        "entity_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Specific entity instance referenced in the audit log (nullable).\\n\\nSupports event trace-back and granularity in legal analysis."
            },
            {
              "type": "null"
            }
          ],
          "description": "Specific entity instance referenced in the audit log (nullable).\\n\\nSupports event trace-back and granularity in legal analysis."
        },
        "context": {
          "type": "string",
          "description": "Key event context as JSON or canonical string, capturing request, computed fields, and system/user-provided data for this audit event.\\n\\nCritical for evidence tracking, explaining decisions, and chain-of-custody."
        }
      },
      "required": [
        "action",
        "entity_type",
        "context"
      ],
      "description": "Input for creating a new system/user audit trail event for compliance and evidence preservation."
    },
    "shoppingAuditLog.IUpdate": {
      "type": "object",
      "properties": {
        "context": {
          "type": "string",
          "description": "New value for context/annotation field appended to the audit entry.\\n\\nSupports additional evidence, legal annotation, or forensic clarification. Core audit fields should not be updated except for managed evidence annotation scenarios."
        }
      },
      "required": [
        "context"
      ],
      "description": "Update/annotation structure for supplementing contextual evidence on an audit_log row.\n\nUsed only for compliance or legal mark-up—core immutable audit columns may not be altered here."
    },
    "shoppingComplianceReport.IRequest": {
      "type": "object",
      "properties": {
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Filter: User ID for which the compliance report was issued (nullable)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter: User ID for which the compliance report was issued (nullable)."
        },
        "organization_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Filter: Organization ID to which the compliance report is attached (nullable)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Filter: Organization ID to which the compliance report is attached (nullable)."
        },
        "report_type": {
          "type": "string",
          "description": "Filter: Code for the type of compliance report (e.g., 'GDPR_EXPORT', 'CCPA_AUDIT')."
        },
        "status": {
          "type": "string",
          "description": "Filter: Status of the report (pending, published, superseded, etc.)."
        },
        "generated_at_from": {
          "type": "string",
          "format": "date-time",
          "description": "Start date/time for generated_at filter interval."
        },
        "generated_at_to": {
          "type": "string",
          "format": "date-time",
          "description": "End date/time for generated_at filter interval."
        },
        "page": {
          "type": "integer",
          "minimum": 1,
          "description": "Page number for pagination. Optional, default 1."
        },
        "limit": {
          "type": "integer",
          "minimum": 1,
          "description": "Result count per page; optional, typically default 20 or system-configured."
        }
      },
      "description": "Search, filter, and pagination parameters for compliance report records.\n\nAllows compliance and audit reviewers to retrieve and analyze regulatory reports efficiently by multiple criteria.",
      "required": []
    },
    "IPageShoppingComplianceReport": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Paging metadata for the compliance report query result."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/shoppingComplianceReport"
          },
          "description": "Array of compliance report entries matching the filter/search criteria."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated result of compliance report records, for regulatory review and evidence management dashboards."
    },
    "shoppingComplianceReport": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier for the compliance report entry. Immutable once assigned."
        },
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Data subject (user) referenced by this report. Null for org-scoped reports."
            },
            {
              "type": "null"
            }
          ],
          "description": "Data subject (user) referenced by this report. Null for org-scoped reports."
        },
        "organization_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Owning organization for the compliance export/report (nullable for user-only reports)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Owning organization for the compliance export/report (nullable for user-only reports)."
        },
        "report_type": {
          "type": "string",
          "description": "Logical code for report classification (e.g., 'GDPR_EXPORT', 'INTERNAL_AUDIT')."
        },
        "status": {
          "type": "string",
          "description": "Current lifecycle status of the report (pending, published, superseded)."
        },
        "generated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp for when the compliance report was generated."
        },
        "published_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Timestamp for when this report was formally published/released."
            },
            {
              "type": "null"
            }
          ],
          "description": "Timestamp for when this report was formally published/released."
        }
      },
      "required": [
        "id",
        "report_type",
        "status",
        "generated_at"
      ],
      "description": "Atomic compliance report entry for regulatory exports, user privacy requests, or internal audits."
    },
    "shoppingComplianceReport.ICreate": {
      "type": "object",
      "properties": {
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "User/subscriber for whom compliance/audit export is generated."
            },
            {
              "type": "null"
            }
          ],
          "description": "User/subscriber for whom compliance/audit export is generated."
        },
        "organization_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Organization for which compliance report is generated (if applicable)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Organization for which compliance report is generated (if applicable)."
        },
        "report_type": {
          "type": "string",
          "description": "Type/classification of the report being generated (e.g., regulatory code, export/audit/policy label)."
        },
        "status": {
          "type": "string",
          "description": "Initial status (pending/published/superseded, etc.) for the new report."
        },
        "generated_at": {
          "type": "string",
          "format": "date-time",
          "description": "Generation timestamp. Required for timeline/sla purposes; may be set on create or auto-generated."
        },
        "published_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Publication timestamp (optional on creation, filled when published)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Publication timestamp (optional on creation, filled when published)."
        }
      },
      "required": [
        "report_type",
        "status",
        "generated_at"
      ],
      "description": "Payload for registering a new compliance/audit report in the system."
    },
    "shoppingComplianceReport.IUpdate": {
      "type": "object",
      "properties": {
        "report_type": {
          "type": "string",
          "description": "(Optional) Updated code/class for this compliance report (must match logic/requirements)."
        },
        "status": {
          "type": "string",
          "description": "(Optional) Updated status for this compliance report (e.g., 'published', 'archived')."
        },
        "published_at": {
          "type": "string",
          "format": "date-time",
          "description": "(Optional) Updated publication timestamp or legal delivery date."
        }
      },
      "description": "Permitted update payload for compliance_report entity fields, supporting status/metadata mutability for audit and regulatory reasons.",
      "required": []
    },
    "shoppingDataRetention.IRequest": {
      "type": "object",
      "properties": {
        "organization_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Search/filter: restrict result to this organization's policies (nullable for platform/global)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Search/filter: restrict result to this organization's policies (nullable for platform/global)."
        },
        "entity_type": {
          "type": "string",
          "description": "Search/filter: restrict result to a specific data type/entity (e.g., 'user', 'order')."
        },
        "is_legal_hold": {
          "type": "boolean",
          "description": "Filter: return only records flagged as legal hold."
        },
        "retention_period_days": {
          "type": "integer",
          "description": "Filter: show policies with this (or minimum) retention period."
        },
        "page": {
          "type": "integer",
          "minimum": 1,
          "description": "Paging number."
        },
        "limit": {
          "type": "integer",
          "minimum": 1,
          "description": "Max results per returned page."
        }
      },
      "description": "Input for search/filter on data retention policies for regulatory review and audit prep.",
      "required": []
    },
    "IPageShoppingDataRetention": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Paging information: describes page, count, etc."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/shoppingDataRetention"
          },
          "description": "Array of data retention policy records on this result page."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated list of data retention policy records for dashboard, regulatory, and evidence reporting."
    },
    "shoppingDataRetention": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique identifier for the data retention policy record. Immutable primary key."
        },
        "organization_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "Owning organization (nullable for platform/global policy)."
            },
            {
              "type": "null"
            }
          ],
          "description": "Owning organization (nullable for platform/global policy)."
        },
        "entity_type": {
          "type": "string",
          "description": "Name/code for the entity type (e.g., 'user', 'order', etc.), for which this policy applies."
        },
        "retention_period_days": {
          "type": "integer",
          "description": "Retention duration in days for records of the target type."
        },
        "is_legal_hold": {
          "type": "boolean",
          "description": "If the policy is under legal hold, deletion of associated records is blocked."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the policy was created."
        }
      },
      "required": [
        "id",
        "entity_type",
        "retention_period_days",
        "is_legal_hold",
        "created_at"
      ],
      "description": "Atomic, immutable data retention policy record for compliance management.\n\nDefines legal/statutory or business-duration policy for regulated entities (user data, payment logs, reviews, etc.), supports audit and evidence chain."
    },
    "shoppingDataRetention.ICreate": {
      "type": "object",
      "properties": {
        "organization_id": {
          "type": "string",
          "format": "uuid",
          "description": "Optional. Organization UUID to which the data retention policy applies. Enables B2B use cases and regulatory separation. Reference to the owning organization in shared or scalable systems. May be null when the policy is for a global or default scope.\n\nDerived directly from the organizations table, enforces multi-tenancy support and strict data domain boundaries in compliance-focused SaaS or white-label installs."
        },
        "entity_type": {
          "type": "string",
          "description": "Entity data type subject to retention policy (e.g., 'user', 'order', 'review'). Required for defining what data category or domain the policy covers. Aligned with regulatory, business, or legal requirements for entity-specific retention periods.\n\nAtomic string type as per database schema—should match canonical entity names for downstream automation and legal evidence retrieval. Enforced as unique in combination with organization_id."
        },
        "retention_period_days": {
          "type": "integer",
          "description": "Retention period in days—specifies how long this category of data must be retained before it is eligible for removal by automated or manual compliance process. Integer value, mandatory for full policy definitions, enabling precise policy-driven deletion or migration workflows.\n\nMapped directly from regulatory contracts. For example, 365 for standard 1-year retention or 1095 for three-year period; used in backend sweepers and legal reporting automation."
        },
        "is_legal_hold": {
          "type": "boolean",
          "description": "Legal hold status indicator (true/false). If set, data under this policy cannot be deleted or expired for the duration of the hold (e.g., pending legal or regulatory investigation). Required to enforce compliance and prevent data loss when litigation or audit is expected.\n\nColumn documented as per legal hold pattern (see referenced data_retention table)."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "The UTC timestamp when the data retention policy was created. Used for policy versioning, evidence governance, and change history reporting. Immutable after creation; enables forward and backward traceability in audits and post-incident analysis.\n\nRequired for compliance evidence, preserves system-generated times for legal and regulatory export."
        }
      },
      "required": [
        "entity_type",
        "retention_period_days",
        "is_legal_hold",
        "created_at"
      ],
      "description": "Defines a request for creating a new data retention policy. Aligned with the requirements analysis for data lifecycle governance, regulatory audit, and compliance export. All fields are atomic, precisely matching schema columns, and support evidence preservation for legal and analytics workflows.\n\nReference: Prisma model data_retention, comments on entity_type, retention_period_days, etc."
    },
    "shoppingDataRetention.IUpdate": {
      "type": "object",
      "properties": {
        "entity_type": {
          "type": "string",
          "description": "Entity type to update for the policy, if applicable. Should not change for most policies due to regulatory traceability (default: immutable, may be editable only in special workflow)."
        },
        "retention_period_days": {
          "type": "integer",
          "description": "Updated retention period in days (e.g., change legal window for deletion). Set this to adjust the compliant duration for the corresponding entity data.\n\nShould map directly to new contract or regulatory requirement."
        },
        "is_legal_hold": {
          "type": "boolean",
          "description": "Update of the legal hold flag (e.g., end or initiate a legal/compliance hold). When legal hold is enabled, data under policy must not be deleted. Update is strictly evidence-preserving and logged."
        }
      },
      "description": "Request payload for updating fields of a data retention policy. Maps to the update operation in the policy workflow and enforces audit trail. Enables changes to retention duration or legal hold, while maintaining evidence and regulatory compliance.\n\nImmutable fields cannot be updated unless handled as a policy exception or legal directive.",
      "required": []
    },
    "IEvidenceArchive.IRequest": {
      "type": "object",
      "properties": {
        "evidence_type": {
          "type": "string",
          "description": "Optional. Filter by the business or regulatory type/classification of archived evidence (e.g., 'GDPR_EXPORT', 'PAYMENT_LOG_SNAPSHOT'). Used to return only evidence archives matching the specified type, as a compliance, legal, or operational filter.\n\nMaps directly to the evidence_type column in the evidence_archive table. Enables cross-entity filtering and analytics workflows."
        },
        "created_from": {
          "type": "string",
          "format": "date-time",
          "description": "Start of the creation date range to filter evidence archives for audit or compliance review (UTC). Enables time-bounded retrieval, e.g., only archives created after a certain date. Used in regulatory exports and legal inquiries."
        },
        "created_to": {
          "type": "string",
          "format": "date-time",
          "description": "End of the creation date range to filter evidence archives for audit or compliance review (UTC). Limits results to archives created before or at this timestamp. Supports searching recent or historic evidence as per retention policy or legal query."
        },
        "checksum": {
          "type": "string",
          "description": "Optional. Filter archives by matching or partially matching cryptographic checksum, supporting integrity validation, duplicate detection, and forensic event correlation.\n\nAligns with audit log requests or automated incident review."
        }
      },
      "description": "Request object for searching or retrieving paginated lists of evidence archive records. Supports filtered search by evidence_type, creation date, and checksum, enabling regulatory exports and evidence discovery required for compliance and forensics.\n\nDirectly maps to advanced search UI and compliance reporting tools referencing the evidence_archive table.",
      "required": []
    },
    "IPageIEvidenceArchive": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Standard page metadata: includes current page number, limit per page, total records, and total pages. Ensures compliance with uniform pagination contract used system-wide."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IEvidenceArchive"
          },
          "description": "Array of evidence archive entries for this page. Each entry is a complete IEvidenceArchive object (see below). Enables paginated export or review for legal/forensic evidence."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated record set for evidence archive resources as required by regulatory export or audit workflows. Combines standard pagination with evidence archive entries, ensuring compliance and support for large-scale legal/forensics processes. Used throughout evidence and compliance management modules."
    },
    "IEvidenceArchive": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Unique evidence archive record identifier. Primary key for immutable evidence chain reference and audit lookups."
        },
        "evidence_type": {
          "type": "string",
          "description": "Category of archived evidence (e.g., 'GDPR_DSAR_EXPORT', 'PAYMENT_LOG_SNAPSHOT'). Direct business/regulatory mapping, used in compliance filtering and analytics."
        },
        "blob_url": {
          "type": "string",
          "description": "URI for archived evidence binary/payload (S3, GCS, network storage reference). Supports secure off-db storage for evidentiary data and audit chains. Critical for locating assets in external storage during legal/forensic review."
        },
        "size_bytes": {
          "type": "integer",
          "description": "Size (in bytes) of the archived evidence. Required for integrity checks, forensic exports, and storage auditing. Enables pre-download analysis, storage cost reporting, and evidence management SLAs."
        },
        "checksum": {
          "type": "string",
          "description": "Cryptographic hash (e.g., SHA256) for the stored evidence. Enables data integrity validation, non-repudiation, and duplicate/chain-of-custody proof during legal events."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of evidence creation/archival. Critical for audit, legal time window queries, and regulatory compliance chronologies.\n\nNever updated after creation (immutable evidence chain)."
        }
      },
      "required": [
        "id",
        "evidence_type",
        "blob_url",
        "size_bytes",
        "checksum",
        "created_at"
      ],
      "description": "Represents the full registry record for a piece of external/compressed or signed audit evidence. Fields are strictly atomic, never denormalized, and map precisely to the evidence_archive table as required by audit, compliance, forensics, and chain-of-custody standards.\n\nReference: schema-08-security_compliance.prisma, evidence_archive model."
    },
    "IEvidenceArchive.ICreate": {
      "type": "object",
      "properties": {
        "evidence_type": {
          "type": "string",
          "description": "Business or regulatory classification of the evidence being registered (e.g., 'GDPR_DSAR_EXPORT', 'PAYMENT_LOG_SNAPSHOT'). Required for policy-driven governance and legal exports."
        },
        "blob_url": {
          "type": "string",
          "description": "URI for the evidence payload to be linked/registered (external blob reference). Data integrity and privacy standards apply here (generated via secure/verified archiving workflows)."
        },
        "size_bytes": {
          "type": "integer",
          "description": "Byte size of the referenced payload. Used in compliance and storage audit reporting; assists downstream evidence managers and cost calculators."
        },
        "checksum": {
          "type": "string",
          "description": "Cryptographic checksum (e.g., SHA256) of the new evidence. Used for proof-of-integrity, legal evidence, and regulatory chain-of-custody verifications. Must be generated by the archiving process."
        }
      },
      "required": [
        "evidence_type",
        "blob_url",
        "size_bytes",
        "checksum"
      ],
      "description": "Defines the request payload required to create/register a new evidence archive entry. Mapping is atomic and reference-only; actual evidence content is external (by URI). Strict compliance with audit, forensics, and non-repudiation workflows.\n\nFor use by privileged workflows only; direct mapping to evidence_archive table insert."
    },
    "IEvidenceArchive.IUpdate": {
      "type": "object",
      "properties": {
        "evidence_type": {
          "type": "string",
          "description": "Optional update of evidence classification—e.g., after regulatory review. Only allowed when not breaking original evidence guarantees. All such updates are strictly audit-logged."
        },
        "blob_url": {
          "type": "string",
          "description": "Optional update for corrected external reference. Changing evidence blob location requires strict evidence trail—allowed only for recovery/fix workflows."
        },
        "size_bytes": {
          "type": "integer",
          "description": "Update size for error correction or storage reporting fix. All updates must be evidence-preserved and logged."
        },
        "checksum": {
          "type": "string",
          "description": "Correction to address integrity evidence, e.g., after externally validated rehash, never for intent to change actual evidence."
        }
      },
      "description": "Patch/update request for evidence archive attributes. Only permitted in strict compliance/incident workflows and all changes are audit-preserved. Used for error remediation, regulatory fix-up, or forensics evidence chains. Typically restricted for correction only; true content/URI changes are very rare and tightly permissioned.",
      "required": []
    },
    "IApiClient.IRequest": {
      "type": "object",
      "properties": {
        "client_name": {
          "type": "string",
          "description": "API/omnichannel client display name filter (partial match supported). Used for admin or onboarding workflows to quickly find partner or system integrations via friendly label search. Directly matches client_name (UK) in api_clients table."
        },
        "is_active": {
          "type": "boolean",
          "description": "Filter by active/inactive status, returning only active or disabled integrations. Supports security monitoring, incident review, and operational scaling of partners/integrations."
        },
        "created_from": {
          "type": "string",
          "format": "date-time",
          "description": "UTC start time for integration client creation. Used for time-scoped onboarding- or incident-investigation batch queries."
        },
        "created_to": {
          "type": "string",
          "format": "date-time",
          "description": "UTC end of creation window. Used for time-bounded search and compliance exports."
        }
      },
      "description": "Request body for advanced filtering, searching, and pagination of API/omnichannel client records. Maps directly to Prisma model api_clients and satisfies compliance tracking and technical onboarding needs.\n\nStandard support for business, partner, security, and onboarding workflows.",
      "required": []
    },
    "IPageIApiClient": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Standard page metadata: includes current page number, limit, total records, total pages. Used in consistent design of multi-entity list APIs for compliance, discovery, and technical partner management."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IApiClient"
          },
          "description": "Array (page) of full API client entity records, complete for detail listing. Each is an IApiClient schema (see below) for audit, evidence, and analytics."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated result for listing API/omnichannel clients and associated metadata. Aggregates API client registry entries in compliance with technical onboarding, evidence, and security policy tracking."
    },
    "IApiClient": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary key; unique identifier for each registered API/omnichannel integration client. Immutable and used for all subsequent references (secrets, tokens, audit logs).\n\nMapped directly to api_clients table organization-wide."
        },
        "client_name": {
          "type": "string",
          "description": "Client display name. Enforces global uniqueness and is used as primary key for onboarding, audit, and partner negotiation workflows. Corresponds to UK in DB."
        },
        "description": {
          "type": "string",
          "description": "Optional. Freeform business context, compliance note, or technical documentation for the integration. Used by admins, onboarding managers, and security teams in risk audits. Can be empty for most integrations."
        },
        "contact_email": {
          "type": "string",
          "description": "Contact email for the integration—used for security notifications, onboarding, operational support. Guaranteed unique for API clients. Maintains compliance trace for incident notification and partner comms."
        },
        "public_key": {
          "type": "string",
          "description": "(Optional) PEM string for X.509, JWT, or certificate-based integrations. Used in system-to-system, zero-trust, or cryptographically secured event frameworks per requirements. May be absent for basic integrations."
        },
        "is_active": {
          "type": "boolean",
          "description": "True/false status for account enable/disable. System uses this flag to allow, block, or flag insecure/expired integrations. Maintains security compliance and onboarding/cert rotation workflows as per partner SLAs."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when registered integration was created. Used in onboarding, compliance, billing, and partner support SLAs. Immutable and always UTC."
        },
        "deleted_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when client was soft-deleted/archived. Used for incident response, compliance, and legal reporting. Null if active."
        }
      },
      "required": [
        "id",
        "client_name",
        "contact_email",
        "is_active",
        "created_at"
      ],
      "description": "Full summary/details of a registered API/omnichannel client. Reflects all atomic fields in api_clients with audit and compliance evidence trails. Used throughout onboarding, security, audit, and technical partner workflows."
    },
    "IApiClient.ICreate": {
      "type": "object",
      "properties": {
        "client_name": {
          "type": "string",
          "description": "Unique display name for the integration, e.g., 'Acme ERP Connector'. Required for technical staff, onboarding partners, and security teams to identify integration."
        },
        "description": {
          "type": "string",
          "description": "Detailed business, compliance, or technical purpose."
        },
        "contact_email": {
          "type": "string",
          "description": "Integration owner/operator email address. Used for security and onboarding notification, compliance contacts, and incident response. Must be unique for all API clients."
        },
        "public_key": {
          "type": "string",
          "description": "(Optional) X.509/JWT or TLS certificate used for zero-trust or cryptographically signed API integrations. SecDevOps and partner platform connections will specify this for mutual authentication. May be omitted for basic integrations."
        },
        "is_active": {
          "type": "boolean",
          "description": "Initial status for client account: true for active, false for onboard/disable scenario. Used by onboarding, compliance, and access workflow logic."
        }
      },
      "required": [
        "client_name",
        "contact_email",
        "is_active"
      ],
      "description": "Request schema for registering a new API/omnichannel client. Maps to required onboarding flow from requirements analysis: defines technical, business, and compliance attributes for the client. Enforces global uniqueness where required.\n\nAll fields have direct mapping to api_clients table."
    },
    "IApiClient.IUpdate": {
      "type": "object",
      "properties": {
        "client_name": {
          "type": "string",
          "description": "Update (rename) label for the client integration. Unique across the system—modify with care, as changes are reflected in onboarding and compliance logs."
        },
        "description": {
          "type": "string",
          "description": "Update the business, compliance, or technical description. Used for clarification, audit, or operational support."
        },
        "contact_email": {
          "type": "string",
          "description": "Update contact address for the integration. Effects incident response, compliance, and support flows. Must remain unique."
        },
        "public_key": {
          "type": "string",
          "description": "Update public key/cert for platform integration. Used for certificate/key rotation, zero-trust, or upgraded API integration requirements."
        },
        "is_active": {
          "type": "boolean",
          "description": "Set activation status to enable or disable the client integration in the system."
        }
      },
      "description": "Schema for updating an API client entry—reflects allowed business and technical field changes. All updates are append-only and strictly logged for audit, compliance, and evidence trace. Direct mapping to updatable fields in api_clients table.",
      "required": []
    },
    "IApiToken.IRequest": {
      "type": "object",
      "properties": {
        "api_client_id": {
          "type": "string",
          "format": "uuid",
          "description": "API 클라이언트의 고유 식별자(UUID). api_tokens와 연결된 client 정보로 필터링할 때 사용."
        },
        "is_active": {
          "type": "boolean",
          "description": "활성화 상태 필터. true(활성) 또는 false(비활성) API 토큰을 조회할 때 설정."
        },
        "issued_at_from": {
          "type": "string",
          "format": "date-time",
          "description": "토큰 발급 시각의 조회 시작(ISO 8601/UTC)."
        },
        "issued_at_to": {
          "type": "string",
          "format": "date-time",
          "description": "토큰 발급 시각의 조회 종료(ISO 8601/UTC)."
        },
        "expires_at_from": {
          "type": "string",
          "format": "date-time",
          "description": "토큰 만료 시각 조회 범위 시작."
        },
        "expires_at_to": {
          "type": "string",
          "format": "date-time",
          "description": "토큰 만료 시각 조회 범위 종료."
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "description": "페이지 번호. 0 또는 1부터 시작. 페이지네이션 지원용."
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "description": "한 페이지당 리턴할 토큰 개수. 기본값 및 최대값 제한(예: 100)."
        }
      },
      "required": [],
      "description": "API 토큰 리스트(검색/필터/Paging)용 쿼리 요청 스키마.\n\napi_tokens 엔터티의 다양한 조건별 조회를 지원한다. 필터 기준은 Prisma 스키마 주석과 DB 컬럼의 인덱스/검색 지원 필드를 따른다.\n\n모든 속성은 선택적이며, paging/필터링 조합으로 대량 토큰/식별자/유효성 분석에 최적화됨."
    },
    "IPageIApiToken": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IApiToken"
          },
          "description": "페이지 조회된 API 토큰 레코드 배열."
        }
      },
      "description": "API 토큰의 페이징 결과 컨테이너로, IApiToken 레코드 목록과 페이지 정보가 포함됨. 구조는 표준 IPage<T> 규격을 따른다.",
      "required": []
    },
    "IApiToken": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "고유 식별자(Prisma: id). 각 API 토큰의 PK로서, 조회, 갱신, 삭제 등에서 참조된다."
        },
        "api_client_id": {
          "type": "string",
          "format": "uuid",
          "description": "api_tokens와 연결된 API 클라이언트 레코드의 UUID. api_clients.id 참조."
        },
        "token_value": {
          "type": "string",
          "description": "발급된 API 토큰의 해시/식별자(실제 평문 토큰값은 최초 생성 응답에서만 노출). 저장 및 비교엔 해시값 사용. (Prisma: token_value)"
        },
        "scope": {
          "type": "string",
          "description": "API 접근 스코프/권한의 콤마구분 문자열. 정책 기반 접근 제어와 연동된다."
        },
        "issued_at": {
          "type": "string",
          "format": "date-time",
          "description": "토큰 발급 시각(발급 생성 시 서버에서 자동 기록). audit/compliance evidence용."
        },
        "expires_at": {
          "type": "string",
          "format": "date-time",
          "description": "토큰 만료 예정 시각. 만료 후에는 인증/인가 불가."
        },
        "revoked_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "토큰의 명시적 비활성화(취소) 시각. 소프트 삭제/audit."
            },
            {
              "type": "null"
            }
          ],
          "description": "토큰의 명시적 비활성화(취소) 시각. 소프트 삭제/audit."
        }
      },
      "required": [
        "id",
        "api_client_id",
        "token_value",
        "scope",
        "issued_at",
        "expires_at"
      ],
      "description": "API 접근 토큰의 메인 엔티티 타입. Prisma schema api_tokens를 반영하며 모든 인증/감사/적합성 요구사항을 이수하는 증적 정보를 포함한다.\n\n- 민감 정보(실제 토큰값)는 생성시 외부 노출 한정, 저장시 항상 해시화\n- 토큰 상태와 생명주기 관리(만료, revoke, evidence)\n- 참조 무결성과 규정 감사 지원\n- audit 기반 접근 분리\n\n모든 속성은 프로퍼티별 Prisma 컬럼 설명에 1:1 대응함."
    },
    "IShoppingApiToken.ICreate": {
      "type": "object",
      "properties": {
        "api_client_id": {
          "type": "string",
          "format": "uuid",
          "description": "토큰이 연결될 API 클라이언트의 고유 UUID. 필수."
        },
        "scope": {
          "type": "string",
          "description": "API 토큰의 권한 및 범위. 정책에 따라 지정. 예: 'read:order,write:catalog'"
        }
      },
      "required": [
        "api_client_id",
        "scope"
      ],
      "description": "API 토큰 생성 요청 엔티티. 새로운 액세스 토큰을 발급할 때 입력 값 및 정책 기반 제약 설명 포함.\n\n- 토큰 자체 값은 응답에서만 노출(생성 요청에는 포함 X)\n- 모든 입력값은 Prisma 스키마 컬럼 설명 및 인증/규정에 부합\n- audit evidence 처리 포함\n"
    },
    "IShoppingApiToken": {
      "$ref": "#/components/schemas/IApiToken",
      "description": "쇼핑몰 전용 API 토큰 단일 상세 엔티티. 요청/응답 통합 규격. 상위 IApiToken 스키마를 래핑하며, domain context에 맞춘 추가 설명을 부여함.\n\n운영/감사/보안 흐름에서의 활용을 위해 별칭형 필요."
    },
    "IShoppingApiToken.IUpdate": {
      "type": "object",
      "properties": {
        "expires_at": {
          "type": "string",
          "format": "date-time",
          "description": "만료 시각 갱신(연장, 조기만료)/정책에 따라 허용되는 경우 사용."
        },
        "scope": {
          "type": "string",
          "description": "스코프 문자열 변경. 정책/보안 관리 범위 내에서만 허용."
        },
        "revoked_at": {
          "type": "string",
          "format": "date-time",
          "description": "명시적 토큰 폐지(소프트 삭제)의 타임스탬프. revoke 시점 전달시 사용."
        }
      },
      "required": [],
      "description": "API 토큰 갱신(수정) 요청 스키마. 만료 연장, 스코프 변경, 취소(revoke) 등의 관리/감사 목적 주요 속성만 포함. Prisma 스키마 인라인 컬럼 주석 및 보안 기준 엄수.\n\n불변 속성(api_client_id/id 등)은 업데이트 불가, 입력 시 에러."
    },
    "IShoppingApiAudit.IRequest": {
      "type": "object",
      "properties": {
        "api_client_id": {
          "type": "string",
          "format": "uuid",
          "description": "검색 기준: 연관 API 클라이언트 UUID"
        },
        "api_token_id": {
          "type": "string",
          "format": "uuid",
          "description": "검색 기준: 연관 API 토큰 UUID"
        },
        "endpoint": {
          "type": "string",
          "description": "API 엔드포인트 패스(부분 일치 허용)"
        },
        "actor_id": {
          "type": "string",
          "format": "uuid",
          "description": "API 호출 행위 주체 UUID"
        },
        "request_hash": {
          "type": "string",
          "description": "요청 본문 해시값(유효성 또는 감찰용)"
        },
        "response_hash": {
          "type": "string",
          "description": "응답 본문 해시값(멱등성/evidence)"
        },
        "is_success": {
          "type": "boolean",
          "description": "성공/실패 필터"
        },
        "status_code": {
          "type": "integer",
          "description": "HTTP 상태 코드로 검색"
        },
        "from": {
          "type": "string",
          "format": "date-time",
          "description": "조회 기간(from)"
        },
        "to": {
          "type": "string",
          "format": "date-time",
          "description": "조회 기간(to)"
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "description": "페이지 번호"
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "description": "페이지별 레코드 개수"
        }
      },
      "description": "API Audit 로그 조회 및 필터 입력 DTO. api_audits 테이블 주요 컬럼 기반 조건 검색 지원.",
      "required": []
    },
    "IPageIShoppingApiAudit": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingApiAudit"
          },
          "description": "조회된 API Audit 로그 배열"
        }
      },
      "description": "API Audit 로그의 페이지네이션 페이로드. 표준 IPage 규격, 데이터로는 IShoppingApiAudit 사용.",
      "required": []
    },
    "IShoppingApiAudit": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "고유 식별자. api_audits PK"
        },
        "api_client_id": {
          "type": "string",
          "format": "uuid",
          "description": "api_clients 연결 참조 UUID"
        },
        "api_token_id": {
          "type": "string",
          "format": "uuid",
          "description": "api_tokens 연결 참조 UUID"
        },
        "integration_channel_id": {
          "type": "string",
          "format": "uuid",
          "description": "연계 채널 UUID(omni/APIs등)"
        },
        "endpoint": {
          "type": "string",
          "description": "API 경로/엔드포인트"
        },
        "http_method": {
          "type": "string",
          "description": "HTTP Method"
        },
        "actor_id": {
          "type": "string",
          "format": "uuid",
          "description": "행위 주체 UUID(사용자/API)"
        },
        "decision_log_id": {
          "type": "string",
          "format": "uuid",
          "description": "AI/ML 의사결정 로그 참조 UUID, 필요시"
        },
        "request_hash": {
          "type": "string",
          "description": "요청 페이로드 hash/evidence"
        },
        "response_hash": {
          "type": "string",
          "description": "응답 페이로드 hash/evidence"
        },
        "is_success": {
          "type": "boolean",
          "description": "API 호출 결과 성공 여부"
        },
        "status_code": {
          "type": "integer",
          "description": "HTTP status code"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "로그 기록 시각"
        }
      },
      "required": [
        "id",
        "api_client_id",
        "api_token_id",
        "endpoint",
        "http_method",
        "actor_id",
        "request_hash",
        "response_hash",
        "is_success",
        "status_code",
        "created_at"
      ],
      "description": "API Audit(증적) 단일 엔티티. Prisma schema 'api_audits'에 맞춘 객체로, 인증/적합성/추적/DT 증적까지 포괄한다."
    },
    "IShoppingApiAudit.ICreate": {
      "type": "object",
      "properties": {
        "api_client_id": {
          "type": "string",
          "format": "uuid",
          "description": "연계 API 클라이언트 UUID"
        },
        "api_token_id": {
          "type": "string",
          "format": "uuid",
          "description": "해당 API 토큰 UUID"
        },
        "integration_channel_id": {
          "type": "string",
          "format": "uuid",
          "description": "옴니/파트너 등 통합 채널(origin) UUID"
        },
        "endpoint": {
          "type": "string",
          "description": "API 엔드포인트 패스"
        },
        "http_method": {
          "type": "string",
          "description": "HTTP 메소드"
        },
        "actor_id": {
          "type": "string",
          "format": "uuid",
          "description": "API 호출/행위 주체 UUID"
        },
        "decision_log_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "AI/ML 의사결정 로그 UUID(옵션, 규제/설명력 대응)"
            },
            {
              "type": "null"
            }
          ],
          "description": "AI/ML 의사결정 로그 UUID(옵션, 규제/설명력 대응)"
        },
        "request_hash": {
          "type": "string",
          "description": "요청 본문 hash/evidence"
        },
        "response_hash": {
          "type": "string",
          "description": "응답 본문 hash/evidence"
        }
      },
      "required": [
        "api_client_id",
        "api_token_id",
        "endpoint",
        "http_method",
        "actor_id",
        "request_hash",
        "response_hash"
      ],
      "description": "API Audit 로그 생성 요청 스키마. audit evidence, 통합 로그, 증적 일관성 보증. Prisma 컬럼 커멘트에 따른 규격."
    },
    "IShoppingApiAudit.IUpdate": {
      "type": "object",
      "properties": {
        "integration_channel_id": {
          "type": "string",
          "format": "uuid",
          "description": "통합 채널 변경/연결 정보(옵션)"
        },
        "decision_log_id": {
          "type": "string",
          "format": "uuid",
          "description": "AI 의사결정 로그 UUID"
        },
        "status_code": {
          "type": "integer",
          "description": "HTTP 상태코드 수정"
        },
        "is_success": {
          "type": "boolean",
          "description": "API 호출 결과 상태 보정"
        },
        "response_hash": {
          "type": "string",
          "description": "응답 본문의 hash(보정시)"
        },
        "actor_id": {
          "type": "string",
          "format": "uuid",
          "description": "주체 변경(감사,규제 인증 목적)"
        },
        "endpoint": {
          "type": "string",
          "description": "API 경로 보정(필요시)"
        },
        "request_hash": {
          "type": "string",
          "description": "요청 본문 hash/evidence 덮어쓰기"
        }
      },
      "required": [],
      "description": "API Audit 로그 갱신 DTO. status/응답 hash, 주체 교정 등 일부 컬럼에 한해 인증 정책에 따라 수정 허용. 대부분의 경우 고정/불변이나, 현업/감사/증적 사유에 의한 조정 가능 필드만 노출."
    },
    "IShoppingIntegrationChannel.IRequest": {
      "type": "object",
      "properties": {
        "channel_code": {
          "type": "string",
          "description": "채널 코드(식별자, unique). 검색/조회 필터로 사용."
        },
        "is_active": {
          "type": "boolean",
          "description": "활성 여부. true(이용가능한 채널) false(비활성/아카이브)."
        },
        "channel_name": {
          "type": "string",
          "description": "채널 표시 이름. 일부/완전 일치 검색 지원."
        },
        "created_at_from": {
          "type": "string",
          "format": "date-time",
          "description": "채널 등록일 범위조회-시작"
        },
        "created_at_to": {
          "type": "string",
          "format": "date-time",
          "description": "채널 등록일 범위조회-종료"
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "description": "페이지 번호"
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "description": "페이지별 데이터 수"
        }
      },
      "description": "통합/Omni채널 리스트 요청 DTO. integration_channels 테이블의 컬럼 설명 및 인덱스 기준 맞춤. 검색/필터/Paging용 조합 파라미터 구성.\n\n실제 비즈니스에서는 채널 식별자, 활성여부, 등록일 등 다양한 audit/compliance 필터링에 활용",
      "required": []
    },
    "IPageIShoppingIntegrationChannel": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Pagination metadata for navigating through integration channel records.\n\nDerived from advanced paging requirements and supports audit evidence tracking (see requirements for omnichannel and compliance evidence flows)."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingIntegrationChannel"
          },
          "description": "An array of integration channel records in this page.\n\nEach object follows the normalized structure as per 'integration_channels' table (see Prisma schema and ERD)."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "A paginated response of integration channels.\n\nIncludes pagination metadata with the records for system monitoring, omnichannel evidence export, and compliance dashboards.\nRefer to Prisma schema for integration_channels for complete set of audit fields."
    },
    "IShoppingIntegrationChannel": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary key and unique identifier for each integration channel.\n\nDirectly mapped from 'integration_channels.id' in the Prisma schema."
        },
        "channel_code": {
          "type": "string",
          "description": "Unique technical identifier for the source/integration channel (e.g., 'web', 'partner_erp').\n\nReferenced from 'integration_channels.channel_code'. Critical for routing and omnichannel traceability."
        },
        "channel_name": {
          "type": "string",
          "description": "Human readable unique label (e.g., 'Main Web Storefront').\n\nSee 'integration_channels.channel_name' (Prisma schema)."
        },
        "is_active": {
          "type": "boolean",
          "description": "Indicates if the channel is currently enabled for integrations.\n\nImplements business/operational state.\nReferenced from 'integration_channels.is_active'."
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp channel was registered.\n\nSupports evidence, audit, and analytics regarding activation timing.\nSee 'integration_channels.created_at'."
        },
        "deleted_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Timestamp of deactivation/soft-deletion for archival and audit.\n\nPreserves compliance and tamper-proof history.\nFrom 'integration_channels.deleted_at' field."
            },
            {
              "type": "null"
            }
          ],
          "description": "Timestamp of deactivation/soft-deletion for archival and audit.\n\nPreserves compliance and tamper-proof history.\nFrom 'integration_channels.deleted_at' field."
        }
      },
      "required": [
        "id",
        "channel_code",
        "channel_name",
        "is_active",
        "created_at"
      ],
      "description": "Integration Channel entity as recorded in the system.\n\nRepresents an omnichannel/API source. Implements requirements for extensibility, compliance, and audit evidence.\nFully aligns to 'integration_channels' table in Prisma schema and the ERD - includes status for audit, integration routing for partner channels, origination and decommissioning fields."
    },
    "IShoppingIntegrationChannel.ICreate": {
      "type": "object",
      "properties": {
        "channel_code": {
          "type": "string",
          "description": "Unique technical identifier for new integration channel.\nRefer to 'integration_channels.channel_code' in Prisma DB.\nRequired for registration."
        },
        "channel_name": {
          "type": "string",
          "description": "Display name for the new channel (must be unique).\nMapped to 'integration_channels.channel_name'."
        },
        "is_active": {
          "type": "boolean",
          "description": "Activation state upon creation (true for enabled, false for archived/disabled).\nReferential to 'integration_channels.is_active'."
        }
      },
      "required": [
        "channel_code",
        "channel_name",
        "is_active"
      ],
      "description": "Request schema to register a new Integration Channel.\nRefer to advanced API extensibility and omnichannel requirements.\nFully aligned with 'integration_channels' Prisma table (see schema comments for integrity/uniqueness checks).\nDoes not contain PK or archival markers (created/deleted timestamps are system-generated).\n\nSee ERD diagram for further relation structure."
    },
    "IShoppingIntegrationChannel.IUpdate": {
      "type": "object",
      "properties": {
        "channel_name": {
          "type": "string",
          "description": "Display name for the channel. May update business-facing label for integrations.\nSame as 'integration_channels.channel_name'."
        },
        "is_active": {
          "type": "boolean",
          "description": "Set integration channel active or archived status. See is_active field in Prisma schema."
        },
        "deleted_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "If providing, timestamp for soft deletion (archival) for audit purposes.\n\n'null' if re-activating or no archival required."
            },
            {
              "type": "null"
            }
          ],
          "description": "If providing, timestamp for soft deletion (archival) for audit purposes.\n\n'null' if re-activating or no archival required."
        }
      },
      "description": "Request type for updating integration channel configuration or status.\nAllows modification of name and activation/archival state (see advanced requirements for omnichannel routing/audit evidence preservation).\nAlters only mutable business fields as per compliance and operational policy. PK, channel_code, and creation time are immutable.",
      "required": []
    },
    "IShoppingChannelSession.IRequest": {
      "type": "object",
      "properties": {
        "integration_channel_id": {
          "type": "string",
          "format": "uuid",
          "description": "UUID of the integration channel associated with this session.\n\nUsed for filtering sessions to a specific channel.\nReferential integrity with 'channel_sessions.integration_channel_id' in Prisma."
        },
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "UUID of the user associated with the session. Nullable for anonymous/system channels.\nDerived from 'channel_sessions.user_id'."
            },
            {
              "type": "null"
            }
          ],
          "description": "UUID of the user associated with the session. Nullable for anonymous/system channels.\nDerived from 'channel_sessions.user_id'."
        },
        "session_key": {
          "type": "string",
          "description": "Opaque session identifier for advanced session filtering across omnichannel/logging. Based on 'channel_sessions.session_key'."
        },
        "started_at_from": {
          "type": "string",
          "format": "date-time",
          "description": "Lower bound filter on session started at timestamp (>=)."
        },
        "started_at_to": {
          "type": "string",
          "format": "date-time",
          "description": "Upper bound filter on session started at timestamp (<=)."
        },
        "is_active_only": {
          "type": "boolean",
          "description": "If true, filter to only open (non-ended) sessions.\nImplemented by absence of 'ended_at' timestamp (see 'channel_sessions.ended_at')."
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "default": 1,
          "description": "Pagination: page number."
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "default": 100,
          "description": "Pagination: number of records per page (see IPage.IPagination for more details on standard paging)."
        }
      },
      "description": "Filtering and pagination parameters for retrieving channel session lists.\nAligns with omnichannel evidence and monitoring requirements. Each field references 'channel_sessions' column in Prisma schema and the ERD. Supports evidence and audit trail requirements for session tracing.",
      "required": []
    },
    "IPageIShoppingChannelSession": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Paging information for navigating channel session result sets.\nImplements evidence, compliance, and dashboard navigation for omnichannel analytics."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingChannelSession"
          },
          "description": "List of channel session records matching filters.\nImplements evidence and user journey traceability for omnichannel session management."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated search results for IntegrationChannel session records.\n\nFulfills monitoring, analytics, and compliance evidence requirements for session management (see omnichannel and scalability requirements)."
    },
    "IShoppingChannelSession": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "Primary key and unique identifier for the channel session (see Prisma 'channel_sessions.id')."
        },
        "integration_channel_id": {
          "type": "string",
          "format": "uuid",
          "description": "Foreign key to the integration_channel entity for origin channel routing.\nImplements omnichannel tracking (see ERD/Prisma)."
        },
        "api_token_id": {
          "type": "string",
          "format": "uuid",
          "description": "API access token used in this session ('channel_sessions.api_token_id')."
        },
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "User's UUID associated with this session (nullable if anonymous/api service session).\nSee 'channel_sessions.user_id' in schema."
            },
            {
              "type": "null"
            }
          ],
          "description": "User's UUID associated with this session (nullable if anonymous/api service session).\nSee 'channel_sessions.user_id' in schema."
        },
        "session_key": {
          "type": "string",
          "description": "Opaque session key for identifier in omnichannel architectures.\nImplements traceable cross-channel interaction chains (see 'channel_sessions.session_key')."
        },
        "started_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the session started ('channel_sessions.started_at')."
        },
        "ended_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Timestamp when session ended ('channel_sessions.ended_at'). Null means active."
            },
            {
              "type": "null"
            }
          ],
          "description": "Timestamp when session ended ('channel_sessions.ended_at'). Null means active."
        }
      },
      "required": [
        "id",
        "integration_channel_id",
        "api_token_id",
        "session_key",
        "started_at"
      ],
      "description": "Integration Channel Session entity for omnichannel evidence, analytics, and compliance.\n\nFully normalized to Prisma schema 'channel_sessions', enabling traceable analytics, incident forensics, and session metadata for audit.\nRefer to ERD for navigation tracing across integration sources."
    },
    "IShoppingChannelSession.ICreate": {
      "type": "object",
      "properties": {
        "integration_channel_id": {
          "type": "string",
          "format": "uuid",
          "description": "Integration channel to assign session ('channel_sessions.integration_channel_id')."
        },
        "api_token_id": {
          "type": "string",
          "format": "uuid",
          "description": "Credential token for the session (FK to 'api_tokens')."
        },
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "User of the session if known (nullable for anonymous sessions)."
            },
            {
              "type": "null"
            }
          ],
          "description": "User of the session if known (nullable for anonymous sessions)."
        },
        "session_key": {
          "type": "string",
          "description": "Generated key to identify session instance (see 'channel_sessions.session_key')."
        },
        "started_at": {
          "type": "string",
          "format": "date-time",
          "description": "Session start time (evidence field, 'channel_sessions.started_at')."
        }
      },
      "required": [
        "integration_channel_id",
        "api_token_id",
        "session_key",
        "started_at"
      ],
      "description": "Request schema for registering a new integration channel session entity.\nReferenced and validated per schemas for session trace, evidence, and compliance.\nDoes not include PK or audit/deletion markers."
    },
    "IShoppingChannelSession.IUpdate": {
      "type": "object",
      "properties": {
        "user_id": {
          "oneOf": [
            {
              "type": "string",
              "format": "uuid",
              "description": "If authenticating a user post-session open, user_id can be assigned here (see 'channel_sessions.user_id'); may be set to null for anonymization."
            },
            {
              "type": "null"
            }
          ],
          "description": "If authenticating a user post-session open, user_id can be assigned here (see 'channel_sessions.user_id'); may be set to null for anonymization."
        },
        "ended_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "Set the session ended timestamp. Setting this value closes the session for all audit and evidence purposes."
            },
            {
              "type": "null"
            }
          ],
          "description": "Set the session ended timestamp. Setting this value closes the session for all audit and evidence purposes."
        }
      },
      "description": "Request schema for updating Integration Channel Session entity.\nUsed in incident management, compliance closure, and user/account updates during session lifecycle.\nPK, session_key, and creation time are immutable.",
      "required": []
    },
    "IShoppingWebhookEvent.IRequest": {
      "type": "object",
      "properties": {
        "integration_channel_id": {
          "type": "string",
          "format": "uuid",
          "description": "Channel ID from which the webhook originated; aligns with 'webhook_events.integration_channel_id' in Prisma schema."
        },
        "event_type": {
          "type": "string",
          "description": "Type/code for webhook event. Filtering and analytics use; reference ERD and 'webhook_events.event_type'."
        },
        "delivery_status": {
          "type": "string",
          "description": "Current code for last delivery state (pending, success, failed). Supports regulatory and client evidence requirements (see 'webhook_events.delivery_status')."
        },
        "destination_url": {
          "type": "string",
          "description": "URL or endpoint to which webhook is/was delivered. Evidence/audit data ('webhook_events.destination_url')."
        },
        "event_hash": {
          "type": "string",
          "description": "Hash or identifier for webhook event payload (see 'webhook_events.event_hash')."
        },
        "page": {
          "type": "integer",
          "format": "int32",
          "default": 1,
          "description": "Paging index for result navigation."
        },
        "limit": {
          "type": "integer",
          "format": "int32",
          "default": 100,
          "description": "Results per page for paging (see IPage.IPagination for navigation context)."
        }
      },
      "description": "Search/filter and paging input for webhook event records in IntegrationChannel architecture.\nAll fields correspond to atomic evidence columns defined in Prisma's 'webhook_events' table for compliance and analytics.",
      "required": []
    },
    "IPageIShoppingWebhookEvent": {
      "type": "object",
      "properties": {
        "pagination": {
          "$ref": "#/components/schemas/IPage.IPagination",
          "description": "Pagination details for browsing webhook event entries.\nImplements advanced query support for compliance evidence and monitoring."
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/IShoppingWebhookEvent"
          },
          "description": "Array of webhook event record objects for current page.\n\nAll properties follow the evidence-preserving, audit-compliant format from 'webhook_events' schema."
        }
      },
      "required": [
        "pagination",
        "data"
      ],
      "description": "Paginated and filterable result set of webhook event records for omnichannel and compliance event monitoring.\n\nAligns with requirements for evidence and analytic support in partner integration architectures."
    },
    "IShoppingWebhookEvent": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid",
          "description": "ID, primary key for webhook event record (see 'webhook_events.id')."
        },
        "integration_channel_id": {
          "type": "string",
          "format": "uuid",
          "description": "Origin channel's UUID for this webhook (see 'webhook_events.integration_channel_id')."
        },
        "event_type": {
          "type": "string",
          "description": "Categorization for business event triggering webhook (Prisma: 'event_type')."
        },
        "destination_url": {
          "type": "string",
          "description": "Target endpoint for webhook delivery. Used for compliance evidence (column: 'destination_url')."
        },
        "attempt_count": {
          "type": "integer",
          "format": "int32",
          "description": "Number of delivery attempts (column: 'attempt_count')."
        },
        "last_attempted_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp for the last delivery attempt; for evidence retention and audit ('last_attempted_at')."
        },
        "delivered_at": {
          "oneOf": [
            {
              "type": "string",
              "format": "date-time",
              "description": "When webhook was finally delivered; 'null' means not delivered (Prisma: 'delivered_at')."
            },
            {
              "type": "null"
            }
          ],
          "description": "When webhook was finally delivered; 'null' means not delivered (Prisma: 'delivered_at')."
        },
        "delivery_status": {
          "type": "string",
          "description": "Latest code for delivery result ('delivery_status', one of: 'pending','success','failed')."
        },
        "event_hash": {
          "type": "string",
          "description": "Hash of the payload (Prisma: 'event_hash')."
        }
      },
      "required": [
        "id",
        "integration_channel_id",
        "event_type",
        "destination_url",
        "attempt_count",
        "last_attempted_at",
        "delivery_status",
        "event_hash"
      ],
      "description": "Webhook Event record as per integration evidence/analytics requirements.\n\nImplements strict evidence/audit support for partner integrations or system notifications, as defined in 'webhook_events' table of Prisma schema and ERD.\nFields provide business traceability, retry, and success/failure state management per requirements."
    },
    "IShoppingWebhookEvent.ICreate": {
      "type": "object",
      "properties": {
        "integration_channel_id": {
          "type": "string",
          "format": "uuid",
          "description": "The unique identifier of the integration channel this webhook event is associated with.\n\nRefers to the `integration_channels.id` and ensures that every webhook event is linked to a valid integration. This is necessary for audit, evidence preservation, and regulatory tracing, as well as for access control and partner-specific analytics.\n\nCompliance: Field is required, and the UUID must reference an active integration channel. See Prisma schema and ERD for integration channel relationships."
        },
        "event_type": {
          "type": "string",
          "description": "The business or technical event type—for example, 'order.updated', 'payment.completed', or custom types aligned with omnichannel integration.\n\nEvent type establishes filtering and classification for audit, compliance, notification routing, and evidence reporting. This atomic string must not be empty and should conform to business/technical naming conventions.\n\nSee detailed examples in requirements for extensibility and how this enables plug-and-play support of partners/APIs."
        },
        "destination_url": {
          "type": "string",
          "maxLength": 80000,
          "description": "Full URI to which the webhook event is delivered.\n\nReference-only field (data is never duplicated). Required for compliance (evidence provenance, audit trail) and for troubleshooting partner delivery failures or incident response.\n\nSupports extensibility for cloud/batch/email/webhook integrations. For regulatory audit, must be stored and not altered post-creation."
        },
        "attempt_count": {
          "type": "integer",
          "description": "Number of delivery attempts for this webhook event (monotonically increasing).\n\nAudit/evidence value: shows retry logic and delivery lifecycle (for analytics, partner SLAs, and incident review). Will be updated by internal system as delivery occurs. Initial value at creation is typically 0."
        },
        "last_attempted_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp (ISO8601/date-time) of the last delivery attempt for this webhook event.\n\nSupports regulatory evidence and troubleshooting, required for audit of delivery attempts and compliance with service guarantees. Nullable on creation (no attempts yet)."
        },
        "delivered_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp (ISO8601/date-time) when webhook was successfully delivered.\n\nEvidence for SLA, audit, and incident response. Required for regulatory and service compliance; may be null at creation if not yet delivered."
        },
        "delivery_status": {
          "type": "string",
          "description": "Code indicating delivery progress, such as 'pending', 'success', or 'failed'.\n\nBusiness value: enables SLA compliance, monitoring, and evidence preservation (chain-of-events for audit/reporting). Must be defined at event creation (typically 'pending')."
        },
        "event_hash": {
          "type": "string",
          "description": "A SHA256 or similar cryptographic hash of the webhook event/request body.\n\nSupports evidence integrity, compliance, non-repudiation, and audit chain-of-custody. Must be unique per event+payload and stored for forensic review."
        }
      },
      "required": [
        "integration_channel_id",
        "event_type",
        "destination_url",
        "delivery_status",
        "event_hash"
      ],
      "description": "Payload for creating a new webhook event record in the `webhook_events` table.\n\nImplements the requirements for omnichannel compliance, regulatory evidence preservation, and auditable event delivery. All fields are atomic, and no information is duplicated; relationships are maintained by identifiers. Description and requirements are derived directly from the detailed Prisma schema and requirements analysis (see documentation for evidence, SLA, AI/analytics touchpoints).\n\nThis schema is extensible for new types or relationships as the omnichannel/API requirements evolve. Required for all system, admin, or partner-driven webhook event registrations."
    },
    "IShoppingWebhookEvent.IUpdate": {
      "type": "object",
      "properties": {
        "attempt_count": {
          "type": "integer",
          "description": "Updated number of delivery attempts for the webhook event.\n\nMaintains evidence integrity for delivery lifecycle, incident analysis, retry logic, and SLA monitoring. Must be monotonically increasing; required for compliance analytics and forensics (audit trails reference this field for each update)."
        },
        "last_attempted_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of the most recent delivery attempt (ISO8601). Updated upon each delivery retry, used for audit, evidence, SLA, and troubleshooting.\n\nMust always reference the latest attempt for forensic chain and compliance review. Nullable if no attempts yet occurred."
        },
        "delivered_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when successful delivery occurred. Set upon successful delivery, null otherwise. Retains evidence value for compliance and partner SLA management (regulatory export, legal dispute resolution)."
        },
        "delivery_status": {
          "type": "string",
          "description": "The (updated) delivery status of this webhook event: atomic values like 'pending', 'success', or 'failed'.\n\nThis must be set on all relevant updates to reflect current delivery lifecycle and must be compliant with regulated business logic. Used for compliance, audit, and continuous monitoring."
        },
        "event_hash": {
          "type": "string",
          "description": "The cryptographic hash of the webhook event payload (unchanging if underlying data is immutable). Must be recorded for evidence chain and integrity audit. Updates only if system allows event replay or hash correction (per compliance rule). Changes should be limited, always logged for audit integrity."
        }
      },
      "description": "Schema for updating webhook event information in the `webhook_events` table.\n\nAllows strictly controlled updates to event metadata such as delivery attempts, status, and timestamps, as required for compliance, non-repudiation, chain-of-custody, partner monitoring, and regulatory reporting. No business data or referenced entity is modified here; only evidence, compliance, and operational metadata are updated. See the Prisma schema and requirements for further detail on updateable fields and audit/evidence flows.\n\nThis schema maintains strict evidence, compliance, and logging requirements in line with best practices for omnichannel, AI-native, and partner-facing systems. Only authorized users or system integrations may invoke updates, and all changes are append-only or versioned in audit logs. Extensible for compliance/regulatory evolution.",
      "required": []
    }
  }
}