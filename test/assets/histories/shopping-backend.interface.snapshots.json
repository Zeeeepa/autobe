[{"event":{"type":"interfaceStart","created_at":"2025-07-24T19:25:05.598Z","reason":"Step to the interface designing after DB schema generation","step":0},"tokenUsage":{"facade":{"aggregate":{"total":2756992,"input":{"total":2604289,"cached":103168},"output":{"total":152703,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":2756992,"input":{"total":2604289,"cached":103168},"output":{"total":152703,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"analyze":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"prisma":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"interface":{"aggregate":{"total":2756992,"input":{"total":2604289,"cached":103168},"output":{"total":152703,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":2756992,"input":{"total":2604289,"cached":103168},"output":{"total":152703,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"test":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"realize":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}}}},{"event":{"type":"interfaceEndpoints","endpoints":[{"path":"/ai-mall/files","method":"patch"},{"path":"/ai-mall/files/{id}","method":"get"},{"path":"/ai-mall/files","method":"post"},{"path":"/ai-mall/files/{id}","method":"put"},{"path":"/ai-mall/files/{id}","method":"delete"},{"path":"/ai-mall/fileUsages","method":"patch"},{"path":"/ai-mall/fileUsages/{id}","method":"get"},{"path":"/ai-mall/fileUsages","method":"post"},{"path":"/ai-mall/fileUsages/{id}","method":"put"},{"path":"/ai-mall/fileUsages/{id}","method":"delete"}],"created_at":"2025-07-24T19:25:05.599Z","step":0},"tokenUsage":{"facade":{"aggregate":{"total":2814167,"input":{"total":2661301,"cached":103168},"output":{"total":152866,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":2814167,"input":{"total":2661301,"cached":103168},"output":{"total":152866,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"analyze":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"prisma":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"interface":{"aggregate":{"total":2814167,"input":{"total":2661301,"cached":103168},"output":{"total":152866,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":2814167,"input":{"total":2661301,"cached":103168},"output":{"total":152866,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"test":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"realize":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}}}},{"event":{"type":"interfaceOperations","operations":[{"specification":"This operation retrieves a list of ai_mall_files entities with advanced search, filtering, and pagination. The ai_mall_files table models the mall's uploaded file/media repository, tracking details about each file but not the file binary itself. Filters may query columns such as uri, name, type, size, created_at, or expires_at (all actual columns in the schema). Soft-deletion is supported via expires_at for expiry, but not classic deleted_at. Descriptions and parameters must reference only actual columns present and explain that no download occurs—this is metadata only. Parameters conform to strong searching logic. This does NOT allow file creation or binary upload, only search and pagination across file metadata records maintained on ai_mall_files table.","description":"The PATCH /ai-mall/files endpoint queries the ai_mall_files table for file metadata records. It supports filters and search on actual schema columns: uri, name, type, size, created_at, expires_at (if provided; note there is no classic deleted_at or updated_by field in this schema). Results are paginated and sorted based on criteria in the request body. No file download occurs; only metadata for mall resource file attachments is returned. This model supports references to other entities via ai_mall_file_usages, but such links are not materialized here. Results exclude non-existent columns by design and return only metadata as found in the Prisma schema.","summary":"Query a paginated list of ai_mall_files metadata (File repository table, pure metadata).","parameters":[],"requestBody":{"description":"Search, filter, and pagination information for ai_mall_files listing.","typeName":"IAiMallFiles.IRequest"},"responseBody":{"description":"Paginated results of ai_mall_files with metadata only.","typeName":"IPageAiMallFiles"},"authorizationRoles":null,"name":"index","path":"/ai-mall/files","method":"patch"},{"specification":"This operation retrieves the metadata for a single ai_mall_files record, identified by its UUID. The ai_mall_files table is the master repository of uploaded file metadata for mall resources. Only schema fields (id, uri, name, type, size, created_at, expires_at) are returned; no file download or binary content. This endpoint is for metadata access, supporting audit, previews, and admin review. It does not update, upload, or delete references. Accept only the existing schema properties—no extra audit fields or non-existent columns referenced.","description":"GET /ai-mall/files/{id} retrieves a single ai_mall_files record by UUID. Only metadata fields present in the schema (id, uri, name, type, size, created_at, expires_at) are returned. No raw file download occurs. This is used for resource tracking, admin audit, and detailed file metadata view. Non-existent columns (e.g., deleted_at, updated_by, etc.) are not present in this endpoint. Handles errors if the UUID does not exist by standard error response schema.","summary":"Fetch metadata for a single ai_mall_files record by id (metadata only, no binary content).","parameters":[{"name":"id","description":"UUID of the file metadata record in ai_mall_files to retrieve.","schema":{"type":"string","format":"uuid"}}],"requestBody":null,"responseBody":{"description":"The ai_mall_files metadata for the specified id.","typeName":"IAiMallFiles"},"authorizationRoles":null,"name":"at","path":"/ai-mall/files/{id}","method":"get"},{"specification":"This operation creates a new ai_mall_files metadata record. The ai_mall_files table is the canonical store for file metadata (not content) for mall resources. Actual upload/storage of binary content is handled externally; this only registers the file's metadata (uri, name, type, size, created_at, expires_at if set). Accepts a request body matching the Prisma schema; all fields must exist as defined (e.g., uri, name, type, size, created_at, expires_at). No non-existent or extra properties. The endpoint does not perform any blob upload or CDN integration—only metadata registration for audit and resource referencing in business flows. Handles schema validation errors if any required fields are missing.","description":"POST /ai-mall/files creates a new ai_mall_files metadata record, registering a new file location and its properties for the mall system (not uploading the binary itself). Properties present in the request must match exactly those available in the schema (uri, name, type, size, created_at, expires_at). No fields such as deleted_at or last_modified; only existing fields. The resulting record is available for referencing as attachment in other domain entities (such as products or articles).","summary":"Create a new ai_mall_files metadata record for resource attachment.","parameters":[],"requestBody":{"description":"New ai_mall_files metadata for file registration (no binary upload).","typeName":"IAiMallFiles.ICreate"},"responseBody":{"description":"Created ai_mall_files metadata record.","typeName":"IAiMallFiles"},"authorizationRoles":null,"name":"create","path":"/ai-mall/files","method":"post"},{"specification":"Updates an existing ai_mall_files metadata record, identified by UUID. The ai_mall_files table stores metadata for files uploaded to the mall system. Only fields actually present in the Prisma schema can be updated (uri, name, type, size, expires_at); cannot change id or created_at. Does not modify raw binary data or perform any file storage action—metadata only. All update attempts referencing non-existent columns will fail schema validation. Hard accurate update of metadata, following only real table columns. Handles not-found errors for invalid ids.","description":"PUT /ai-mall/files/{id} updates an existing ai_mall_files record by UUID, allowing update to metadata fields that actually exist in the schema (uri, name, type, size, expires_at). Cannot alter id or created_at. No upload/download action occurs—purely metadata maintenance. Use-cases include correcting URI, updating MIME type, or extending expiration. Fails on any reference to columns not defined in ai_mall_files table.","summary":"Update fields of an ai_mall_files metadata record (uuid key, metadata only).","parameters":[{"name":"id","description":"UUID of the ai_mall_files metadata record to update.","schema":{"type":"string","format":"uuid"}}],"requestBody":{"description":"Updated ai_mall_files metadata fields allowed in the schema (uri, name, type, size, expires_at).","typeName":"IAiMallFiles.IUpdate"},"responseBody":{"description":"Updated metadata of the ai_mall_files record.","typeName":"IAiMallFiles"},"authorizationRoles":null,"name":"update","path":"/ai-mall/files/{id}","method":"put"},{"specification":"Deletes an ai_mall_files metadata record, identified by UUID. The ai_mall_files table does NOT have a traditional soft delete column (no deleted_at or similar). Deletion therefore means a hard, irreversible removal of the metadata (not the file binary, which may be handled externally). This action is not reversible, and future operations referencing this UUID will fail. Endpoint should explain that this is a true hard-deletion by business logic (actual field presence confirmed). No references to non-existent soft-deletion columns are permitted in the logic or documentation.","description":"DELETE /ai-mall/files/{id} performs a hard delete (irreversible) of the ai_mall_files metadata record by UUID. As this table lacks a soft delete field (no deleted_at or is_deleted column), the record is permanently purged. Binary file removal, if any, must be coordinated through external mechanisms or storage integrations, but this endpoint only removes the metadata. References to this id will fail after deletion. All logic should reference only existing schema fields.","summary":"Hard delete a file metadata record in ai_mall_files (permanent removal, no soft delete).","parameters":[{"name":"id","description":"UUID of the ai_mall_files metadata record to delete.","schema":{"type":"string","format":"uuid"}}],"requestBody":null,"responseBody":null,"authorizationRoles":null,"name":"erase","path":"/ai-mall/files/{id}","method":"delete"},{"specification":"Retrieves a paginated, searchable list of ai_mall_file_usages, which record individual associations of files (files table) to domain resources (products, promotions, articles, etc). The ai_mall_file_usages table contains only metadata for file attachment: ai_mall_file_id (file FK), usage_domain (domain name), usage_field (attachment context, e.g., \"cover_image\"), and entity_id (UUID of attached entity). Filters, search, and sorting operate strictly on these columns (no extra columns). Results are pure attachment log, used for audit, display, and tracing resource-file links.","description":"PATCH /ai-mall/fileUsages lists paged ai_mall_file_usages records, allowing filters, search, and pagination using only the columns: ai_mall_file_id, usage_domain, usage_field, entity_id, created_at (as per schema). There are no non-existent columns (deleted_at, creator, etc.), and only the present ones are permitted for search/sort. Returned data traces each association of a file to a business entity for admin audit, site feature listing, or file reference traceability.","summary":"Search and list ai_mall_file_usages records (file-to-entity associations registry).","parameters":[],"requestBody":{"description":"Filtering, search, and pagination for ai_mall_file_usages listing.","typeName":"IAiMallFileUsages.IRequest"},"responseBody":{"description":"Paginated results of ai_mall_file_usages records.","typeName":"IPageAiMallFileUsages"},"authorizationRoles":null,"name":"index","path":"/ai-mall/fileUsages","method":"patch"},{"specification":"Retrieves the details of a single ai_mall_file_usages record by UUID. The ai_mall_file_usages table stores only association/attachment metadata (id, ai_mall_file_id, usage_domain, usage_field, entity_id, created_at). No file content or external entity details are present. This endpoint is for tracing file associations and is used by business logic for resource/file linking and audit. Accepts only actual fields from Prisma schema.","description":"GET /ai-mall/fileUsages/{id} fetches a single record from ai_mall_file_usages by UUID. Response contains only the columns available in the schema (id, ai_mall_file_id, usage_domain, usage_field, entity_id, created_at). This model acts as the attachment index, supporting listing, querying, and audit logic for file-resource links. No business entity or file content data is returned, only the pure linking/usage entry.","summary":"Retrieve a single ai_mall_file_usages record by id (file/entity association entry).","parameters":[{"name":"id","description":"UUID of the ai_mall_file_usages association record to retrieve.","schema":{"type":"string","format":"uuid"}}],"requestBody":null,"responseBody":{"description":"The ai_mall_file_usages record for the provided id.","typeName":"IAiMallFileUsages"},"authorizationRoles":null,"name":"at","path":"/ai-mall/fileUsages/{id}","method":"get"},{"specification":"Creates a new ai_mall_file_usages association record, logging the relationship of an uploaded file to a particular business entity/context. ai_mall_file_usages records are used to track each case when a file is attached (as a cover image, banner, thumbnail, etc) to products, promotions, articles, or other domains. Fields must exactly match the schema: ai_mall_file_id (file to link), usage_domain (domain context), usage_field (attachment field), entity_id (entity linked to), and created_at. No extraneous columns or invented fields. This operation is for pure usage metadata; it cannot upload files or register business objects.","description":"POST /ai-mall/fileUsages creates a new ai_mall_file_usages association record, with metadata pointing to file id, usage domain, usage field, and entity id. Only these fields and created_at are present per schema, with no non-existent columns permitted. The new linkage can be traced, audited, or displayed in associated UI modules for file reference purposes. No file content is uploaded here—purely attaches metadata/reference entry.","summary":"Create an ai_mall_file_usages record (file-to-entity linkage metadata).","parameters":[],"requestBody":{"description":"File association metadata per ai_mall_file_usages schema.","typeName":"IAiMallFileUsages.ICreate"},"responseBody":{"description":"Created ai_mall_file_usages association record.","typeName":"IAiMallFileUsages"},"authorizationRoles":null,"name":"create","path":"/ai-mall/fileUsages","method":"post"},{"specification":"Updates an existing ai_mall_file_usages record identified by UUID. This table is used to log and maintain file-to-domain attachment references. Only schema fields (ai_mall_file_id, usage_domain, usage_field, entity_id) can be updated. id and created_at are immutable. Does not alter the file itself or any business domain entity—pure reference metadata. Requests referencing non-existent fields are schema errors. This is for correcting or re-pointing resource attachments in mall operations or admin interfaces.","description":"PUT /ai-mall/fileUsages/{id} updates a record in ai_mall_file_usages by id, changing only those columns actually present in the schema (ai_mall_file_id, usage_domain, usage_field, entity_id). id and created_at cannot be altered. This action does not affect the file itself or the linked business object—only metadata about the relationship. Used in scenarios needing to update or fix resource links or references in the attachment index. No invented or non-existent schema columns referenced.","summary":"Update an ai_mall_file_usages association record (reference metadata only, by id).","parameters":[{"name":"id","description":"UUID of the ai_mall_file_usages record to update.","schema":{"type":"string","format":"uuid"}}],"requestBody":{"description":"Updated association metadata per ai_mall_file_usages schema (ai_mall_file_id, usage_domain, usage_field, entity_id).","typeName":"IAiMallFileUsages.IUpdate"},"responseBody":{"description":"The updated ai_mall_file_usages record.","typeName":"IAiMallFileUsages"},"authorizationRoles":null,"name":"update","path":"/ai-mall/fileUsages/{id}","method":"put"},{"specification":"Deletes an ai_mall_file_usages record by id. The ai_mall_file_usages table does NOT have a deleted_at or soft-delete mechanism—deletion is an immediate, irreversible removal of the association (link). No referencing non-existent columns; after this, all business entity references to this file association should be considered invalid. This endpoint is for admin or audit clean-up of file-entity usage tracking and does not influence the file or domain entity itself. Permanent removal only.","description":"DELETE /ai-mall/fileUsages/{id} hard-deletes the ai_mall_file_usages linkage record by UUID. As the table lacks a soft-delete column (such as deleted_at), the deletion is permanent and cannot be reversed. Only the pure association/metadata record is deleted; the actual file binary and business entity records are unaffected. Requests referencing non-existent fields or soft delete will fail. Used for admin/resource audit and clean-up scenarios.","summary":"Hard delete of a file usage association record (immediate, no soft delete).","parameters":[{"name":"id","description":"UUID of the ai_mall_file_usages linkage record to delete.","schema":{"type":"string","format":"uuid"}}],"requestBody":null,"responseBody":null,"authorizationRoles":null,"name":"erase","path":"/ai-mall/fileUsages/{id}","method":"delete"}],"completed":10,"total":10,"step":0,"created_at":"2025-07-24T19:26:14.400Z"},"tokenUsage":{"facade":{"aggregate":{"total":2878065,"input":{"total":2721863,"cached":103168},"output":{"total":156202,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":2878065,"input":{"total":2721863,"cached":103168},"output":{"total":156202,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"analyze":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"prisma":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"interface":{"aggregate":{"total":2878065,"input":{"total":2721863,"cached":103168},"output":{"total":156202,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":2878065,"input":{"total":2721863,"cached":103168},"output":{"total":156202,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"test":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"realize":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}}}},{"event":{"type":"interfaceComponents","components":{"schemas":{"IAiMallFiles.IRequest":{"type":"object","properties":{"page":{"type":"integer","format":"uint32","description":"Page number for pagination on file metadata list. Optional. Follows IPage.IRequest standard. Use for paged search in the file repository.\n\nPrisma schema: not specific to ai_mall_files, but aligns with standard API pagination, required for consistent paging of results."},"limit":{"type":"integer","format":"uint32","description":"Limit of file metadata records to retrieve per page. Default is 100 if not provided. Aligns to IPage.IRequest usage.\n\nMapped to paginated query logic for ai_mall_files; not a column in ai_mall_files schema itself."},"uri":{"type":"string","description":"Filter: Permanent location of the file in cloud, CDN, or on-prem storage. String match or partial search for file URI.\n\nFrom ai_mall_files.uri. Used to narrow results by attached resource location."},"name":{"type":"string","description":"Filter: Original file name with extension. Supports searching for uploaded resource by name.\n\nFrom ai_mall_files.name. Used for querying by file name. Business use: admin/resource lookup."},"type":{"type":"string","description":"Filter: Media type (MIME), e.g., 'image/png'. Allows filtering uploaded files by type or documents by MIME.\n\nFrom ai_mall_files.type. Used to find files of certain content type, e.g., images, videos."},"size":{"type":"integer","description":"Filter: File size in bytes. Optional range-based querying possible if supported by API. Search for files by size.\n\nFrom ai_mall_files.size. Useful for large-file management and quota enforcement."},"created_at":{"type":"string","format":"date-time","description":"Filter: Upload timestamp in ISO8601. Allows date-based queries for file audit, e.g., last 24h.\n\nFrom ai_mall_files.created_at. For audit/history lookup."},"expires_at":{"type":"string","format":"date-time","description":"Filter: Optional expiration/deletion timestamp for files. Allows search for files expiring soon or already expired.\n\nFrom ai_mall_files.expires_at. Enables resource lifecycle management in admin flows."}},"required":[],"description":"Request body for searching/paginating ai_mall_files (mall resource file metadata repository). All filter properties directly reference columns from ai_mall_files unless noted. Pagination is standard (page, limit). No upload/binary, only search metadata.\n\nBuilt for PATCH /ai-mall/files endpoint."},"IPageAiMallFiles":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/IPage.IPagination"},"data":{"type":"array","items":{"$ref":"#/components/schemas/IAiMallFiles"},"description":"A list of ai_mall_files metadata records for the result page. Each conforms to the IAiMallFiles schema.\n\nSee ai_mall_files table and IAiMallFiles documentation."}},"required":["pagination","data"],"description":"Paginated result of ai_mall_files metadata search, following IPage<T> convention.\n\nPagination information and a list of AiMallFiles records as per patch /ai-mall/files."},"IAiMallFiles":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Primary Key. Unique identifier for file metadata record.\n\nFrom ai_mall_files.id"},"uri":{"type":"string","description":"Permanent location of file in cloud, CDN, or on-premises storage. Used to reference files from business domain entities (products, articles, etc.).\n\nFrom ai_mall_files.uri"},"name":{"type":"string","description":"Original file name, including extension. For display, auditing, and admin review.\n\nFrom ai_mall_files.name"},"type":{"type":"string","description":"MIME type, e.g., 'image/png'. Used to identify content type for preview or filtering.\n\nFrom ai_mall_files.type"},"size":{"type":"integer","description":"File size in bytes. Indicates resource size for quotas and previews.\n\nFrom ai_mall_files.size"},"created_at":{"type":"string","format":"date-time","description":"File metadata creation/upload timestamp in ISO8601 format.\n\nFrom ai_mall_files.created_at."},"expires_at":{"oneOf":[{"type":"string","format":"date-time","description":"Optional expiration/deletion timestamp. Null if not set. Used for file lifecycle administration and scheduled purging.\n\nFrom ai_mall_files.expires_at."},{"type":"null"}],"description":"Optional expiration/deletion timestamp. Null if not set. Used for file lifecycle administration and scheduled purging.\n\nFrom ai_mall_files.expires_at."}},"required":["id","uri","name","type","size","created_at"],"description":"A single ai_mall_files metadata record representing resource attachment to mall entities. Core properties defined in ai_mall_files table. No binary upload, just metadata.\n\nSee ai_mall_files Prisma schema."},"IAiMallFiles.ICreate":{"type":"object","properties":{"uri":{"type":"string","description":"Permanent storage URI of the file. Must be set on creation for resource lookup.\n\nFrom ai_mall_files.uri."},"name":{"type":"string","description":"Original file name and extension as uploaded. Used for identification and display.\n\nFrom ai_mall_files.name."},"type":{"type":"string","description":"Content MIME type (e.g., 'image/png'). Informs uploader and consumer of file format.\n\nFrom ai_mall_files.type."},"size":{"type":"integer","description":"Size of uploaded file, in bytes. Required for catalog administration and quota enforcement.\n\nFrom ai_mall_files.size."},"created_at":{"type":"string","format":"date-time","description":"Upload timestamp (ISO8601). Required for audit and record timestamping.\n\nFrom ai_mall_files.created_at."},"expires_at":{"oneOf":[{"type":"string","format":"date-time","description":"Optional expiration/deletion timestamp. If set, file is scheduled for removal or archiving.\n\nFrom ai_mall_files.expires_at, nullable on creation."},{"type":"null"}],"description":"Optional expiration/deletion timestamp. If set, file is scheduled for removal or archiving.\n\nFrom ai_mall_files.expires_at, nullable on creation."}},"required":["uri","name","type","size","created_at"],"description":"Request schema for creating a new ai_mall_files metadata record. All properties directly map to the ai_mall_files Prisma schema columns.\n\nFor POST /ai-mall/files endpoint."},"IAiMallFiles.IUpdate":{"type":"object","properties":{"uri":{"type":"string","description":"Permanent storage URI. Can be updated for correcting resource references.\n\nFrom ai_mall_files.uri."},"name":{"type":"string","description":"File name. Update to correct display or typo errors.\n\nFrom ai_mall_files.name."},"type":{"type":"string","description":"MIME type. Update when correcting detected file type or after reprocessing.\n\nFrom ai_mall_files.type."},"size":{"type":"integer","description":"Updated file size if changed via replacement or fix.\n\nFrom ai_mall_files.size."},"expires_at":{"oneOf":[{"type":"string","format":"date-time","description":"Expiration or scheduled deletion timestamp for file resource. Null to remove expiration.\n\nFrom ai_mall_files.expires_at."},{"type":"null"}],"description":"Expiration or scheduled deletion timestamp for file resource. Null to remove expiration.\n\nFrom ai_mall_files.expires_at."}},"required":[],"description":"Partial update (all fields optional) request for ai_mall_files. Only updatable fields present in ai_mall_files schema are included. Excludes id, created_at (immutable).\n\nFor PUT /ai-mall/files/{id} endpoint."},"IAiMallFileUsages.IRequest":{"type":"object","properties":{"page":{"type":"integer","format":"uint32","description":"Page for paginated ai_mall_file_usages record retrieval. Standard IPage.IRequest logic."},"limit":{"type":"integer","format":"uint32","description":"Max result count per page of ai_mall_file_usages. Standard IPage.IRequest fallback is 100."},"ai_mall_file_id":{"type":"string","format":"uuid","description":"Filter by linked file's UUID in ai_mall_file_usages.ai_mall_file_id. Restricts attachment records by file."},"usage_domain":{"type":"string","description":"Filter by usage_domain (e.g., 'product', 'promotion', 'article'). Enables audit/search by logical resource type."},"usage_field":{"type":"string","description":"Filter by usage_field (e.g., 'thumbnail', 'cover_image'). Supports attachment lookup per field/role."},"entity_id":{"type":"string","format":"uuid","description":"Filter by UUID of linked business entity. Allows audit of all file associations for one entity."},"created_at":{"type":"string","format":"date-time","description":"Filter by date when usage link was created. Supports time-based audit/review."}},"required":[],"description":"Request schema for searching/listing ai_mall_file_usages records via PATCH /ai-mall/fileUsages. Each property is a permissible filter by actual Prisma schema columns, enabling multi-attribute attachment index retrieval."},"IPageAiMallFileUsages":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/IPage.IPagination"},"data":{"type":"array","items":{"$ref":"#/components/schemas/IAiMallFileUsages"},"description":"Paged ai_mall_file_usages record results. Each record represents one file resource attachment (join to ai_mall_files and any business entity)."}},"required":["pagination","data"],"description":"Paginated result of ai_mall_file_usages query. Follows IPage<T> convention, records are of IAiMallFileUsages type."},"IAiMallFileUsages":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Primary key for usage record (UUID).\n\nFrom ai_mall_file_usages.id"},"ai_mall_file_id":{"type":"string","format":"uuid","description":"Foreign key to file (UUID).\n\nFrom ai_mall_file_usages.ai_mall_file_id"},"usage_domain":{"type":"string","description":"Domain of usage, e.g., 'product', 'article', 'banner'. Used for resource type linkage, not constrained.\n\nFrom ai_mall_file_usages.usage_domain"},"usage_field":{"type":"string","description":"Specific field context for the attachment, e.g., 'cover_image'.\n\nFrom ai_mall_file_usages.usage_field"},"entity_id":{"type":"string","format":"uuid","description":"UUID of attached business entity (product, promotion, etc.).\n\nFrom ai_mall_file_usages.entity_id"},"created_at":{"type":"string","format":"date-time","description":"Timestamp when association was created. For audit trace.\n\nFrom ai_mall_file_usages.created_at"}},"required":["id","ai_mall_file_id","usage_domain","usage_field","entity_id","created_at"],"description":"Single attachment/link record for file resource metadata in ai_mall_file_usages table. Each instance traces one business domain file association, not business data itself."},"IAiMallFileUsages.ICreate":{"type":"object","properties":{"ai_mall_file_id":{"type":"string","format":"uuid","description":"Foreign key to existing file record (UUID). Required for linkage.\n\nFrom ai_mall_file_usages.ai_mall_file_id"},"usage_domain":{"type":"string","description":"Domain context for file use (e.g., 'product', 'promotion').\n\nFrom ai_mall_file_usages.usage_domain."},"usage_field":{"type":"string","description":"Specific field context (e.g., 'thumbnail', 'avatar').\n\nFrom ai_mall_file_usages.usage_field."},"entity_id":{"type":"string","format":"uuid","description":"UUID of business entity to attach file to.\n\nFrom ai_mall_file_usages.entity_id."},"created_at":{"type":"string","format":"date-time","description":"Link creation timestamp (ISO8601). For audit and tracking.\n\nFrom ai_mall_file_usages.created_at."}},"required":["ai_mall_file_id","usage_domain","usage_field","entity_id","created_at"],"description":"Request schema for creating ai_mall_file_usages attachment/link record. All properties must match ai_mall_file_usages schema (except id, which is auto).\n\nUsed for POST /ai-mall/fileUsages."},"IAiMallFileUsages.IUpdate":{"type":"object","properties":{"ai_mall_file_id":{"type":"string","format":"uuid","description":"Update linked file for usage (UUID).\n\nFrom ai_mall_file_usages.ai_mall_file_id."},"usage_domain":{"type":"string","description":"Update to new domain context as per business logic (e.g., 'product').\n\nFrom ai_mall_file_usages.usage_domain."},"usage_field":{"type":"string","description":"Update to new field context for file attachment.\n\nFrom ai_mall_file_usages.usage_field."},"entity_id":{"type":"string","format":"uuid","description":"Update attached business entity ID.\n\nFrom ai_mall_file_usages.entity_id."}},"required":[],"description":"Partial update schema for ai_mall_file_usages. Only updatable fields, strictly matching table columns. PUT /ai-mall/fileUsages/{id}. All fields optional, id/created_at immutable."},"IPage.IPagination":{"type":"object","properties":{"current":{"type":"integer","format":"uint32","description":"Current page number of the result set. Part of standard IPage pagination structure."},"limit":{"type":"integer","format":"uint32","description":"Maximum number of records per page. Used for UI and backend page size determination."},"records":{"type":"integer","format":"uint32","description":"Total number of records in the database for this query. Used to determine pagination page counts."},"pages":{"type":"integer","format":"uint32","description":"Total number of available pages (ceil(records/limit)). Allows frontend to determine last/next."}},"required":["current","limit","records","pages"],"description":"Pagination meta-information for paged result sets. Used in IPage<T>, applies to all paginated list components for mall API."}}},"completed":10,"total":10,"step":0,"created_at":"2025-07-24T19:26:56.084Z"},"tokenUsage":{"facade":{"aggregate":{"total":2938929,"input":{"total":2779746,"cached":103168},"output":{"total":159183,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":2938929,"input":{"total":2779746,"cached":103168},"output":{"total":159183,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"analyze":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"prisma":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"interface":{"aggregate":{"total":2938929,"input":{"total":2779746,"cached":103168},"output":{"total":159183,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":2938929,"input":{"total":2779746,"cached":103168},"output":{"total":159183,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"test":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"realize":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}}}},{"event":{"type":"interfaceComplete","document":{"operations":[{"specification":"This operation retrieves a list of ai_mall_files entities with advanced search, filtering, and pagination. The ai_mall_files table models the mall's uploaded file/media repository, tracking details about each file but not the file binary itself. Filters may query columns such as uri, name, type, size, created_at, or expires_at (all actual columns in the schema). Soft-deletion is supported via expires_at for expiry, but not classic deleted_at. Descriptions and parameters must reference only actual columns present and explain that no download occurs—this is metadata only. Parameters conform to strong searching logic. This does NOT allow file creation or binary upload, only search and pagination across file metadata records maintained on ai_mall_files table.","description":"The PATCH /ai-mall/files endpoint queries the ai_mall_files table for file metadata records. It supports filters and search on actual schema columns: uri, name, type, size, created_at, expires_at (if provided; note there is no classic deleted_at or updated_by field in this schema). Results are paginated and sorted based on criteria in the request body. No file download occurs; only metadata for mall resource file attachments is returned. This model supports references to other entities via ai_mall_file_usages, but such links are not materialized here. Results exclude non-existent columns by design and return only metadata as found in the Prisma schema.","summary":"Query a paginated list of ai_mall_files metadata (File repository table, pure metadata).","parameters":[],"requestBody":{"description":"Search, filter, and pagination information for ai_mall_files listing.","typeName":"IAiMallFiles.IRequest"},"responseBody":{"description":"Paginated results of ai_mall_files with metadata only.","typeName":"IPageAiMallFiles"},"authorizationRoles":null,"name":"index","path":"/ai-mall/files","method":"patch"},{"specification":"This operation retrieves the metadata for a single ai_mall_files record, identified by its UUID. The ai_mall_files table is the master repository of uploaded file metadata for mall resources. Only schema fields (id, uri, name, type, size, created_at, expires_at) are returned; no file download or binary content. This endpoint is for metadata access, supporting audit, previews, and admin review. It does not update, upload, or delete references. Accept only the existing schema properties—no extra audit fields or non-existent columns referenced.","description":"GET /ai-mall/files/{id} retrieves a single ai_mall_files record by UUID. Only metadata fields present in the schema (id, uri, name, type, size, created_at, expires_at) are returned. No raw file download occurs. This is used for resource tracking, admin audit, and detailed file metadata view. Non-existent columns (e.g., deleted_at, updated_by, etc.) are not present in this endpoint. Handles errors if the UUID does not exist by standard error response schema.","summary":"Fetch metadata for a single ai_mall_files record by id (metadata only, no binary content).","parameters":[{"name":"id","description":"UUID of the file metadata record in ai_mall_files to retrieve.","schema":{"type":"string","format":"uuid"}}],"requestBody":null,"responseBody":{"description":"The ai_mall_files metadata for the specified id.","typeName":"IAiMallFiles"},"authorizationRoles":null,"name":"at","path":"/ai-mall/files/{id}","method":"get"},{"specification":"This operation creates a new ai_mall_files metadata record. The ai_mall_files table is the canonical store for file metadata (not content) for mall resources. Actual upload/storage of binary content is handled externally; this only registers the file's metadata (uri, name, type, size, created_at, expires_at if set). Accepts a request body matching the Prisma schema; all fields must exist as defined (e.g., uri, name, type, size, created_at, expires_at). No non-existent or extra properties. The endpoint does not perform any blob upload or CDN integration—only metadata registration for audit and resource referencing in business flows. Handles schema validation errors if any required fields are missing.","description":"POST /ai-mall/files creates a new ai_mall_files metadata record, registering a new file location and its properties for the mall system (not uploading the binary itself). Properties present in the request must match exactly those available in the schema (uri, name, type, size, created_at, expires_at). No fields such as deleted_at or last_modified; only existing fields. The resulting record is available for referencing as attachment in other domain entities (such as products or articles).","summary":"Create a new ai_mall_files metadata record for resource attachment.","parameters":[],"requestBody":{"description":"New ai_mall_files metadata for file registration (no binary upload).","typeName":"IAiMallFiles.ICreate"},"responseBody":{"description":"Created ai_mall_files metadata record.","typeName":"IAiMallFiles"},"authorizationRoles":null,"name":"create","path":"/ai-mall/files","method":"post"},{"specification":"Updates an existing ai_mall_files metadata record, identified by UUID. The ai_mall_files table stores metadata for files uploaded to the mall system. Only fields actually present in the Prisma schema can be updated (uri, name, type, size, expires_at); cannot change id or created_at. Does not modify raw binary data or perform any file storage action—metadata only. All update attempts referencing non-existent columns will fail schema validation. Hard accurate update of metadata, following only real table columns. Handles not-found errors for invalid ids.","description":"PUT /ai-mall/files/{id} updates an existing ai_mall_files record by UUID, allowing update to metadata fields that actually exist in the schema (uri, name, type, size, expires_at). Cannot alter id or created_at. No upload/download action occurs—purely metadata maintenance. Use-cases include correcting URI, updating MIME type, or extending expiration. Fails on any reference to columns not defined in ai_mall_files table.","summary":"Update fields of an ai_mall_files metadata record (uuid key, metadata only).","parameters":[{"name":"id","description":"UUID of the ai_mall_files metadata record to update.","schema":{"type":"string","format":"uuid"}}],"requestBody":{"description":"Updated ai_mall_files metadata fields allowed in the schema (uri, name, type, size, expires_at).","typeName":"IAiMallFiles.IUpdate"},"responseBody":{"description":"Updated metadata of the ai_mall_files record.","typeName":"IAiMallFiles"},"authorizationRoles":null,"name":"update","path":"/ai-mall/files/{id}","method":"put"},{"specification":"Deletes an ai_mall_files metadata record, identified by UUID. The ai_mall_files table does NOT have a traditional soft delete column (no deleted_at or similar). Deletion therefore means a hard, irreversible removal of the metadata (not the file binary, which may be handled externally). This action is not reversible, and future operations referencing this UUID will fail. Endpoint should explain that this is a true hard-deletion by business logic (actual field presence confirmed). No references to non-existent soft-deletion columns are permitted in the logic or documentation.","description":"DELETE /ai-mall/files/{id} performs a hard delete (irreversible) of the ai_mall_files metadata record by UUID. As this table lacks a soft delete field (no deleted_at or is_deleted column), the record is permanently purged. Binary file removal, if any, must be coordinated through external mechanisms or storage integrations, but this endpoint only removes the metadata. References to this id will fail after deletion. All logic should reference only existing schema fields.","summary":"Hard delete a file metadata record in ai_mall_files (permanent removal, no soft delete).","parameters":[{"name":"id","description":"UUID of the ai_mall_files metadata record to delete.","schema":{"type":"string","format":"uuid"}}],"requestBody":null,"responseBody":null,"authorizationRoles":null,"name":"erase","path":"/ai-mall/files/{id}","method":"delete"},{"specification":"Retrieves a paginated, searchable list of ai_mall_file_usages, which record individual associations of files (files table) to domain resources (products, promotions, articles, etc). The ai_mall_file_usages table contains only metadata for file attachment: ai_mall_file_id (file FK), usage_domain (domain name), usage_field (attachment context, e.g., \"cover_image\"), and entity_id (UUID of attached entity). Filters, search, and sorting operate strictly on these columns (no extra columns). Results are pure attachment log, used for audit, display, and tracing resource-file links.","description":"PATCH /ai-mall/fileUsages lists paged ai_mall_file_usages records, allowing filters, search, and pagination using only the columns: ai_mall_file_id, usage_domain, usage_field, entity_id, created_at (as per schema). There are no non-existent columns (deleted_at, creator, etc.), and only the present ones are permitted for search/sort. Returned data traces each association of a file to a business entity for admin audit, site feature listing, or file reference traceability.","summary":"Search and list ai_mall_file_usages records (file-to-entity associations registry).","parameters":[],"requestBody":{"description":"Filtering, search, and pagination for ai_mall_file_usages listing.","typeName":"IAiMallFileUsages.IRequest"},"responseBody":{"description":"Paginated results of ai_mall_file_usages records.","typeName":"IPageAiMallFileUsages"},"authorizationRoles":null,"name":"index","path":"/ai-mall/fileUsages","method":"patch"},{"specification":"Retrieves the details of a single ai_mall_file_usages record by UUID. The ai_mall_file_usages table stores only association/attachment metadata (id, ai_mall_file_id, usage_domain, usage_field, entity_id, created_at). No file content or external entity details are present. This endpoint is for tracing file associations and is used by business logic for resource/file linking and audit. Accepts only actual fields from Prisma schema.","description":"GET /ai-mall/fileUsages/{id} fetches a single record from ai_mall_file_usages by UUID. Response contains only the columns available in the schema (id, ai_mall_file_id, usage_domain, usage_field, entity_id, created_at). This model acts as the attachment index, supporting listing, querying, and audit logic for file-resource links. No business entity or file content data is returned, only the pure linking/usage entry.","summary":"Retrieve a single ai_mall_file_usages record by id (file/entity association entry).","parameters":[{"name":"id","description":"UUID of the ai_mall_file_usages association record to retrieve.","schema":{"type":"string","format":"uuid"}}],"requestBody":null,"responseBody":{"description":"The ai_mall_file_usages record for the provided id.","typeName":"IAiMallFileUsages"},"authorizationRoles":null,"name":"at","path":"/ai-mall/fileUsages/{id}","method":"get"},{"specification":"Creates a new ai_mall_file_usages association record, logging the relationship of an uploaded file to a particular business entity/context. ai_mall_file_usages records are used to track each case when a file is attached (as a cover image, banner, thumbnail, etc) to products, promotions, articles, or other domains. Fields must exactly match the schema: ai_mall_file_id (file to link), usage_domain (domain context), usage_field (attachment field), entity_id (entity linked to), and created_at. No extraneous columns or invented fields. This operation is for pure usage metadata; it cannot upload files or register business objects.","description":"POST /ai-mall/fileUsages creates a new ai_mall_file_usages association record, with metadata pointing to file id, usage domain, usage field, and entity id. Only these fields and created_at are present per schema, with no non-existent columns permitted. The new linkage can be traced, audited, or displayed in associated UI modules for file reference purposes. No file content is uploaded here—purely attaches metadata/reference entry.","summary":"Create an ai_mall_file_usages record (file-to-entity linkage metadata).","parameters":[],"requestBody":{"description":"File association metadata per ai_mall_file_usages schema.","typeName":"IAiMallFileUsages.ICreate"},"responseBody":{"description":"Created ai_mall_file_usages association record.","typeName":"IAiMallFileUsages"},"authorizationRoles":null,"name":"create","path":"/ai-mall/fileUsages","method":"post"},{"specification":"Updates an existing ai_mall_file_usages record identified by UUID. This table is used to log and maintain file-to-domain attachment references. Only schema fields (ai_mall_file_id, usage_domain, usage_field, entity_id) can be updated. id and created_at are immutable. Does not alter the file itself or any business domain entity—pure reference metadata. Requests referencing non-existent fields are schema errors. This is for correcting or re-pointing resource attachments in mall operations or admin interfaces.","description":"PUT /ai-mall/fileUsages/{id} updates a record in ai_mall_file_usages by id, changing only those columns actually present in the schema (ai_mall_file_id, usage_domain, usage_field, entity_id). id and created_at cannot be altered. This action does not affect the file itself or the linked business object—only metadata about the relationship. Used in scenarios needing to update or fix resource links or references in the attachment index. No invented or non-existent schema columns referenced.","summary":"Update an ai_mall_file_usages association record (reference metadata only, by id).","parameters":[{"name":"id","description":"UUID of the ai_mall_file_usages record to update.","schema":{"type":"string","format":"uuid"}}],"requestBody":{"description":"Updated association metadata per ai_mall_file_usages schema (ai_mall_file_id, usage_domain, usage_field, entity_id).","typeName":"IAiMallFileUsages.IUpdate"},"responseBody":{"description":"The updated ai_mall_file_usages record.","typeName":"IAiMallFileUsages"},"authorizationRoles":null,"name":"update","path":"/ai-mall/fileUsages/{id}","method":"put"},{"specification":"Deletes an ai_mall_file_usages record by id. The ai_mall_file_usages table does NOT have a deleted_at or soft-delete mechanism—deletion is an immediate, irreversible removal of the association (link). No referencing non-existent columns; after this, all business entity references to this file association should be considered invalid. This endpoint is for admin or audit clean-up of file-entity usage tracking and does not influence the file or domain entity itself. Permanent removal only.","description":"DELETE /ai-mall/fileUsages/{id} hard-deletes the ai_mall_file_usages linkage record by UUID. As the table lacks a soft-delete column (such as deleted_at), the deletion is permanent and cannot be reversed. Only the pure association/metadata record is deleted; the actual file binary and business entity records are unaffected. Requests referencing non-existent fields or soft delete will fail. Used for admin/resource audit and clean-up scenarios.","summary":"Hard delete of a file usage association record (immediate, no soft delete).","parameters":[{"name":"id","description":"UUID of the ai_mall_file_usages linkage record to delete.","schema":{"type":"string","format":"uuid"}}],"requestBody":null,"responseBody":null,"authorizationRoles":null,"name":"erase","path":"/ai-mall/fileUsages/{id}","method":"delete"}],"components":{"schemas":{"IAiMallFiles.IRequest":{"type":"object","properties":{"page":{"type":"integer","format":"uint32","description":"Page number for pagination on file metadata list. Optional. Follows IPage.IRequest standard. Use for paged search in the file repository.\n\nPrisma schema: not specific to ai_mall_files, but aligns with standard API pagination, required for consistent paging of results."},"limit":{"type":"integer","format":"uint32","description":"Limit of file metadata records to retrieve per page. Default is 100 if not provided. Aligns to IPage.IRequest usage.\n\nMapped to paginated query logic for ai_mall_files; not a column in ai_mall_files schema itself."},"uri":{"type":"string","description":"Filter: Permanent location of the file in cloud, CDN, or on-prem storage. String match or partial search for file URI.\n\nFrom ai_mall_files.uri. Used to narrow results by attached resource location."},"name":{"type":"string","description":"Filter: Original file name with extension. Supports searching for uploaded resource by name.\n\nFrom ai_mall_files.name. Used for querying by file name. Business use: admin/resource lookup."},"type":{"type":"string","description":"Filter: Media type (MIME), e.g., 'image/png'. Allows filtering uploaded files by type or documents by MIME.\n\nFrom ai_mall_files.type. Used to find files of certain content type, e.g., images, videos."},"size":{"type":"integer","description":"Filter: File size in bytes. Optional range-based querying possible if supported by API. Search for files by size.\n\nFrom ai_mall_files.size. Useful for large-file management and quota enforcement."},"created_at":{"type":"string","format":"date-time","description":"Filter: Upload timestamp in ISO8601. Allows date-based queries for file audit, e.g., last 24h.\n\nFrom ai_mall_files.created_at. For audit/history lookup."},"expires_at":{"type":"string","format":"date-time","description":"Filter: Optional expiration/deletion timestamp for files. Allows search for files expiring soon or already expired.\n\nFrom ai_mall_files.expires_at. Enables resource lifecycle management in admin flows."}},"required":[],"description":"Request body for searching/paginating ai_mall_files (mall resource file metadata repository). All filter properties directly reference columns from ai_mall_files unless noted. Pagination is standard (page, limit). No upload/binary, only search metadata.\n\nBuilt for PATCH /ai-mall/files endpoint."},"IPageAiMallFiles":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/IPage.IPagination"},"data":{"type":"array","items":{"$ref":"#/components/schemas/IAiMallFiles"},"description":"A list of ai_mall_files metadata records for the result page. Each conforms to the IAiMallFiles schema.\n\nSee ai_mall_files table and IAiMallFiles documentation."}},"required":["pagination","data"],"description":"Paginated result of ai_mall_files metadata search, following IPage<T> convention.\n\nPagination information and a list of AiMallFiles records as per patch /ai-mall/files."},"IAiMallFiles":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Primary Key. Unique identifier for file metadata record.\n\nFrom ai_mall_files.id"},"uri":{"type":"string","description":"Permanent location of file in cloud, CDN, or on-premises storage. Used to reference files from business domain entities (products, articles, etc.).\n\nFrom ai_mall_files.uri"},"name":{"type":"string","description":"Original file name, including extension. For display, auditing, and admin review.\n\nFrom ai_mall_files.name"},"type":{"type":"string","description":"MIME type, e.g., 'image/png'. Used to identify content type for preview or filtering.\n\nFrom ai_mall_files.type"},"size":{"type":"integer","description":"File size in bytes. Indicates resource size for quotas and previews.\n\nFrom ai_mall_files.size"},"created_at":{"type":"string","format":"date-time","description":"File metadata creation/upload timestamp in ISO8601 format.\n\nFrom ai_mall_files.created_at."},"expires_at":{"oneOf":[{"type":"string","format":"date-time","description":"Optional expiration/deletion timestamp. Null if not set. Used for file lifecycle administration and scheduled purging.\n\nFrom ai_mall_files.expires_at."},{"type":"null"}],"description":"Optional expiration/deletion timestamp. Null if not set. Used for file lifecycle administration and scheduled purging.\n\nFrom ai_mall_files.expires_at."}},"required":["id","uri","name","type","size","created_at"],"description":"A single ai_mall_files metadata record representing resource attachment to mall entities. Core properties defined in ai_mall_files table. No binary upload, just metadata.\n\nSee ai_mall_files Prisma schema."},"IAiMallFiles.ICreate":{"type":"object","properties":{"uri":{"type":"string","description":"Permanent storage URI of the file. Must be set on creation for resource lookup.\n\nFrom ai_mall_files.uri."},"name":{"type":"string","description":"Original file name and extension as uploaded. Used for identification and display.\n\nFrom ai_mall_files.name."},"type":{"type":"string","description":"Content MIME type (e.g., 'image/png'). Informs uploader and consumer of file format.\n\nFrom ai_mall_files.type."},"size":{"type":"integer","description":"Size of uploaded file, in bytes. Required for catalog administration and quota enforcement.\n\nFrom ai_mall_files.size."},"created_at":{"type":"string","format":"date-time","description":"Upload timestamp (ISO8601). Required for audit and record timestamping.\n\nFrom ai_mall_files.created_at."},"expires_at":{"oneOf":[{"type":"string","format":"date-time","description":"Optional expiration/deletion timestamp. If set, file is scheduled for removal or archiving.\n\nFrom ai_mall_files.expires_at, nullable on creation."},{"type":"null"}],"description":"Optional expiration/deletion timestamp. If set, file is scheduled for removal or archiving.\n\nFrom ai_mall_files.expires_at, nullable on creation."}},"required":["uri","name","type","size","created_at"],"description":"Request schema for creating a new ai_mall_files metadata record. All properties directly map to the ai_mall_files Prisma schema columns.\n\nFor POST /ai-mall/files endpoint."},"IAiMallFiles.IUpdate":{"type":"object","properties":{"uri":{"type":"string","description":"Permanent storage URI. Can be updated for correcting resource references.\n\nFrom ai_mall_files.uri."},"name":{"type":"string","description":"File name. Update to correct display or typo errors.\n\nFrom ai_mall_files.name."},"type":{"type":"string","description":"MIME type. Update when correcting detected file type or after reprocessing.\n\nFrom ai_mall_files.type."},"size":{"type":"integer","description":"Updated file size if changed via replacement or fix.\n\nFrom ai_mall_files.size."},"expires_at":{"oneOf":[{"type":"string","format":"date-time","description":"Expiration or scheduled deletion timestamp for file resource. Null to remove expiration.\n\nFrom ai_mall_files.expires_at."},{"type":"null"}],"description":"Expiration or scheduled deletion timestamp for file resource. Null to remove expiration.\n\nFrom ai_mall_files.expires_at."}},"required":[],"description":"Partial update (all fields optional) request for ai_mall_files. Only updatable fields present in ai_mall_files schema are included. Excludes id, created_at (immutable).\n\nFor PUT /ai-mall/files/{id} endpoint."},"IAiMallFileUsages.IRequest":{"type":"object","properties":{"page":{"type":"integer","format":"uint32","description":"Page for paginated ai_mall_file_usages record retrieval. Standard IPage.IRequest logic."},"limit":{"type":"integer","format":"uint32","description":"Max result count per page of ai_mall_file_usages. Standard IPage.IRequest fallback is 100."},"ai_mall_file_id":{"type":"string","format":"uuid","description":"Filter by linked file's UUID in ai_mall_file_usages.ai_mall_file_id. Restricts attachment records by file."},"usage_domain":{"type":"string","description":"Filter by usage_domain (e.g., 'product', 'promotion', 'article'). Enables audit/search by logical resource type."},"usage_field":{"type":"string","description":"Filter by usage_field (e.g., 'thumbnail', 'cover_image'). Supports attachment lookup per field/role."},"entity_id":{"type":"string","format":"uuid","description":"Filter by UUID of linked business entity. Allows audit of all file associations for one entity."},"created_at":{"type":"string","format":"date-time","description":"Filter by date when usage link was created. Supports time-based audit/review."}},"required":[],"description":"Request schema for searching/listing ai_mall_file_usages records via PATCH /ai-mall/fileUsages. Each property is a permissible filter by actual Prisma schema columns, enabling multi-attribute attachment index retrieval."},"IPageAiMallFileUsages":{"type":"object","properties":{"pagination":{"$ref":"#/components/schemas/IPage.IPagination"},"data":{"type":"array","items":{"$ref":"#/components/schemas/IAiMallFileUsages"},"description":"Paged ai_mall_file_usages record results. Each record represents one file resource attachment (join to ai_mall_files and any business entity)."}},"required":["pagination","data"],"description":"Paginated result of ai_mall_file_usages query. Follows IPage<T> convention, records are of IAiMallFileUsages type."},"IAiMallFileUsages":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Primary key for usage record (UUID).\n\nFrom ai_mall_file_usages.id"},"ai_mall_file_id":{"type":"string","format":"uuid","description":"Foreign key to file (UUID).\n\nFrom ai_mall_file_usages.ai_mall_file_id"},"usage_domain":{"type":"string","description":"Domain of usage, e.g., 'product', 'article', 'banner'. Used for resource type linkage, not constrained.\n\nFrom ai_mall_file_usages.usage_domain"},"usage_field":{"type":"string","description":"Specific field context for the attachment, e.g., 'cover_image'.\n\nFrom ai_mall_file_usages.usage_field"},"entity_id":{"type":"string","format":"uuid","description":"UUID of attached business entity (product, promotion, etc.).\n\nFrom ai_mall_file_usages.entity_id"},"created_at":{"type":"string","format":"date-time","description":"Timestamp when association was created. For audit trace.\n\nFrom ai_mall_file_usages.created_at"}},"required":["id","ai_mall_file_id","usage_domain","usage_field","entity_id","created_at"],"description":"Single attachment/link record for file resource metadata in ai_mall_file_usages table. Each instance traces one business domain file association, not business data itself."},"IAiMallFileUsages.ICreate":{"type":"object","properties":{"ai_mall_file_id":{"type":"string","format":"uuid","description":"Foreign key to existing file record (UUID). Required for linkage.\n\nFrom ai_mall_file_usages.ai_mall_file_id"},"usage_domain":{"type":"string","description":"Domain context for file use (e.g., 'product', 'promotion').\n\nFrom ai_mall_file_usages.usage_domain."},"usage_field":{"type":"string","description":"Specific field context (e.g., 'thumbnail', 'avatar').\n\nFrom ai_mall_file_usages.usage_field."},"entity_id":{"type":"string","format":"uuid","description":"UUID of business entity to attach file to.\n\nFrom ai_mall_file_usages.entity_id."},"created_at":{"type":"string","format":"date-time","description":"Link creation timestamp (ISO8601). For audit and tracking.\n\nFrom ai_mall_file_usages.created_at."}},"required":["ai_mall_file_id","usage_domain","usage_field","entity_id","created_at"],"description":"Request schema for creating ai_mall_file_usages attachment/link record. All properties must match ai_mall_file_usages schema (except id, which is auto).\n\nUsed for POST /ai-mall/fileUsages."},"IAiMallFileUsages.IUpdate":{"type":"object","properties":{"ai_mall_file_id":{"type":"string","format":"uuid","description":"Update linked file for usage (UUID).\n\nFrom ai_mall_file_usages.ai_mall_file_id."},"usage_domain":{"type":"string","description":"Update to new domain context as per business logic (e.g., 'product').\n\nFrom ai_mall_file_usages.usage_domain."},"usage_field":{"type":"string","description":"Update to new field context for file attachment.\n\nFrom ai_mall_file_usages.usage_field."},"entity_id":{"type":"string","format":"uuid","description":"Update attached business entity ID.\n\nFrom ai_mall_file_usages.entity_id."}},"required":[],"description":"Partial update schema for ai_mall_file_usages. Only updatable fields, strictly matching table columns. PUT /ai-mall/fileUsages/{id}. All fields optional, id/created_at immutable."},"IPage.IPagination":{"type":"object","properties":{"current":{"type":"integer","format":"uint32","description":"Current page number of the result set. Part of standard IPage pagination structure."},"limit":{"type":"integer","format":"uint32","description":"Maximum number of records per page. Used for UI and backend page size determination."},"records":{"type":"integer","format":"uint32","description":"Total number of records in the database for this query. Used to determine pagination page counts."},"pages":{"type":"integer","format":"uint32","description":"Total number of available pages (ceil(records/limit)). Allows frontend to determine last/next."}},"required":["current","limit","records","pages"],"description":"Pagination meta-information for paged result sets. Used in IPage<T>, applies to all paginated list components for mall API."}},"authorization":[{"name":"customer","description":"Can browse products, manage shopping cart, place orders, view order history, write reviews/inquiries, manage personal information, and interact with AI-driven personalized features."},{"name":"seller","description":"Can manage storefront and products, handle inventory and orders, view analytics, respond to inquiries/reviews, participate in AI-driven promotional and recommendation features."},{"name":"admin","description":"Full backend access: manages all users, sellers, channels, categories, site-wide analytics, approval workflows, compliance, and oversees AI-driven system functions and configuration."}]}},"created_at":"2025-07-24T19:25:05.598Z","reason":"Step to the interface designing after DB schema generation","step":0},"tokenUsage":{"facade":{"aggregate":{"total":2938929,"input":{"total":2779746,"cached":103168},"output":{"total":159183,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":2938929,"input":{"total":2779746,"cached":103168},"output":{"total":159183,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"analyze":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"prisma":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"interface":{"aggregate":{"total":2938929,"input":{"total":2779746,"cached":103168},"output":{"total":159183,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":2938929,"input":{"total":2779746,"cached":103168},"output":{"total":159183,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"test":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}},"realize":{"aggregate":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"initialize":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"select":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"cancel":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"call":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}},"describe":{"total":0,"input":{"total":0,"cached":0},"output":{"total":0,"reasoning":0,"accepted_prediction":0,"rejected_prediction":0}}}}}]