/// 댓글(Comment) 정보
model comments {
  id         String    @id @db.Uuid
  post_id    String    @db.Uuid
  user_id    String    @db.Uuid
  parent_id  String?   @db.Uuid
  status     String    @db.VarChar
  created_at DateTime  @db.Timestamptz
  deleted_at DateTime? @db.Timestamptz

  post     posts      @relation(fields: [post_id], references: [id])
  user     users      @relation(fields: [user_id], references: [id])
  parent   comments?  @relation("comment_reply", fields: [parent_id], references: [id])
  children comments[] @relation("comment_reply")

  snapshots comment_snapshots[]
}

/// 댓글 본문/공개범위/스냅샷
model comment_snapshots {
  id         String   @id @db.Uuid
  comment_id String   @db.Uuid
  content    String
  visibility String   @db.VarChar
  created_at DateTime @db.Timestamptz

  comment comments @relation(fields: [comment_id], references: [id])
}
