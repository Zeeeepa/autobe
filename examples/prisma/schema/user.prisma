/// 회원(User) 계정 정보
model users {
  id         String    @id @db.Uuid
  email      String    @unique @db.VarChar
  nickname   String    @unique @db.VarChar
  password   String    @db.VarChar
  status     String    @db.VarChar
  created_at DateTime  @db.Timestamptz
  deleted_at DateTime? @db.Timestamptz

  profile           profiles?
  posts             posts[]
  comments          comments[]
  community_members community_members[]
  events            events_participants[]
  sent_messages     messages[]            @relation("user_sent_messages")
  chatroom_members  chatroom_members[]
  action_logs       user_action_logs[]
  notifications     notifications[]
  recommend_logs    recommend_logs[]
}

/// 프로필(Profile) 정보
model profiles {
  id               String   @id @db.Uuid
  user_id          String   @unique @db.Uuid
  profile_media_id String?  @db.Uuid
  bio              String?
  visibility       String   @db.VarChar
  is_anonymous     Boolean  @db.Boolean
  created_at       DateTime @db.Timestamptz

  user          users          @relation(fields: [user_id], references: [id])
  profile_media media?         @relation(fields: [profile_media_id], references: [id])
  interests     profile_tags[]
}
