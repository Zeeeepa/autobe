/// 커뮤니티 기반 이벤트 정보
model events {
  id           String   @id @db.Uuid
  community_id String   @db.Uuid
  title        String   @db.VarChar
  description  String?
  schedule     DateTime
  location     String?
  is_offline   Boolean  @db.Boolean
  created_at   DateTime @db.Timestamptz

  community    communities           @relation(fields: [community_id], references: [id])
  participants events_participants[]
}

/// 이벤트 참여자/참가신청 상세 (N:M + 참가신청일)
model events_participants {
  id        String   @id @db.Uuid
  event_id  String   @db.Uuid
  user_id   String   @db.Uuid
  joined_at DateTime @db.Timestamptz

  event events @relation(fields: [event_id], references: [id])
  user  users  @relation(fields: [user_id], references: [id])

  @@unique([event_id, user_id])
}
